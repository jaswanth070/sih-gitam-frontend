{"version":3,"sources":["../../../../lib/requests-service.ts","../../../../lib/ws-url.ts","../../../../components/requests/request-progress.tsx","../../../../components/modals/status-change-modal.tsx","../../../../app/requests/%5Bid%5D/page.tsx"],"sourcesContent":["/**\r\n * Requests Service API Client\r\n * Handles all communication with the Requests microservice\r\n */\r\n\r\nimport { authService } from \"./auth-service\"\r\nimport { buildRequestsBaseUrl } from \"./ws-url\"\r\n\r\nconst BASE_URL = buildRequestsBaseUrl()\r\nconst ACCESS_TOKEN_KEY = \"sih_access_token\"\r\n\r\nexport interface BOMItem {\r\n  id?: number\r\n  item_name: string\r\n  quantity: number\r\n}\r\n\r\nexport interface AdditionalItem {\r\n  id?: number\r\n  item_name: string\r\n  quantity: number\r\n}\r\n\r\nexport interface FabricationDetails {\r\n  fab_type: \"3D\" | \"LASER\" | \"OTHER\"\r\n  name: string\r\n  file?: string\r\n}\r\n\r\nexport interface RequestData {\r\n  id: number\r\n  team_id: string\r\n  team_name?: string\r\n  submitted_by_id: string\r\n  category: \"BOM\" | \"ADDITIONAL\" | \"FABRICATION\"\r\n  status: \"Submitted\" | \"Processing\" | \"Issued\" | \"Cannot be Processed\"\r\n  notes: string // legacy field; backend now may send `description`\r\n  description?: string\r\n  remarks?: string | null\r\n  created_at: string\r\n  updated_at: string\r\n  position?: number\r\n  bom_items: BOMItem[]\r\n  additional_items: AdditionalItem[]\r\n  fabrication: FabricationDetails | null\r\n}\r\n\r\nexport interface ListRequestsParams {\r\n  category?: \"BOM\" | \"ADDITIONAL\" | \"FABRICATION\"\r\n  status?: \"Submitted\" | \"Processing\" | \"Issued\" | \"Cannot be Processed\"\r\n  fab_type?: \"3D\" | \"LASER\" | \"OTHER\"\r\n  team_id?: string\r\n  search?: string\r\n  ordering?: string\r\n  page?: number\r\n}\r\n\r\nexport interface TeamRequestsParams {\r\n  category?: \"BOM\" | \"ADDITIONAL\" | \"FABRICATION\"\r\n  status?: \"Submitted\" | \"Processing\" | \"Issued\" | \"Cannot be Processed\"\r\n  fab_type?: \"3D\" | \"LASER\" | \"OTHER\"\r\n  search?: string\r\n  ordering?: string\r\n  page?: number\r\n  page_size?: number\r\n}\r\n\r\nexport interface RequestsListResponse {\r\n  count: number\r\n  next: string | null\r\n  previous: string | null\r\n  results: RequestData[]\r\n}\r\n\r\n// Queue snapshot response (includes explicit paging metadata and optional positions)\r\nexport interface QueueSnapshotResponse {\r\n  count: number\r\n  page: number\r\n  page_size: number\r\n  results: RequestData[]\r\n}\r\n\r\nexport interface QueueSnapshotParams {\r\n  category?: \"BOM\" | \"ADDITIONAL\" | \"FABRICATION\"\r\n  status?: \"Submitted\" | \"Processing\" | \"Issued\" | \"Cannot be Processed\"\r\n  fab_type?: \"3D\" | \"LASER\" | \"OTHER\"\r\n  include_positions?: boolean\r\n  page?: number\r\n  page_size?: number\r\n}\r\n\r\nasync function apiCall<T>(endpoint: string, options: RequestInit = {}): Promise<T> {\r\n  const url = `${BASE_URL}${endpoint}`\r\n  const headers = new Headers(options.headers || {})\r\n\r\n  const accessToken = authService.getAccessToken()\r\n  if (accessToken && !headers.has(\"Authorization\")) {\r\n    headers.set(\"Authorization\", `Bearer ${accessToken}`)\r\n  }\r\n\r\n  let response = await fetch(url, {\r\n    ...options,\r\n    headers,\r\n  })\r\n\r\n  if (response.status === 401) {\r\n    const refreshToken = authService.getRefreshToken()\r\n    if (refreshToken) {\r\n      try {\r\n        const refreshResponse = await fetch(`${BASE_URL}/token/refresh/`, {\r\n          method: \"POST\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify({ refresh: refreshToken }),\r\n        })\r\n\r\n        if (refreshResponse.ok) {\r\n          const { access } = await refreshResponse.json()\r\n          localStorage.setItem(ACCESS_TOKEN_KEY, access)\r\n          headers.set(\"Authorization\", `Bearer ${access}`)\r\n          response = await fetch(url, { ...options, headers })\r\n        }\r\n      } catch (error) {\r\n        authService.clearTokens()\r\n        window.location.href = \"/login\"\r\n      }\r\n    }\r\n  }\r\n\r\n  if (!response.ok) {\r\n    const error = await response.json().catch(() => ({}))\r\n    throw new Error(error.detail || error.message || `API Error: ${response.status}`)\r\n  }\r\n\r\n  return response.json()\r\n}\r\n\r\nexport const requestsService = {\r\n  // List requests with filters\r\n  async listRequests(params?: ListRequestsParams): Promise<RequestsListResponse> {\r\n    const queryParams = new URLSearchParams()\r\n    if (params?.category) queryParams.append(\"category\", params.category)\r\n    if (params?.status) queryParams.append(\"status\", params.status)\r\n    if (params?.fab_type) queryParams.append(\"fab_type\", params.fab_type)\r\n    if (params?.team_id) queryParams.append(\"team_id\", params.team_id)\r\n    if (params?.search) queryParams.append(\"search\", params.search)\r\n    if (params?.ordering) queryParams.append(\"ordering\", params.ordering)\r\n    if (params?.page) queryParams.append(\"page\", params.page.toString())\r\n\r\n    const endpoint = `/requests/?${queryParams.toString()}`\r\n    return apiCall<RequestsListResponse>(endpoint)\r\n  },\r\n\r\n  // Get queue snapshot\r\n  async getQueueSnapshot(includePositions = true): Promise<RequestsListResponse> {\r\n    const endpoint = `/requests/queue/?include_positions=${includePositions}`\r\n    return apiCall<RequestsListResponse>(endpoint)\r\n  },\r\n\r\n  // Filtered queue snapshot (canonical ordering, optional positions, pagination)\r\n  async getFilteredQueueSnapshot(params: QueueSnapshotParams): Promise<QueueSnapshotResponse> {\r\n    const qp = new URLSearchParams()\r\n    if (params.category) qp.append(\"category\", params.category)\r\n    if (params.status) qp.append(\"status\", params.status)\r\n    if (params.fab_type) qp.append(\"fab_type\", params.fab_type)\r\n    if (params.include_positions !== undefined) qp.append(\"include_positions\", params.include_positions ? \"true\" : \"false\")\r\n    if (params.page) qp.append(\"page\", params.page.toString())\r\n    if (params.page_size) qp.append(\"page_size\", params.page_size.toString())\r\n    const endpoint = `/requests/queue/?${qp.toString()}`\r\n    return apiCall<QueueSnapshotResponse>(endpoint)\r\n  },\r\n\r\n  // Get single request\r\n  async getRequest(id: number): Promise<RequestData> {\r\n    return apiCall<RequestData>(`/requests/${id}/`)\r\n  },\r\n\r\n  // Create BOM request\r\n  async createBOMRequest(teamId: string, notes: string, items: BOMItem[]): Promise<RequestData> {\r\n    return apiCall<RequestData>(\"/requests/\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({\r\n        team_id: teamId,\r\n        category: \"BOM\",\r\n        notes,\r\n        bom_items: items,\r\n      }),\r\n    })\r\n  },\r\n\r\n  // Create Additional request\r\n  async createAdditionalRequest(teamId: string, notes: string, items: AdditionalItem[]): Promise<RequestData> {\r\n    return apiCall<RequestData>(\"/requests/\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({\r\n        team_id: teamId,\r\n        category: \"ADDITIONAL\",\r\n        notes,\r\n        additional_items: items,\r\n      }),\r\n    })\r\n  },\r\n\r\n  // Create Fabrication request with file\r\n  async createFabricationRequest(\r\n    teamId: string,\r\n    notes: string,\r\n    fabDetails: FabricationDetails,\r\n    file?: File,\r\n  ): Promise<RequestData> {\r\n    const formData = new FormData()\r\n    formData.append(\"team_id\", teamId)\r\n    formData.append(\"category\", \"FABRICATION\")\r\n    formData.append(\"notes\", notes)\r\n    formData.append(\"fabrication\", JSON.stringify(fabDetails))\r\n    if (file) {\r\n      formData.append(\"file\", file)\r\n    }\r\n\r\n    const accessToken = authService.getAccessToken()\r\n    const headers = new Headers()\r\n    if (accessToken) {\r\n      headers.set(\"Authorization\", `Bearer ${accessToken}`)\r\n    }\r\n\r\n    const response = await fetch(`${BASE_URL}/requests/`, {\r\n      method: \"POST\",\r\n      headers,\r\n      body: formData,\r\n    })\r\n\r\n    if (!response.ok) {\r\n      const error = await response.json().catch(() => ({}))\r\n      throw new Error(error.detail || error.message || `API Error: ${response.status}`)\r\n    }\r\n\r\n    return response.json()\r\n  },\r\n\r\n  // Change request status\r\n  async changeRequestStatus(id: number, toStatus: string, note?: string, remarks?: string): Promise<RequestData> {\r\n    return apiCall<RequestData>(`/requests/${id}/change_status/`, {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({\r\n        to_status: toStatus,\r\n        note: note || \"\",\r\n        ...(remarks !== undefined ? { remarks } : {}),\r\n      }),\r\n    })\r\n  },\r\n\r\n  // List all requests for a specific team via dedicated endpoint\r\n  async listTeamRequests(teamId: string, params?: TeamRequestsParams): Promise<RequestsListResponse> {\r\n    const qp = new URLSearchParams()\r\n    if (params?.category) qp.append(\"category\", params.category)\r\n    if (params?.status) qp.append(\"status\", params.status)\r\n    if (params?.fab_type) qp.append(\"fab_type\", params.fab_type)\r\n    if (params?.search) qp.append(\"search\", params.search)\r\n    if (params?.ordering) qp.append(\"ordering\", params.ordering)\r\n    if (params?.page) qp.append(\"page\", params.page.toString())\r\n    if (params?.page_size) qp.append(\"page_size\", params.page_size.toString())\r\n    const endpoint = `/teams/${teamId}/requests/${qp.toString() ? `?${qp.toString()}` : \"\"}`\r\n    return apiCall<RequestsListResponse>(endpoint)\r\n  },\r\n}\r\n","const DEFAULT_REQUESTS_SERVICE_URL = \"http://127.0.0.1:8001\"\r\nconst FALLBACK_REQUESTS_BASE_URL = `${DEFAULT_REQUESTS_SERVICE_URL}/requests/api`\r\n\r\nfunction normalizeRequestsPath(pathname: string): string {\r\n  let normalized = pathname.replace(/\\/+$/, \"\")\r\n  if (!normalized) return \"/requests/api\"\r\n  if (!normalized.startsWith(\"/\")) normalized = `/${normalized}`\r\n  if (normalized.endsWith(\"/requests/api\")) return normalized\r\n  if (normalized.endsWith(\"/requests\")) return `${normalized}/api`\r\n  if (normalized.endsWith(\"/api\")) return normalized.replace(/\\/api$/, \"/requests/api\")\r\n  return `${normalized}/requests/api`\r\n}\r\n\r\nfunction deriveRequestsPrefix(pathname: string): string {\r\n  const fullPath = normalizeRequestsPath(pathname)\r\n  if (fullPath === \"/requests/api\") return \"/requests\"\r\n  return fullPath.replace(/\\/api$/, \"\") || \"/requests\"\r\n}\r\n\r\n/**\r\n * Build the requests service REST base URL, preferring env and falling back to localhost.\r\n */\r\nexport function buildRequestsBaseUrl(): string {\r\n  const envUrl = process.env.NEXT_PUBLIC_REQUESTS_SERVICE_URL\r\n  if (!envUrl) return FALLBACK_REQUESTS_BASE_URL\r\n\r\n  if (envUrl.startsWith(\"/\")) {\r\n    return normalizeRequestsPath(envUrl)\r\n  }\r\n\r\n  try {\r\n    const url = new URL(envUrl)\r\n    url.pathname = normalizeRequestsPath(url.pathname)\r\n    return `${url.origin}${url.pathname}`\r\n  } catch (err) {\r\n    console.warn(\"[ws-url] invalid NEXT_PUBLIC_REQUESTS_SERVICE_URL, using default\", err)\r\n    return FALLBACK_REQUESTS_BASE_URL\r\n  }\r\n}\r\n\r\n/**\r\n * Build WebSocket URL for the requests service, appending JWT token as query param.\r\n */\r\nexport function buildRequestsWsUrl(token: string): string | null {\r\n  const explicitWs = process.env.NEXT_PUBLIC_REQUESTS_WS_URL\r\n  if (explicitWs) {\r\n    try {\r\n      const wsUrl = new URL(explicitWs)\r\n      wsUrl.searchParams.set(\"token\", token)\r\n      return wsUrl.toString()\r\n    } catch (err) {\r\n      console.warn(\"[ws-url] invalid NEXT_PUBLIC_REQUESTS_WS_URL, falling back\", err)\r\n    }\r\n  }\r\n\r\n  const baseRestUrl = process.env.NEXT_PUBLIC_REQUESTS_SERVICE_URL\r\n  let origin = \"\"\r\n  let prefixPath = \"/requests\"\r\n\r\n  if (baseRestUrl) {\r\n    if (baseRestUrl.startsWith(\"http\")) {\r\n      try {\r\n        const url = new URL(baseRestUrl)\r\n        origin = url.origin\r\n        prefixPath = deriveRequestsPrefix(url.pathname)\r\n      } catch (err) {\r\n        console.warn(\"[ws-url] invalid NEXT_PUBLIC_REQUESTS_SERVICE_URL, using defaults\", err)\r\n      }\r\n    } else {\r\n      prefixPath = deriveRequestsPrefix(baseRestUrl)\r\n    }\r\n  }\r\n\r\n  if (!origin) origin = DEFAULT_REQUESTS_SERVICE_URL\r\n\r\n  const secure = origin.startsWith(\"https://\")\r\n  const protocol = secure ? \"wss\" : \"ws\"\r\n  const host = origin.replace(/^https?:\\/\\//, \"\")\r\n  let wsPath = `${prefixPath}/ws/requests/`\r\n  wsPath = wsPath.replace(/\\/+/g, \"/\")\r\n  if (!wsPath.startsWith(\"/\")) wsPath = `/${wsPath}`\r\n\r\n  return `${protocol}://${host}${wsPath}?token=${encodeURIComponent(token)}`\r\n}\r\n","\"use client\"\r\nimport React from \"react\"\r\n\r\ninterface RequestProgressProps {\r\n  status: string\r\n}\r\n\r\nconst steps = [\"Submitted\", \"Processing\", \"Issued\"]\r\n\r\nexport function RequestProgress({ status }: RequestProgressProps) {\r\n  return (\r\n    <div className=\"flex items-center gap-2\" aria-label=\"Request status progress\">\r\n      {steps.map((step, idx) => {\r\n        const currentIndex = steps.indexOf(status)\r\n        const done = currentIndex >= idx\r\n        const active = currentIndex === idx\r\n        return (\r\n          <React.Fragment key={step}>\r\n            <div\r\n              className={`flex flex-col items-center text-[10px] font-medium ${done ? \"text-[#002449]\" : \"text-gray-400\"}`}\r\n            >\r\n              <div\r\n                className={`h-2.5 w-2.5 rounded-full ${done ? (active ? \"bg-[#f75700]\" : \"bg-[#002449]\") : \"bg-gray-300\"}`}\r\n              />\r\n              <span className=\"mt-1 tracking-wide\">{step}</span>\r\n            </div>\r\n            {idx < steps.length - 1 && (\r\n              <div\r\n                className={`h-px w-6 ${currentIndex > idx ? \"bg-[#002449]\" : \"bg-gray-300\"}`}\r\n                aria-hidden=\"true\"\r\n              />\r\n            )}\r\n          </React.Fragment>\r\n        )\r\n      })}\r\n    </div>\r\n  )\r\n}\r\n","\"use client\"\r\n\r\nimport { useMemo, useState, useEffect } from \"react\"\r\n\r\ninterface StatusChangeModalProps {\r\n  open: boolean\r\n  currentStatus: string\r\n  targetStatus: string\r\n  onClose: () => void\r\n  onConfirm: (remarks?: string) => void\r\n  loading?: boolean\r\n}\r\n\r\nconst SHOULD_REQUIRE_REMARKS = (currentStatus: string, targetStatus: string) => {\r\n  if (targetStatus === \"Cannot be Processed\") return true\r\n  return currentStatus === \"Processing\" && targetStatus === \"Issued\"\r\n}\r\n\r\nexport function StatusChangeModal({\r\n  open,\r\n  currentStatus,\r\n  targetStatus,\r\n  onClose,\r\n  onConfirm,\r\n  loading = false,\r\n}: StatusChangeModalProps) {\r\n  const [remarks, setRemarks] = useState(\"\")\r\n\r\n  useEffect(() => {\r\n    if (open) {\r\n      setRemarks(\"\")\r\n    }\r\n  }, [open, currentStatus, targetStatus])\r\n\r\n  const requiresRemarks = useMemo(\r\n    () => SHOULD_REQUIRE_REMARKS(currentStatus, targetStatus),\r\n    [currentStatus, targetStatus],\r\n  )\r\n\r\n  if (!open) return null\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4\">\r\n      <div className=\"w-full max-w-md rounded-lg bg-white p-6 shadow-xl animate-in fade-in slide-in-from-bottom\">\r\n        <h2 className=\"mb-4 text-lg font-semibold\" style={{ color: \"#002449\" }}>\r\n          Confirm Status Update\r\n        </h2>\r\n\r\n        <div className=\"mb-4 space-y-2 text-sm\">\r\n          <p className=\"text-gray-600\">\r\n            You are changing the request from <span className=\"font-semibold\">{currentStatus}</span> to {\" \"}\r\n            <span className=\"font-semibold\">{targetStatus}</span>.\r\n          </p>\r\n          <p className=\"text-[11px] uppercase tracking-wide text-gray-500\">\r\n            {requiresRemarks ? \"A remark for the team is required before you continue.\" : \"Review the update and confirm when ready.\"}\r\n          </p>\r\n        </div>\r\n\r\n        {requiresRemarks && (\r\n          <div className=\"mb-5 space-y-2\">\r\n            <label className=\"text-xs font-semibold uppercase tracking-wide text-gray-600\">Remarks for Team (required)</label>\r\n            <textarea\r\n              value={remarks}\r\n              onChange={(event) => setRemarks(event.target.value)}\r\n              placeholder=\"Share any guidance or context for the team.\"\r\n              className=\"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[#f75700]/40\"\r\n              rows={3}\r\n            />\r\n            <p className=\"text-[11px] text-gray-500\">\r\n              These remarks are visible to the team on their dashboard and request view.\r\n            </p>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"flex gap-3\">\r\n          <button\r\n            type=\"button\"\r\n            onClick={onClose}\r\n            disabled={loading}\r\n            className=\"flex-1 rounded-lg border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 transition hover:bg-gray-50 disabled:cursor-not-allowed\"\r\n          >\r\n            Cancel\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => onConfirm(remarks.trim() || undefined)}\r\n            disabled={loading}\r\n            className=\"flex-1 rounded-lg bg-[#f75700] px-4 py-2 text-sm font-semibold text-white transition hover:bg-[#f75700]/90 disabled:cursor-not-allowed disabled:opacity-60\"\r\n          >\r\n            {loading ? \"Updating...\" : \"Confirm\"}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","\"use client\"\r\n\r\nimport { useEffect, useState, useCallback } from \"react\"\r\nimport { useRouter, useParams } from \"next/navigation\"\r\nimport { authService } from \"@/lib/auth-service\"\r\nimport { requestsService, type RequestData } from \"@/lib/requests-service\"\r\nimport { StatusChangeModal } from \"@/components/modals/status-change-modal\"\r\nimport { RequestProgress } from \"@/components/requests/request-progress\"\r\n\r\nexport default function RequestDetailPage() {\r\n  const router = useRouter()\r\n  const params = useParams()\r\n  const requestId = params.id as string\r\n  const [request, setRequest] = useState<RequestData | null>(null)\r\n  const [loading, setLoading] = useState(true)\r\n  const [error, setError] = useState(\"\")\r\n  const [changingStatus, setChangingStatus] = useState(false)\r\n  const [pendingStatus, setPendingStatus] = useState<string | null>(null)\r\n\r\n  const user = authService.getCurrentUser()\r\n\r\n  useEffect(() => {\r\n    const token = authService.getAccessToken()\r\n    if (!token) {\r\n      router.push(\"/login\")\r\n      return\r\n    }\r\n  }, [router])\r\n\r\n  useEffect(() => {\r\n    const fetchRequest = async () => {\r\n      try {\r\n        setLoading(true)\r\n        const data = await requestsService.getRequest(Number.parseInt(requestId))\r\n        setRequest(data)\r\n      } catch (err) {\r\n        console.error(\"[v0] Error fetching request:\", err)\r\n        setError(err instanceof Error ? err.message : \"Failed to load request\")\r\n      } finally {\r\n        setLoading(false)\r\n      }\r\n    }\r\n\r\n    fetchRequest()\r\n  }, [requestId])\r\n\r\n  const shouldCollectRemarks = useCallback((currentStatus: string, nextStatus: string) => {\r\n    if (nextStatus === \"Cannot be Processed\") return true\r\n    return currentStatus === \"Processing\" && nextStatus === \"Issued\"\r\n  }, [])\r\n\r\n  const handleStatusChange = useCallback(\r\n    async (newStatus: string, remarks?: string) => {\r\n      if (!request) return\r\n\r\n      try {\r\n        setChangingStatus(true)\r\n        const updated = await requestsService.changeRequestStatus(\r\n          request.id,\r\n          newStatus,\r\n          `Status changed to ${newStatus}`,\r\n          remarks,\r\n        )\r\n        setRequest(updated)\r\n        setPendingStatus(null)\r\n      } catch (err) {\r\n        setError(err instanceof Error ? err.message : \"Failed to update status\")\r\n      } finally {\r\n        setChangingStatus(false)\r\n      }\r\n    },\r\n    [request],\r\n  )\r\n\r\n  const initiateStatusChange = useCallback(\r\n    (nextStatus: string) => {\r\n      if (!request) return\r\n      if (shouldCollectRemarks(request.status, nextStatus)) {\r\n        setPendingStatus(nextStatus)\r\n        return\r\n      }\r\n\r\n      void handleStatusChange(nextStatus)\r\n    },\r\n    [handleStatusChange, request, shouldCollectRemarks],\r\n  )\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-[40vh] flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"mx-auto mb-4 h-10 w-10 animate-spin rounded-full border-4 border-gray-300 border-t-[#f75700]\" />\r\n          <p className=\"text-gray-600 font-medium\">Loading request...</p>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  if (!request) {\r\n    return (\r\n      <div className=\"p-6\">\r\n        <p className=\"text-sm text-gray-600\">{error || \"Request not found\"}</p>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const canChangeStatus = user?.is_poc || user?.is_admin\r\n  const nextStatus =\r\n    request.status === \"Submitted\"\r\n      ? [\"Processing\", \"Cannot be Processed\"]\r\n      : request.status === \"Processing\"\r\n        ? [\"Issued\", \"Cannot be Processed\"]\r\n        : []\r\n\r\n  const accent = accentColor(request.status)\r\n  const accentSoft = `${accent}1a`\r\n  const headerGradient = `linear-gradient(135deg, ${accentSoft} 0%, #ffffff 65%)`\r\n  const headingText = request.notes.trim().length > 0\r\n    ? request.notes\r\n    : request.description && request.description.trim().length > 0\r\n      ? request.description\r\n      : \"Request\"\r\n  const detailedCopy = request.description && request.description.trim().length > 0\r\n    ? request.description\r\n    : request.notes.trim().length > 0\r\n      ? request.notes\r\n      : \"No additional details were provided.\"\r\n  const createdAt = new Date(request.created_at).toLocaleString()\r\n  const updatedAt = new Date(request.updated_at).toLocaleString()\r\n  const queuePosition = request.position ? `#${request.position}` : \"--\"\r\n  const teamName = request.team_name || \"Unassigned Team\"\r\n\r\n  return (\r\n    <>\r\n      <div className=\"mx-auto max-w-6xl space-y-8 pb-12\">\r\n        {error && (\r\n          <div className=\"rounded-2xl border border-red-200 bg-red-50 p-4 shadow-sm\">\r\n            <p className=\"text-sm text-red-800\">{error}</p>\r\n          </div>\r\n        )}\r\n\r\n        <section className=\"relative overflow-hidden rounded-3xl border border-gray-200 bg-white shadow-xl\">\r\n          <div className=\"absolute inset-0\" style={{ backgroundImage: headerGradient }} />\r\n          <div className=\"relative space-y-6 p-8 md:p-12\">\r\n            <div className=\"flex flex-wrap items-center gap-3\">\r\n              <span\r\n                className=\"rounded-full px-3 py-1 text-xs font-semibold text-white\"\r\n                style={{ backgroundColor: categoryColor(request.category) }}\r\n              >\r\n                {request.category}\r\n              </span>\r\n              <span\r\n                className=\"rounded-full px-3 py-1 text-xs font-semibold text-white\"\r\n                style={{ backgroundColor: accentColor(request.status) }}\r\n              >\r\n                {request.status}\r\n              </span>\r\n            </div>\r\n\r\n            <div className=\"space-y-4\">\r\n              <h1 className=\"text-3xl font-bold tracking-tight text-gray-900 md:text-4xl\">{headingText}</h1>\r\n              <div className=\"flex flex-wrap items-center gap-2 text-xs font-semibold text-gray-600\">\r\n                <span className=\"inline-flex items-center gap-2 rounded-full bg-white/70 px-3 py-1 shadow-sm\">\r\n                  <span className=\"uppercase tracking-wide text-gray-500\">Request</span>\r\n                  <span className=\"text-gray-900\">#{request.id}</span>\r\n                </span>\r\n                <span className=\"inline-flex items-center gap-2 rounded-full bg-white/70 px-3 py-1 shadow-sm\">\r\n                  <span className=\"uppercase tracking-wide text-gray-500\">Team</span>\r\n                  <span className=\"text-gray-900\">{teamName}</span>\r\n                </span>\r\n                <span className=\"inline-flex items-center gap-2 rounded-full bg-white/70 px-3 py-1 shadow-sm\">\r\n                  <span className=\"uppercase tracking-wide text-gray-500\">Queue</span>\r\n                  <span className=\"text-gray-900\">{queuePosition}</span>\r\n                </span>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex flex-wrap items-center gap-4 rounded-2xl border border-white/60 bg-white/70 px-4 py-3 shadow-inner\">\r\n              <span className=\"text-xs font-semibold uppercase tracking-wide text-gray-500\">Progress</span>\r\n              <RequestProgress status={request.status} />\r\n            </div>\r\n\r\n            <div className=\"grid gap-4 text-xs font-semibold text-gray-700 sm:grid-cols-2 lg:grid-cols-4\">\r\n              <MetaBlock label=\"Created\" value={createdAt} />\r\n              <MetaBlock label=\"Updated\" value={updatedAt} />\r\n              <MetaBlock label=\"Category\" value={request.category} />\r\n              <MetaBlock label=\"Status\" value={request.status} />\r\n            </div>\r\n          </div>\r\n        </section>\r\n\r\n        <div className=\"grid gap-6 lg:grid-cols-[minmax(0,2fr)_minmax(0,1fr)]\">\r\n          <div className=\"space-y-6\">\r\n            <Section title=\"Overview\">\r\n              <p className=\"whitespace-pre-line text-sm leading-relaxed text-gray-700\">{detailedCopy}</p>\r\n            </Section>\r\n\r\n            {request.remarks && (\r\n              <Section title=\"Team Remarks\">\r\n                <div className=\"rounded-xl border border-orange-200 bg-orange-50 px-4 py-4 text-sm text-gray-800 shadow-sm\">\r\n                  <p className=\"text-xs font-semibold uppercase tracking-wide text-[#f75700]\">Latest Remark</p>\r\n                  <p className=\"mt-2 whitespace-pre-line leading-relaxed\">{request.remarks}</p>\r\n                </div>\r\n              </Section>\r\n            )}\r\n\r\n            {request.bom_items && request.bom_items.length > 0 && (\r\n              <Section title=\"BOM Items\">\r\n                <div className=\"overflow-hidden rounded-xl border border-gray-100\">\r\n                  <table className=\"min-w-full divide-y divide-gray-100 text-sm\">\r\n                    <thead className=\"bg-gray-50\">\r\n                      <tr>\r\n                        <th className=\"px-4 py-2 text-left text-xs font-semibold uppercase tracking-wide text-gray-500\">Item Name</th>\r\n                        <th className=\"px-4 py-2 text-right text-xs font-semibold uppercase tracking-wide text-gray-500\">Qty</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody className=\"divide-y divide-gray-100 bg-white\">\r\n                      {request.bom_items.map((item: any, idx: number) => (\r\n                        <tr key={idx} className=\"hover:bg-gray-50\">\r\n                          <td className=\"px-4 py-2 text-sm font-medium text-gray-800\">{item.item_name}</td>\r\n                          <td className=\"px-4 py-2 text-right font-semibold text-gray-900\">{item.quantity}</td>\r\n                        </tr>\r\n                      ))}\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              </Section>\r\n            )}\r\n\r\n            {request.additional_items && request.additional_items.length > 0 && (\r\n              <Section title=\"Additional Items\">\r\n                <div className=\"overflow-hidden rounded-xl border border-gray-100\">\r\n                  <table className=\"min-w-full divide-y divide-gray-100 text-sm\">\r\n                    <thead className=\"bg-gray-50\">\r\n                      <tr>\r\n                        <th className=\"px-4 py-2 text-left text-xs font-semibold uppercase tracking-wide text-gray-500\">Item Name</th>\r\n                        <th className=\"px-4 py-2 text-right text-xs font-semibold uppercase tracking-wide text-gray-500\">Qty</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody className=\"divide-y divide-gray-100 bg-white\">\r\n                      {request.additional_items.map((item: any, idx: number) => (\r\n                        <tr key={idx} className=\"hover:bg-gray-50\">\r\n                          <td className=\"px-4 py-2 text-sm font-medium text-gray-800\">{item.item_name}</td>\r\n                          <td className=\"px-4 py-2 text-right font-semibold text-gray-900\">{item.quantity}</td>\r\n                        </tr>\r\n                      ))}\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              </Section>\r\n            )}\r\n\r\n            {request.fabrication && (\r\n              <Section title=\"Fabrication Details\">\r\n                <div className=\"grid gap-3 text-sm sm:grid-cols-2\">\r\n                  <MetaBlock label=\"Type\" value={request.fabrication.fab_type} />\r\n                  <MetaBlock label=\"Name\" value={request.fabrication.name} />\r\n                </div>\r\n                {request.fabrication.file && (\r\n                  <div className=\"rounded-xl border border-gray-200 bg-white px-4 py-3 shadow-sm\">\r\n                    <p className=\"text-xs font-semibold uppercase tracking-wide text-gray-500\">Attachment</p>\r\n                    <a\r\n                      href={request.fabrication.file}\r\n                      target=\"_blank\"\r\n                      rel=\"noopener noreferrer\"\r\n                      className=\"mt-2 inline-flex items-center gap-2 rounded-lg border border-[#002449]/20 bg-[#002449]/5 px-3 py-2 text-sm font-semibold text-[#002449] transition hover:bg-[#002449]/10\"\r\n                    >\r\n                      Download fabrication file\r\n                    </a>\r\n                  </div>\r\n                )}\r\n              </Section>\r\n            )}\r\n          </div>\r\n\r\n          <aside className=\"space-y-6\">\r\n            <div className=\"rounded-2xl border border-gray-200 bg-white p-6 shadow-sm\">\r\n              <h2 className=\"text-sm font-semibold text-[#002449]\">Key Details</h2>\r\n              <dl className=\"mt-4 space-y-3 text-sm\">\r\n                <div className=\"flex items-start justify-between gap-4\">\r\n                  <dt className=\"text-xs font-medium uppercase tracking-wide text-gray-500\">Request ID</dt>\r\n                  <dd className=\"text-sm font-semibold text-gray-900\">#{request.id}</dd>\r\n                </div>\r\n                <div className=\"flex items-start justify-between gap-4\">\r\n                  <dt className=\"text-xs font-medium uppercase tracking-wide text-gray-500\">Team</dt>\r\n                  <dd className=\"max-w-[12rem] text-right text-sm font-semibold text-gray-900\">{teamName}</dd>\r\n                </div>\r\n                <div className=\"flex items-start justify-between gap-4\">\r\n                  <dt className=\"text-xs font-medium uppercase tracking-wide text-gray-500\">Queue Position</dt>\r\n                  <dd className=\"text-sm font-semibold text-gray-900\">{queuePosition}</dd>\r\n                </div>\r\n                <div className=\"flex items-start justify-between gap-4\">\r\n                  <dt className=\"text-xs font-medium uppercase tracking-wide text-gray-500\">Created</dt>\r\n                  <dd className=\"max-w-[12rem] text-right text-sm font-semibold text-gray-900\">{createdAt}</dd>\r\n                </div>\r\n                <div className=\"flex items-start justify-between gap-4\">\r\n                  <dt className=\"text-xs font-medium uppercase tracking-wide text-gray-500\">Updated</dt>\r\n                  <dd className=\"max-w-[12rem] text-right text-sm font-semibold text-gray-900\">{updatedAt}</dd>\r\n                </div>\r\n              </dl>\r\n            </div>\r\n\r\n            {canChangeStatus && nextStatus.length > 0 && (\r\n              <div className=\"rounded-2xl border border-gray-200 bg-white p-6 shadow-sm\">\r\n                <h2 className=\"text-sm font-semibold text-[#f75700]\">Update Status</h2>\r\n                <p className=\"mt-2 text-sm text-gray-600\">\r\n                  Choose the next stage for this request. You can add remarks to guide the team before confirming.\r\n                </p>\r\n                <div className=\"mt-4 flex flex-wrap gap-2\">\r\n                  {nextStatus.map((status) => (\r\n                    <button\r\n                      key={status}\r\n                      onClick={() => initiateStatusChange(status)}\r\n                      disabled={changingStatus}\r\n                      className=\"rounded-lg px-4 py-2 text-xs font-semibold text-white shadow-sm transition disabled:cursor-not-allowed disabled:opacity-70\"\r\n                      style={{ backgroundColor: status === \"Cannot be Processed\" ? \"#f75700\" : \"#078e31\" }}\r\n                    >\r\n                      {changingStatus\r\n                        ? \"Updating...\"\r\n                        : status === \"Cannot be Processed\"\r\n                          ? \"Reject\"\r\n                          : `Mark ${status}`}\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </aside>\r\n        </div>\r\n      </div>\r\n\r\n      {request && pendingStatus && (\r\n        <StatusChangeModal\r\n          open={!!pendingStatus}\r\n          currentStatus={request.status}\r\n          targetStatus={pendingStatus}\r\n          loading={changingStatus}\r\n          onClose={() => setPendingStatus(null)}\r\n          onConfirm={async (remarks) => {\r\n            await handleStatusChange(pendingStatus, remarks)\r\n          }}\r\n        />\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\nfunction categoryColor(cat: string) {\r\n  if (cat === \"BOM\") return \"#002449\"\r\n  if (cat === \"ADDITIONAL\") return \"#007367\"\r\n  return \"#f75700\"\r\n}\r\n\r\nfunction accentColor(status: string) {\r\n  if (status === \"Submitted\") return \"#f75700\"\r\n  if (status === \"Processing\") return \"#002449\"\r\n  if (status === \"Issued\") return \"#078e31\"\r\n  return \"#6b7280\"\r\n}\r\n\r\nfunction MetaBlock({ label, value }: { label: string; value: string }) {\r\n  return (\r\n    <div className=\"rounded-lg border border-gray-200 bg-white px-4 py-3 shadow-sm\">\r\n      <p className=\"text-[10px] font-semibold uppercase tracking-wide text-gray-500\">{label}</p>\r\n      <p className=\"mt-2 text-sm font-semibold text-gray-900 break-words\">{value}</p>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction Section({ title, children }: { title: string; children: React.ReactNode }) {\r\n  return (\r\n    <section className=\"rounded-2xl border border-gray-200 bg-white p-6 shadow-sm\">\r\n      <h2 className=\"text-base font-semibold text-[#002449]\">{title}</h2>\r\n      <div className=\"mt-4 space-y-4\">{children}</div>\r\n    </section>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}