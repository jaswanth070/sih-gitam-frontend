module.exports=[83694,a=>{"use strict";var b=a.i(46447),c=a.i(30564),d=a.i(1470),e=a.i(40695),f=a.i(3130),g=a.i(5522),h=a.i(98043),i=a.i(33955),j=a.i(97895);function k({...a}){return(0,b.jsx)(h.Root,{"data-slot":"dialog",...a})}function l({...a}){return(0,b.jsx)(h.Portal,{"data-slot":"dialog-portal",...a})}function m({className:a,...c}){return(0,b.jsx)(h.Overlay,{"data-slot":"dialog-overlay",className:(0,j.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...c})}function n({className:a,children:c,showCloseButton:d=!0,...e}){return(0,b.jsxs)(l,{"data-slot":"dialog-portal",children:[(0,b.jsx)(m,{}),(0,b.jsxs)(h.Content,{"data-slot":"dialog-content",className:(0,j.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",a),...e,children:[c,d&&(0,b.jsxs)(h.Close,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,b.jsx)(i.XIcon,{}),(0,b.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}var o=a.i(61237);let p=(0,o.default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var q=a.i(12582);let r=(0,o.default)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),s=(0,o.default)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);function t({open:a,type:d,title:e,message:f,onClose:g,autoClose:h=!0,autoCloseDuration:i=3e3}){(0,c.useEffect)(()=>{if(a&&h&&"error"!==d){let a=setTimeout(g,i);return()=>clearTimeout(a)}},[a,h,i,g,d]);let j={success:(0,b.jsx)(p,{className:"w-6 h-6 text-green-600"}),error:(0,b.jsx)(q.AlertCircle,{className:"w-6 h-6 text-red-600"}),warning:(0,b.jsx)(r,{className:"w-6 h-6 text-yellow-600"}),info:(0,b.jsx)(s,{className:"w-6 h-6 text-blue-600"})};return(0,b.jsx)(k,{open:a,onOpenChange:g,children:(0,b.jsx)(n,{className:"sm:max-w-md",children:(0,b.jsx)("div",{className:`p-6 rounded-lg border ${{success:"bg-green-50 border-green-200",error:"bg-red-50 border-red-200",warning:"bg-yellow-50 border-yellow-200",info:"bg-blue-50 border-blue-200"}[d]}`,children:(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:"flex-shrink-0 mt-1",children:j[d]}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"font-semibold text-foreground text-lg",children:e}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-2",children:f})]})]})})})})}var u=a.i(11634);let v=(0,o.default)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),w=(0,o.default)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);var x=a.i(26345),y=a.i(23305);let z=(0,o.default)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var A=a.i(80028);function B(){let a=(0,d.useRouter)(),[h,i]=(0,c.useState)("login"),[j,k]=(0,c.useState)(""),[l,m]=(0,c.useState)(""),[n,o]=(0,c.useState)(!1),[p,q]=(0,c.useState)(""),[r,s]=(0,c.useState)(""),[B,C]=(0,c.useState)(""),[D,E]=(0,c.useState)(!1),[F,G]=(0,c.useState)(!1),[H,I]=(0,c.useState)(!1),[J,K]=(0,c.useState)(null);(0,c.useEffect)(()=>{u.authService.getAccessToken()&&a.push("/dashboard")},[a]);let L=async b=>{b.preventDefault(),I(!0);try{await u.authService.login({email:j,password:l}),await u.authService.initializeUserContext(!0),K({type:"success",title:"Success",message:"Logged in successfully!"}),setTimeout(()=>a.push("/dashboard"),1500)}catch(a){a.message.includes("first_login")||a.message.includes("password_reset")?(i("email"),K({type:"info",title:"First Login",message:"Please set up your password using OTP"})):K({type:"error",title:"Login Failed",message:a.message||"Invalid credentials"})}finally{I(!1)}},M=async a=>{a.preventDefault(),I(!0);try{await u.authService.requestOTP(j),i("otp-password"),K({type:"success",title:"OTP Sent",message:"Check your email for the OTP (also visible in dev logs)"})}catch(a){K({type:"error",title:"Failed",message:a.message||"Could not send OTP"})}finally{I(!1)}},N=async b=>{b.preventDefault(),I(!0);try{await u.authService.verifyOTPAndSetPassword({email:j,otp:p,new_password:r}),await u.authService.autoLogin(j,r),await u.authService.initializeUserContext(!0),a.push("/confirm-team")}catch(a){K({type:"error",title:"Verification Failed",message:a.message||"Invalid OTP or password"})}finally{I(!1)}},O=a=>a.length>=10&&/[A-Z]/.test(a)&&/\d/.test(a)&&/[!@#$%^&*]/.test(a);return(0,b.jsxs)("div",{className:"min-h-[calc(100vh-11rem)] w-full bg-white flex items-center justify-center px-4",children:[(0,b.jsxs)(f.Card,{className:"w-full mt-32 max-w-md p-6 sm:p-7 shadow-sm border border-gray-200 rounded-xl",children:[(0,b.jsxs)("div",{className:"flex items-center justify-center mb-2",children:[(0,b.jsx)(A.default,{src:"/sih_logo.jpeg",alt:"SIH Logo",width:110,height:110,className:"h-20 w-auto",priority:!0}),(0,b.jsx)("div",{className:"h-14 w-px bg-gray-300 mx-4"}),(0,b.jsx)(A.default,{src:"/gitam_logo.png",alt:"GITAM Logo",width:130,height:70,className:"h-18 w-auto",priority:!0})]}),(0,b.jsxs)("div",{className:"text-center mb-2",children:[(0,b.jsxs)("h1",{className:"text-2xl font-extrabold tracking-tight text-[#002449]",children:["SIH ",(0,b.jsx)("span",{className:"text-[#f75700]",children:"2025"})," Grand Final"]}),(0,b.jsxs)("div",{className:"mt-2 flex items-center justify-center gap-2",children:[(0,b.jsx)("span",{className:"h-px w-8 bg-[#f75700]"}),(0,b.jsx)("span",{className:"text-[14px] font-medium text-gray-500 uppercase tracking-wider",children:"GITAM"}),(0,b.jsx)("span",{className:"h-px w-8 bg-[#078e31]"})]})]}),"login"===h&&(0,b.jsxs)("form",{onSubmit:L,className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("label",{className:"text-sm font-medium flex items-center gap-2 text-[#002449]",children:[(0,b.jsx)(x.Mail,{className:"w-4 h-4"})," Email"]}),(0,b.jsx)(g.Input,{type:"email",value:j,onChange:a=>k(a.target.value),placeholder:"your.email@gitam.in",className:"border-gray-300 focus:border-[#f75700]",required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("label",{className:"text-sm font-medium flex items-center gap-2 text-[#002449]",children:[(0,b.jsx)(w,{className:"w-4 h-4"})," Password"]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(g.Input,{type:n?"text":"password",value:l,onChange:a=>m(a.target.value),placeholder:"Enter your password",className:"border-gray-300 focus:border-[#f75700] pr-10",required:!0}),(0,b.jsx)("button",{type:"button",onClick:()=>o(!n),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:n?(0,b.jsx)(z,{className:"w-4 h-4"}):(0,b.jsx)(y.Eye,{className:"w-4 h-4"})})]})]})]}),(0,b.jsxs)(e.Button,{type:"submit",disabled:H,className:"bg-[#f75700] hover:bg-[#e64d00] text-white font-semibold w-full py-3",children:[H?"Logging in...":"Login",!H&&(0,b.jsx)(v,{className:"w-4 h-4 ml-2"})]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,b.jsx)("div",{className:"w-full border-t border-gray-200"})}),(0,b.jsx)("div",{className:"relative flex justify-center",children:(0,b.jsx)("span",{className:"px-2 bg-white text-gray-400 text-[11px]",children:"FIRST TIME?"})})]}),(0,b.jsx)(e.Button,{type:"button",className:"border border-[#002449] hover:bg-[#002449]/5 hover:text-[#002449] font-semibold w-full py-3",onClick:()=>{i("email"),k(""),m("")},children:"Use OTP Setup"})]}),"email"===h&&(0,b.jsxs)("form",{onSubmit:M,className:"space-y-5",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("label",{className:"text-sm font-medium flex items-center gap-2 text-[#002449]",children:[(0,b.jsx)(x.Mail,{className:"w-4 h-4"})," Email Address"]}),(0,b.jsx)(g.Input,{type:"email",value:j,onChange:a=>k(a.target.value),placeholder:"your.email@gitam.in",className:"border-gray-300 focus:border-[#f75700]",required:!0})]}),(0,b.jsx)(e.Button,{type:"submit",disabled:H||!j,className:"bg-[#f75700] hover:bg-[#e64d00] text-white font-semibold w-full py-3",children:H?"Sending OTP...":"Send OTP"}),(0,b.jsx)(e.Button,{type:"button",variant:"ghost",onClick:()=>{i("login"),k("")},className:"w-full text-gray-500 hover:text-gray-700",children:"Back to Login"})]}),"otp-password"===h&&(0,b.jsxs)("form",{onSubmit:N,className:"space-y-5",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-[#002449]",children:"OTP Code"}),(0,b.jsx)(g.Input,{type:"text",value:p,onChange:a=>q(a.target.value.slice(0,6)),placeholder:"000000",maxLength:6,className:"border-gray-300 focus:border-[#f75700] text-center text-lg tracking-wider font-semibold",required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("label",{className:"text-sm font-medium flex items-center gap-2 text-[#002449]",children:[(0,b.jsx)(w,{className:"w-4 h-4"})," New Password"]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(g.Input,{type:D?"text":"password",value:r,onChange:a=>s(a.target.value),placeholder:"Min 10 chars, 1 uppercase, 1 number, 1 special",className:"border-gray-300 focus:border-[#f75700] pr-10",required:!0}),(0,b.jsx)("button",{type:"button",onClick:()=>E(!D),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:D?(0,b.jsx)(z,{className:"w-4 h-4"}):(0,b.jsx)(y.Eye,{className:"w-4 h-4"})})]}),(0,b.jsx)("p",{className:`text-[11px] ${O(r)?"text-green-600":"text-gray-400"}`,children:"âœ“ 10+ chars, 1 uppercase, 1 number, 1 special"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-[#002449]",children:"Confirm Password"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(g.Input,{type:F?"text":"password",value:B,onChange:a=>C(a.target.value),placeholder:"Repeat password",className:"border-gray-300 focus:border-[#f75700] pr-10",required:!0}),(0,b.jsx)("button",{type:"button",onClick:()=>G(!F),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:F?(0,b.jsx)(z,{className:"w-4 h-4"}):(0,b.jsx)(y.Eye,{className:"w-4 h-4"})})]})]}),(0,b.jsx)(e.Button,{type:"submit",disabled:H||!O(r)||r!==B,className:"bg-[#f75700] hover:bg-[#e64d00] text-white font-semibold w-full py-3",children:H?"Setting Password...":"Set Password"}),(0,b.jsx)(e.Button,{type:"button",variant:"ghost",onClick:()=>{i("email"),q(""),s(""),C("")},className:"w-full text-gray-500 hover:text-gray-700",children:"Back"})]})]}),(0,b.jsx)(t,{open:!!J,type:J?.type||"info",title:J?.title||"",message:J?.message||"",onClose:()=>K(null),autoClose:J?.type!=="error",autoCloseDuration:J?.type==="info"?2e3:3e3})]})}a.s(["default",()=>B],83694)}];

//# sourceMappingURL=app_login_page_tsx_ccc0019b._.js.map