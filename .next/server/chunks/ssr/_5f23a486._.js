module.exports=[11634,48561,a=>{"use strict";function b(a){return{...a}}function c(){}function d(a){b({leaderTeam:a})}function e(){return(void 0)??null}function f(a){b({pocTeams:a})}function g(){let a={};return Array.isArray(a.pocTeams)?a.pocTeams:[]}function h(a){a?.id&&b({pocTeamDetails:{...(void 0)??{},[a.id]:a}})}function i(a){return a?((void 0)??{})[a]??null:null}function j(a){b({adminTeams:a})}function k(){let a={};return Array.isArray(a.adminTeams)?a.adminTeams:[]}function l(a){let b=a.replace(/\/+$/,"");return b?(b.startsWith("/")||(b=`/${b}`),b.endsWith("/auth/api"))?b:b.endsWith("/auth")?`${b}/api`:b.endsWith("/api")?b:`${b}/auth/api`:"/auth/api"}a.s(["clearSessionCache",()=>c,"getStoredAdminTeams",()=>k,"getStoredLeaderTeam",()=>e,"getStoredPOCTeamDetail",()=>i,"getStoredPOCTeams",()=>g,"storeAdminTeams",()=>j,"storeLeaderTeam",()=>d,"storePOCTeamDetail",()=>h,"storePOCTeams",()=>f],48561);let m=function(){let a="https://sih.jaswanthmadiya.tech/auth/";if(a.startsWith("/"))return l(a);try{let b=new URL(a);return b.pathname=l(b.pathname),`${b.origin}${b.pathname}`}catch(a){return console.warn("[auth-service] invalid NEXT_PUBLIC_AUTH_SERVICE_URL, using default",a),"http://127.0.0.1:8000/auth/api"}}(),n=new class{accessTokenKey="sih_access_token";refreshTokenKey="sih_refresh_token";setTokens(a,b){}getAccessToken(){return null}getRefreshToken(){return null}clearTokens(){}async request(a,b={},c=0){let d=`${m}${a}`,e=new Headers(b.headers||{}),f=this.getAccessToken();f&&e.set("Authorization",`Bearer ${f}`);let g=await fetch(d,{...b,headers:e});if(401===g.status&&0===c){let c=this.getRefreshToken();if(c)try{return await this.refreshAccessToken(c),this.request(a,b,1)}catch(a){throw this.clearTokens(),Error("Session expired. Please login again.")}}if(!g.ok){let a=await g.json().catch(()=>({}));throw Error(a.detail||a.message||`API Error: ${g.status}`)}return g.json()}getCurrentUser(){return null}base64UrlDecode(a){let b=a.replace(/-/g,"+").replace(/_/g,"/"),c=b.length%4;return c&&(b+="=".repeat(4-c)),Buffer.from(b,"base64").toString("utf-8")}async login(a){let b=await this.request("/token/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});return this.setTokens(b.access,b.refresh),b}async refreshAccessToken(a){let b=(await this.request("/token/refresh/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh:a})})).access;return localStorage.setItem(this.accessTokenKey,b),b}async requestOTP(a){return this.request("/auth/send-otp/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,purpose:"first_login"})})}async verifyOTPAndSetPassword(a){return this.request("/auth/verify-otp/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})}async autoLogin(a,b){return this.login({email:a,password:b})}async getTeamDetails(a=!1){if(!a){let a=e();if(a)return a}let b=await this.request(a?"/leader/team/?preview=1":"/leader/team/");return a||d(b),b}async confirmTeamDetails(){return this.request("/leader/team/confirm/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})})}async getPOCTeams(){let a=g();if(a.length)return a;let b=await this.request("/poc/teams/");return f(b),b}async getPOCTeamDetail(a){let b=i(a);if(b)return b;let c=await this.request(`/poc/teams/${a}/`);return h(c),c}async getAdminTeams(){let a=k();if(a.length)return a;let b=await this.request("/admin/teams/");return j(b),b}async logout(){let a=this.getRefreshToken();if(!a)return this.clearTokens(),c(),{detail:"Logged out"};try{let b=await this.request("/auth/logout/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh:a})});return this.clearTokens(),c(),b}catch(a){return this.clearTokens(),c(),{detail:"Logged out"}}}async logoutAll(){try{let a=await this.request("/auth/logout_all/",{method:"POST",headers:{"Content-Type":"application/json"}});return this.clearTokens(),c(),a}catch(a){return this.clearTokens(),c(),{detail:"Logged out from all devices"}}}async initializeUserContext(a=!1){}};a.s(["authService",0,n],11634)},80194,a=>{"use strict";var b=a.i(46447),c=a.i(30564),d=a.i(1470),e=a.i(80028),f=a.i(11634);function g(){let a=(0,d.useRouter)(),[g,h]=(0,c.useState)(null),[i,j]=(0,c.useState)(!0),[k,l]=(0,c.useState)(!1),[m,n]=(0,c.useState)("");(0,c.useEffect)(()=>{(async()=>{try{let a=await f.authService.getTeamDetails(!0);h(a)}catch(a){n(a.message||"Failed to load team details")}finally{j(!1)}})()},[]);let o=async()=>{l(!0);try{await f.authService.confirmTeamDetails(),a.push("/dashboard")}catch(a){n(a.message||"Failed to confirm team details"),l(!1)}};return i?(0,b.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"w-12 h-12 border-4 border-gray-300 border-t-orange-600 rounded-full animate-spin mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-gray-600 font-medium",children:"Loading team details..."})]})}):(0,b.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,b.jsx)("header",{className:"bg-white border-b border-gray-200",children:(0,b.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-6 flex flex-col md:flex-row md:items-center md:justify-between gap-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-6",children:[(0,b.jsx)(e.default,{src:"/sih_banner.png",alt:"Smart India Hackathon banner",width:320,height:90,className:"h-20 w-auto",priority:!0}),(0,b.jsx)("div",{className:"h-16 w-px bg-gray-300","aria-hidden":"true"}),(0,b.jsx)(e.default,{src:"/gitam_logo.png",alt:"GITAM",width:240,height:90,className:"h-16 w-auto"})]}),(0,b.jsx)("h1",{className:"text-3xl font-bold text-center md:text-right",style:{color:"#002449"},children:"Team Confirmation"})]})}),(0,b.jsx)("main",{className:"max-w-6xl mx-auto px-4 py-8",children:(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"text-center mb-8",children:[(0,b.jsx)("h2",{className:"text-3xl md:text-4xl font-bold mb-2",style:{color:"#002449"},children:"Confirm Team Details"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Please verify your team information before proceeding to the dashboard"})]}),m&&(0,b.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,b.jsx)("p",{className:"text-red-800",children:m})}),g&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-8 shadow-md",children:[(0,b.jsx)("h3",{className:"text-2xl font-bold mb-6",style:{color:"#f75700"},children:"Team Information"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"pb-4 border-b border-gray-200",children:[(0,b.jsx)("p",{className:"text-xs font-medium text-gray-500 uppercase mb-2",children:"Team Name"}),(0,b.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:g.name})]}),(0,b.jsxs)("div",{className:"pb-4 border-b border-gray-200",children:[(0,b.jsx)("p",{className:"text-xs font-medium text-gray-500 uppercase mb-2",children:"Institution"}),(0,b.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:g.institution})]}),g.problem_statement&&(0,b.jsxs)("div",{className:"pb-4 border-b border-gray-200 md:col-span-2",children:[(0,b.jsx)("p",{className:"text-xs font-medium text-gray-500 uppercase mb-2",children:"Problem Statement"}),(0,b.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:g.problem_statement.title}),(0,b.jsxs)("p",{className:"text-sm font-medium mt-2",style:{color:"#f75700"},children:["ID: ",g.problem_statement.id]})]}),g.faculty_mentor&&(0,b.jsxs)("div",{className:"pb-4 border-b border-gray-200",children:[(0,b.jsx)("p",{className:"text-xs font-medium text-gray-500 uppercase mb-2",children:"Faculty Mentor"}),(0,b.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:g.faculty_mentor.name})]})]})]}),(0,b.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-8 shadow-md",children:[(0,b.jsxs)("h3",{className:"text-2xl font-bold mb-6",style:{color:"#f75700"},children:["Team Members (",g.members?.length||0,")"]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:g.members?.map((a,c)=>(0,b.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg hover:border-gray-400 transition-colors",children:[(0,b.jsx)("p",{className:"font-semibold text-gray-900",children:a.user.name}),(0,b.jsx)("p",{className:"text-sm text-gray-600 mt-2 break-all",children:a.user.email}),(0,b.jsx)("p",{className:"text-xs font-bold mt-3 uppercase",style:{color:"#f75700"},children:a.role})]},c))})]}),(0,b.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg p-8 shadow-md",children:(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("div",{className:"p-4 rounded-lg",style:{backgroundColor:"#f0e0c1"},children:(0,b.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Please review all information above carefully. Once confirmed, you will be redirected to your dashboard."})}),(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,b.jsx)("button",{onClick:o,disabled:k,className:"flex-1 py-3 text-white font-semibold rounded-lg transition-opacity disabled:opacity-50",style:{backgroundColor:"#f75700"},onMouseEnter:a=>!k&&(a.currentTarget.style.opacity="0.9"),onMouseLeave:a=>!k&&(a.currentTarget.style.opacity="1"),children:k?"Confirming...":"Confirm & Continue"}),(0,b.jsx)("button",{onClick:()=>a.push("/"),className:"flex-1 py-3 text-gray-700 font-semibold rounded-lg border border-gray-300 hover:bg-gray-50 transition-colors",children:"Cancel"})]})]})})]})]})})]})}a.s(["default",()=>g])}];

//# sourceMappingURL=_5f23a486._.js.map