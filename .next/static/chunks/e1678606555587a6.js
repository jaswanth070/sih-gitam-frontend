(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,88771,47750,e=>{"use strict";var t=e.i(14077);e.i(60164);let r="http://127.0.0.1:8001",s=`${r}/requests/api`;function a(e){let t=e.replace(/\/+$/,"");return t?(t.startsWith("/")||(t=`/${t}`),t.endsWith("/requests/api"))?t:t.endsWith("/requests")?`${t}/api`:t.endsWith("/api")?t.replace(/\/api$/,"/requests/api"):`${t}/requests/api`:"/requests/api"}function n(e){let t=a(e);return"/requests/api"===t?"/requests":t.replace(/\/api$/,"")||"/requests"}function i(){let e="https://sih.jaswanthmadiya.tech/requests/";if(e.startsWith("/"))return a(e);try{let t=new URL(e);return t.pathname=a(t.pathname),`${t.origin}${t.pathname}`}catch(e){return console.warn("[ws-url] invalid NEXT_PUBLIC_REQUESTS_SERVICE_URL, using default",e),s}}function o(e){try{let t=new URL("wss://sih.jaswanthmadiya.tech/ws/requests");return t.searchParams.set("token",e),t.toString()}catch(e){console.warn("[ws-url] invalid NEXT_PUBLIC_REQUESTS_WS_URL, falling back",e)}let t="https://sih.jaswanthmadiya.tech/requests/",s="",a="/requests";if(t.startsWith("http"))try{let e=new URL(t);s=e.origin,a=n(e.pathname)}catch(e){console.warn("[ws-url] invalid NEXT_PUBLIC_REQUESTS_SERVICE_URL, using defaults",e)}else a=n(t);s||(s=r);let i=s.startsWith("https://"),o=s.replace(/^https?:\/\//,""),l=`${a}/ws/requests/`;return(l=l.replace(/\/+/g,"/")).startsWith("/")||(l=`/${l}`),`${i?"wss":"ws"}://${o}${l}?token=${encodeURIComponent(e)}`}e.s(["buildRequestsBaseUrl",()=>i,"buildRequestsWsUrl",()=>o],47750);let l=i();async function c(e,r={}){let s=`${l}${e}`,a=new Headers(r.headers||{}),n=t.authService.getAccessToken();n&&!a.has("Authorization")&&a.set("Authorization",`Bearer ${n}`);let i=await fetch(s,{...r,headers:a});if(401===i.status){let e=t.authService.getRefreshToken();if(e)try{let t=await fetch(`${l}/token/refresh/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh:e})});if(t.ok){let{access:e}=await t.json();localStorage.setItem("sih_access_token",e),a.set("Authorization",`Bearer ${e}`),i=await fetch(s,{...r,headers:a})}}catch(e){t.authService.clearTokens(),window.location.href="/login"}}if(!i.ok){let e=await i.json().catch(()=>({}));throw Error(e.detail||e.message||`API Error: ${i.status}`)}return i.json()}e.s(["requestsService",0,{async listRequests(e){let t=new URLSearchParams;return e?.category&&t.append("category",e.category),e?.status&&t.append("status",e.status),e?.fab_type&&t.append("fab_type",e.fab_type),e?.team_id&&t.append("team_id",e.team_id),e?.search&&t.append("search",e.search),e?.ordering&&t.append("ordering",e.ordering),e?.page&&t.append("page",e.page.toString()),c(`/requests/?${t.toString()}`)},getQueueSnapshot:async(e=!0)=>c(`/requests/queue/?include_positions=${e}`),async getFilteredQueueSnapshot(e){let t=new URLSearchParams;return e.category&&t.append("category",e.category),e.status&&t.append("status",e.status),e.fab_type&&t.append("fab_type",e.fab_type),void 0!==e.include_positions&&t.append("include_positions",e.include_positions?"true":"false"),e.page&&t.append("page",e.page.toString()),e.page_size&&t.append("page_size",e.page_size.toString()),c(`/requests/queue/?${t.toString()}`)},getRequest:async e=>c(`/requests/${e}/`),createBOMRequest:async(e,t,r)=>c("/requests/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({team_id:e,category:"BOM",notes:t,bom_items:r})}),createAdditionalRequest:async(e,t,r)=>c("/requests/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({team_id:e,category:"ADDITIONAL",notes:t,additional_items:r})}),async createFabricationRequest(e,r,s,a){let n=new FormData;n.append("team_id",e),n.append("category","FABRICATION"),n.append("notes",r),n.append("fabrication",JSON.stringify(s)),a&&n.append("file",a);let i=t.authService.getAccessToken(),o=new Headers;i&&o.set("Authorization",`Bearer ${i}`);let c=await fetch(`${l}/requests/`,{method:"POST",headers:o,body:n});if(!c.ok){let e=await c.json().catch(()=>({}));throw Error(e.detail||e.message||`API Error: ${c.status}`)}return c.json()},changeRequestStatus:async(e,t,r,s)=>c(`/requests/${e}/change_status/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to_status:t,note:r||"",...void 0!==s?{remarks:s}:{}})}),async listTeamRequests(e,t){let r=new URLSearchParams;return t?.category&&r.append("category",t.category),t?.status&&r.append("status",t.status),t?.fab_type&&r.append("fab_type",t.fab_type),t?.search&&r.append("search",t.search),t?.ordering&&r.append("ordering",t.ordering),t?.page&&r.append("page",t.page.toString()),t?.page_size&&r.append("page_size",t.page_size.toString()),c(`/teams/${e}/requests/${r.toString()?`?${r.toString()}`:""}`)}}],88771)},88886,e=>{"use strict";var t=e.i(1972),r=e.i(75305);let s=["Submitted","Processing","Issued"];function a({status:e}){return(0,t.jsx)("div",{className:"flex items-center gap-2","aria-label":"Request status progress",children:s.map((a,n)=>{let i=s.indexOf(e),o=i>=n;return(0,t.jsxs)(r.default.Fragment,{children:[(0,t.jsxs)("div",{className:`flex flex-col items-center text-[10px] font-medium ${o?"text-[#002449]":"text-gray-400"}`,children:[(0,t.jsx)("div",{className:`h-2.5 w-2.5 rounded-full ${o?i===n?"bg-[#f75700]":"bg-[#002449]":"bg-gray-300"}`}),(0,t.jsx)("span",{className:"mt-1 tracking-wide",children:a})]}),n<s.length-1&&(0,t.jsx)("div",{className:`h-px w-6 ${i>n?"bg-[#002449]":"bg-gray-300"}`,"aria-hidden":"true"})]},a)})})}e.s(["RequestProgress",()=>a])},51021,e=>{"use strict";var t=e.i(1972),r=e.i(75305);function s({open:e,currentStatus:s,targetStatus:a,onClose:n,onConfirm:i,loading:o=!1}){let[l,c]=(0,r.useState)("");(0,r.useEffect)(()=>{e&&c("")},[e,s,a]);let d=(0,r.useMemo)(()=>"Cannot be Processed"===a||"Processing"===s&&"Issued"===a,[s,a]);return e?(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:(0,t.jsxs)("div",{className:"w-full max-w-md rounded-lg bg-white p-6 shadow-xl animate-in fade-in slide-in-from-bottom",children:[(0,t.jsx)("h2",{className:"mb-4 text-lg font-semibold",style:{color:"#002449"},children:"Confirm Status Update"}),(0,t.jsxs)("div",{className:"mb-4 space-y-2 text-sm",children:[(0,t.jsxs)("p",{className:"text-gray-600",children:["You are changing the request from ",(0,t.jsx)("span",{className:"font-semibold",children:s})," to "," ",(0,t.jsx)("span",{className:"font-semibold",children:a}),"."]}),(0,t.jsx)("p",{className:"text-[11px] uppercase tracking-wide text-gray-500",children:d?"A remark for the team is required before you continue.":"Review the update and confirm when ready."})]}),d&&(0,t.jsxs)("div",{className:"mb-5 space-y-2",children:[(0,t.jsx)("label",{className:"text-xs font-semibold uppercase tracking-wide text-gray-600",children:"Remarks for Team (required)"}),(0,t.jsx)("textarea",{value:l,onChange:e=>c(e.target.value),placeholder:"Share any guidance or context for the team.",className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[#f75700]/40",rows:3}),(0,t.jsx)("p",{className:"text-[11px] text-gray-500",children:"These remarks are visible to the team on their dashboard and request view."})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{type:"button",onClick:n,disabled:o,className:"flex-1 rounded-lg border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 transition hover:bg-gray-50 disabled:cursor-not-allowed",children:"Cancel"}),(0,t.jsx)("button",{type:"button",onClick:()=>i(l.trim()||void 0),disabled:o,className:"flex-1 rounded-lg bg-[#f75700] px-4 py-2 text-sm font-semibold text-white transition hover:bg-[#f75700]/90 disabled:cursor-not-allowed disabled:opacity-60",children:o?"Updating...":"Confirm"})]})]})}):null}e.s(["StatusChangeModal",()=>s])},35301,e=>{"use strict";let t=(0,e.i(10965).default)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>t],35301)},32122,(e,t,r)=>{var s={675:function(e,t){"use strict";t.byteLength=function(e){var t=l(e),r=t[0],s=t[1];return(r+s)*3/4-s},t.toByteArray=function(e){var t,r,n=l(e),i=n[0],o=n[1],c=new a((i+o)*3/4-o),d=0,u=o>0?i-4:i;for(r=0;r<u;r+=4)t=s[e.charCodeAt(r)]<<18|s[e.charCodeAt(r+1)]<<12|s[e.charCodeAt(r+2)]<<6|s[e.charCodeAt(r+3)],c[d++]=t>>16&255,c[d++]=t>>8&255,c[d++]=255&t;return 2===o&&(t=s[e.charCodeAt(r)]<<2|s[e.charCodeAt(r+1)]>>4,c[d++]=255&t),1===o&&(t=s[e.charCodeAt(r)]<<10|s[e.charCodeAt(r+1)]<<4|s[e.charCodeAt(r+2)]>>2,c[d++]=t>>8&255,c[d++]=255&t),c},t.fromByteArray=function(e){for(var t,s=e.length,a=s%3,n=[],i=0,o=s-a;i<o;i+=16383)n.push(function(e,t,s){for(var a,n=[],i=t;i<s;i+=3)a=(e[i]<<16&0xff0000)+(e[i+1]<<8&65280)+(255&e[i+2]),n.push(r[a>>18&63]+r[a>>12&63]+r[a>>6&63]+r[63&a]);return n.join("")}(e,i,i+16383>o?o:i+16383));return 1===a?n.push(r[(t=e[s-1])>>2]+r[t<<4&63]+"=="):2===a&&n.push(r[(t=(e[s-2]<<8)+e[s-1])>>10]+r[t>>4&63]+r[t<<2&63]+"="),n.join("")};for(var r=[],s=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,o=n.length;i<o;++i)r[i]=n[i],s[n.charCodeAt(i)]=i;function l(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var s=r===t?0:4-r%4;return[r,s]}s[45]=62,s[95]=63},72:function(e,t,r){"use strict";var s=r(675),a=r(783),n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function i(e){if(e>0x7fffffff)throw RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,o.prototype),t}function o(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return d(e)}return l(e,t,r)}function l(e,t,r){if("string"==typeof e){var s=e,a=t;if(("string"!=typeof a||""===a)&&(a="utf8"),!o.isEncoding(a))throw TypeError("Unknown encoding: "+a);var n=0|f(s,a),l=i(n),c=l.write(s,a);return c!==n&&(l=l.slice(0,c)),l}if(ArrayBuffer.isView(e))return u(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(_(e,ArrayBuffer)||e&&_(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(_(e,SharedArrayBuffer)||e&&_(e.buffer,SharedArrayBuffer)))return function(e,t,r){var s;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(s=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),o.prototype),s}(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');var d=e.valueOf&&e.valueOf();if(null!=d&&d!==e)return o.from(d,t,r);var p=function(e){if(o.isBuffer(e)){var t=0|h(e.length),r=i(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||function(e){return e!=e}(e.length)?i(0):u(e):"Buffer"===e.type&&Array.isArray(e.data)?u(e.data):void 0}(e);if(p)return p;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return o.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return c(e),i(e<0?0:0|h(e))}function u(e){for(var t=e.length<0?0:0|h(e.length),r=i(t),s=0;s<t;s+=1)r[s]=255&e[s];return r}t.Buffer=o,t.SlowBuffer=function(e){return+e!=e&&(e=0),o.alloc(+e)},t.INSPECT_MAX_BYTES=50,t.kMaxLength=0x7fffffff,o.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),o.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),o.poolSize=8192,o.from=function(e,t,r){return l(e,t,r)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array),o.alloc=function(e,t,r){return(c(e),e<=0)?i(e):void 0!==t?"string"==typeof r?i(e).fill(t,r):i(e).fill(t):i(e)},o.allocUnsafe=function(e){return d(e)},o.allocUnsafeSlow=function(e){return d(e)};function h(e){if(e>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function f(e,t){if(o.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||_(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,s=arguments.length>2&&!0===arguments[2];if(!s&&0===r)return 0;for(var a=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return S(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return k(e).length;default:if(a)return s?-1:S(e).length;t=(""+t).toLowerCase(),a=!0}}function p(e,t,r){var a,n,i,o=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,r){var s=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>s)&&(r=s);for(var a="",n=t;n<r;++n)a+=E[e[n]];return a}(this,t,r);case"utf8":case"utf-8":return x(this,t,r);case"ascii":return function(e,t,r){var s="";r=Math.min(e.length,r);for(var a=t;a<r;++a)s+=String.fromCharCode(127&e[a]);return s}(this,t,r);case"latin1":case"binary":return function(e,t,r){var s="";r=Math.min(e.length,r);for(var a=t;a<r;++a)s+=String.fromCharCode(e[a]);return s}(this,t,r);case"base64":return a=this,n=t,i=r,0===n&&i===a.length?s.fromByteArray(a):s.fromByteArray(a.slice(n,i));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){for(var s=e.slice(t,r),a="",n=0;n<s.length;n+=2)a+=String.fromCharCode(s[n]+256*s[n+1]);return a}(this,t,r);default:if(o)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),o=!0}}function m(e,t,r){var s=e[t];e[t]=e[r],e[r]=s}function g(e,t,r,s,a){var n;if(0===e.length)return -1;if("string"==typeof r?(s=r,r=0):r>0x7fffffff?r=0x7fffffff:r<-0x80000000&&(r=-0x80000000),(n=r*=1)!=n&&(r=a?0:e.length-1),r<0&&(r=e.length+r),r>=e.length)if(a)return -1;else r=e.length-1;else if(r<0)if(!a)return -1;else r=0;if("string"==typeof t&&(t=o.from(t,s)),o.isBuffer(t))return 0===t.length?-1:y(e,t,r,s,a);if("number"==typeof t){if(t&=255,"function"==typeof Uint8Array.prototype.indexOf)if(a)return Uint8Array.prototype.indexOf.call(e,t,r);else return Uint8Array.prototype.lastIndexOf.call(e,t,r);return y(e,[t],r,s,a)}throw TypeError("val must be string, number or Buffer")}function y(e,t,r,s,a){var n,i=1,o=e.length,l=t.length;if(void 0!==s&&("ucs2"===(s=String(s).toLowerCase())||"ucs-2"===s||"utf16le"===s||"utf-16le"===s)){if(e.length<2||t.length<2)return -1;i=2,o/=2,l/=2,r/=2}function c(e,t){return 1===i?e[t]:e.readUInt16BE(t*i)}if(a){var d=-1;for(n=r;n<o;n++)if(c(e,n)===c(t,-1===d?0:n-d)){if(-1===d&&(d=n),n-d+1===l)return d*i}else -1!==d&&(n-=n-d),d=-1}else for(r+l>o&&(r=o-l),n=r;n>=0;n--){for(var u=!0,h=0;h<l;h++)if(c(e,n+h)!==c(t,h)){u=!1;break}if(u)return n}return -1}o.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==o.prototype},o.compare=function(e,t){if(_(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),_(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),!o.isBuffer(e)||!o.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,s=t.length,a=0,n=Math.min(r,s);a<n;++a)if(e[a]!==t[a]){r=e[a],s=t[a];break}return r<s?-1:+(s<r)},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);if(void 0===t)for(r=0,t=0;r<e.length;++r)t+=e[r].length;var r,s=o.allocUnsafe(t),a=0;for(r=0;r<e.length;++r){var n=e[r];if(_(n,Uint8Array)&&(n=o.from(n)),!o.isBuffer(n))throw TypeError('"list" argument must be an Array of Buffers');n.copy(s,a),a+=n.length}return s},o.byteLength=f,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},o.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},o.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},o.prototype.toString=function(){var e=this.length;return 0===e?"":0==arguments.length?x(this,0,e):p.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(e){if(!o.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},n&&(o.prototype[n]=o.prototype.inspect),o.prototype.compare=function(e,t,r,s,a){if(_(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),!o.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===s&&(s=0),void 0===a&&(a=this.length),t<0||r>e.length||s<0||a>this.length)throw RangeError("out of range index");if(s>=a&&t>=r)return 0;if(s>=a)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,s>>>=0,a>>>=0,this===e)return 0;for(var n=a-s,i=r-t,l=Math.min(n,i),c=this.slice(s,a),d=e.slice(t,r),u=0;u<l;++u)if(c[u]!==d[u]){n=c[u],i=d[u];break}return n<i?-1:+(i<n)},o.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},o.prototype.indexOf=function(e,t,r){return g(this,e,t,r,!0)},o.prototype.lastIndexOf=function(e,t,r){return g(this,e,t,r,!1)};function x(e,t,r){r=Math.min(e.length,r);for(var s=[],a=t;a<r;){var n,i,o,l,c=e[a],d=null,u=c>239?4:c>223?3:c>191?2:1;if(a+u<=r)switch(u){case 1:c<128&&(d=c);break;case 2:(192&(n=e[a+1]))==128&&(l=(31&c)<<6|63&n)>127&&(d=l);break;case 3:n=e[a+1],i=e[a+2],(192&n)==128&&(192&i)==128&&(l=(15&c)<<12|(63&n)<<6|63&i)>2047&&(l<55296||l>57343)&&(d=l);break;case 4:n=e[a+1],i=e[a+2],o=e[a+3],(192&n)==128&&(192&i)==128&&(192&o)==128&&(l=(15&c)<<18|(63&n)<<12|(63&i)<<6|63&o)>65535&&l<1114112&&(d=l)}null===d?(d=65533,u=1):d>65535&&(d-=65536,s.push(d>>>10&1023|55296),d=56320|1023&d),s.push(d),a+=u}var h=s,f=h.length;if(f<=4096)return String.fromCharCode.apply(String,h);for(var p="",m=0;m<f;)p+=String.fromCharCode.apply(String,h.slice(m,m+=4096));return p}function b(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function v(e,t,r,s,a,n){if(!o.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>a||t<n)throw RangeError('"value" argument is out of bounds');if(r+s>e.length)throw RangeError("Index out of range")}function w(e,t,r,s,a,n){if(r+s>e.length||r<0)throw RangeError("Index out of range")}function j(e,t,r,s,n){return t*=1,r>>>=0,n||w(e,t,r,4,34028234663852886e22,-34028234663852886e22),a.write(e,t,r,s,23,4),r+4}function N(e,t,r,s,n){return t*=1,r>>>=0,n||w(e,t,r,8,17976931348623157e292,-17976931348623157e292),a.write(e,t,r,s,52,8),r+8}o.prototype.write=function(e,t,r,s){if(void 0===t)s="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)s=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===s&&(s="utf8")):(s=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var a,n,i,o,l,c,d,u,h=this.length-t;if((void 0===r||r>h)&&(r=h),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");s||(s="utf8");for(var f=!1;;)switch(s){case"hex":return function(e,t,r,s){r=Number(r)||0;var a=e.length-r;s?(s=Number(s))>a&&(s=a):s=a;var n=t.length;s>n/2&&(s=n/2);for(var i=0;i<s;++i){var o,l=parseInt(t.substr(2*i,2),16);if((o=l)!=o)break;e[r+i]=l}return i}(this,e,t,r);case"utf8":case"utf-8":return a=t,n=r,A(S(e,this.length-a),this,a,n);case"ascii":return i=t,o=r,A(T(e),this,i,o);case"latin1":case"binary":return function(e,t,r,s){return A(T(t),e,r,s)}(this,e,t,r);case"base64":return l=t,c=r,A(k(e),this,l,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d=t,u=r,A(function(e,t){for(var r,s,a=[],n=0;n<e.length&&!((t-=2)<0);++n)s=(r=e.charCodeAt(n))>>8,a.push(r%256),a.push(s);return a}(e,this.length-d),this,d,u);default:if(f)throw TypeError("Unknown encoding: "+s);s=(""+s).toLowerCase(),f=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},o.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var s=this.subarray(e,t);return Object.setPrototypeOf(s,o.prototype),s},o.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||b(e,t,this.length);for(var s=this[e],a=1,n=0;++n<t&&(a*=256);)s+=this[e+n]*a;return s},o.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||b(e,t,this.length);for(var s=this[e+--t],a=1;t>0&&(a*=256);)s+=this[e+--t]*a;return s},o.prototype.readUInt8=function(e,t){return e>>>=0,t||b(e,1,this.length),this[e]},o.prototype.readUInt16LE=function(e,t){return e>>>=0,t||b(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUInt16BE=function(e,t){return e>>>=0,t||b(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUInt32LE=function(e,t){return e>>>=0,t||b(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+0x1000000*this[e+3]},o.prototype.readUInt32BE=function(e,t){return e>>>=0,t||b(e,4,this.length),0x1000000*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||b(e,t,this.length);for(var s=this[e],a=1,n=0;++n<t&&(a*=256);)s+=this[e+n]*a;return s>=(a*=128)&&(s-=Math.pow(2,8*t)),s},o.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||b(e,t,this.length);for(var s=t,a=1,n=this[e+--s];s>0&&(a*=256);)n+=this[e+--s]*a;return n>=(a*=128)&&(n-=Math.pow(2,8*t)),n},o.prototype.readInt8=function(e,t){return(e>>>=0,t||b(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},o.prototype.readInt16LE=function(e,t){e>>>=0,t||b(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?0xffff0000|r:r},o.prototype.readInt16BE=function(e,t){e>>>=0,t||b(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?0xffff0000|r:r},o.prototype.readInt32LE=function(e,t){return e>>>=0,t||b(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return e>>>=0,t||b(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readFloatLE=function(e,t){return e>>>=0,t||b(e,4,this.length),a.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return e>>>=0,t||b(e,4,this.length),a.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return e>>>=0,t||b(e,8,this.length),a.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return e>>>=0,t||b(e,8,this.length),a.read(this,e,!1,52,8)},o.prototype.writeUIntLE=function(e,t,r,s){if(e*=1,t>>>=0,r>>>=0,!s){var a=Math.pow(2,8*r)-1;v(this,e,t,r,a,0)}var n=1,i=0;for(this[t]=255&e;++i<r&&(n*=256);)this[t+i]=e/n&255;return t+r},o.prototype.writeUIntBE=function(e,t,r,s){if(e*=1,t>>>=0,r>>>=0,!s){var a=Math.pow(2,8*r)-1;v(this,e,t,r,a,0)}var n=r-1,i=1;for(this[t+n]=255&e;--n>=0&&(i*=256);)this[t+n]=e/i&255;return t+r},o.prototype.writeUInt8=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,1,255,0),this[t]=255&e,t+1},o.prototype.writeUInt16LE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeUInt16BE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeUInt32LE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,4,0xffffffff,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},o.prototype.writeUInt32BE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,4,0xffffffff,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeIntLE=function(e,t,r,s){if(e*=1,t>>>=0,!s){var a=Math.pow(2,8*r-1);v(this,e,t,r,a-1,-a)}var n=0,i=1,o=0;for(this[t]=255&e;++n<r&&(i*=256);)e<0&&0===o&&0!==this[t+n-1]&&(o=1),this[t+n]=(e/i|0)-o&255;return t+r},o.prototype.writeIntBE=function(e,t,r,s){if(e*=1,t>>>=0,!s){var a=Math.pow(2,8*r-1);v(this,e,t,r,a-1,-a)}var n=r-1,i=1,o=0;for(this[t+n]=255&e;--n>=0&&(i*=256);)e<0&&0===o&&0!==this[t+n+1]&&(o=1),this[t+n]=(e/i|0)-o&255;return t+r},o.prototype.writeInt8=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeInt16BE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeInt32LE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,4,0x7fffffff,-0x80000000),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},o.prototype.writeInt32BE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,4,0x7fffffff,-0x80000000),e<0&&(e=0xffffffff+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeFloatLE=function(e,t,r){return j(this,e,t,!0,r)},o.prototype.writeFloatBE=function(e,t,r){return j(this,e,t,!1,r)},o.prototype.writeDoubleLE=function(e,t,r){return N(this,e,t,!0,r)},o.prototype.writeDoubleBE=function(e,t,r){return N(this,e,t,!1,r)},o.prototype.copy=function(e,t,r,s){if(!o.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),s||0===s||(s=this.length),t>=e.length&&(t=e.length),t||(t=0),s>0&&s<r&&(s=r),s===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(s<0)throw RangeError("sourceEnd out of bounds");s>this.length&&(s=this.length),e.length-t<s-r&&(s=e.length-t+r);var a=s-r;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,r,s);else if(this===e&&r<t&&t<s)for(var n=a-1;n>=0;--n)e[n+t]=this[n+r];else Uint8Array.prototype.set.call(e,this.subarray(r,s),t);return a},o.prototype.fill=function(e,t,r,s){if("string"==typeof e){if("string"==typeof t?(s=t,t=0,r=this.length):"string"==typeof r&&(s=r,r=this.length),void 0!==s&&"string"!=typeof s)throw TypeError("encoding must be a string");if("string"==typeof s&&!o.isEncoding(s))throw TypeError("Unknown encoding: "+s);if(1===e.length){var a,n=e.charCodeAt(0);("utf8"===s&&n<128||"latin1"===s)&&(e=n)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(a=t;a<r;++a)this[a]=e;else{var i=o.isBuffer(e)?e:o.from(e,s),l=i.length;if(0===l)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<r-t;++a)this[a+t]=i[a%l]}return this};var C=/[^+/0-9A-Za-z-_]/g;function S(e,t){t=t||1/0;for(var r,s=e.length,a=null,n=[],i=0;i<s;++i){if((r=e.charCodeAt(i))>55295&&r<57344){if(!a){if(r>56319||i+1===s){(t-=3)>-1&&n.push(239,191,189);continue}a=r;continue}if(r<56320){(t-=3)>-1&&n.push(239,191,189),a=r;continue}r=(a-55296<<10|r-56320)+65536}else a&&(t-=3)>-1&&n.push(239,191,189);if(a=null,r<128){if((t-=1)<0)break;n.push(r)}else if(r<2048){if((t-=2)<0)break;n.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;n.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;n.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return n}function T(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function k(e){return s.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(C,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function A(e,t,r,s){for(var a=0;a<s&&!(a+r>=t.length)&&!(a>=e.length);++a)t[a+r]=e[a];return a}function _(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}var E=function(){for(var e="0123456789abcdef",t=Array(256),r=0;r<16;++r)for(var s=16*r,a=0;a<16;++a)t[s+a]=e[r]+e[a];return t}()},783:function(e,t){t.read=function(e,t,r,s,a){var n,i,o=8*a-s-1,l=(1<<o)-1,c=l>>1,d=-7,u=r?a-1:0,h=r?-1:1,f=e[t+u];for(u+=h,n=f&(1<<-d)-1,f>>=-d,d+=o;d>0;n=256*n+e[t+u],u+=h,d-=8);for(i=n&(1<<-d)-1,n>>=-d,d+=s;d>0;i=256*i+e[t+u],u+=h,d-=8);if(0===n)n=1-c;else{if(n===l)return i?NaN:1/0*(f?-1:1);i+=Math.pow(2,s),n-=c}return(f?-1:1)*i*Math.pow(2,n-s)},t.write=function(e,t,r,s,a,n){var i,o,l,c=8*n-a-1,d=(1<<c)-1,u=d>>1,h=5960464477539062e-23*(23===a),f=s?0:n-1,p=s?1:-1,m=+(t<0||0===t&&1/t<0);for(isNaN(t=Math.abs(t))||t===1/0?(o=+!!isNaN(t),i=d):(i=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-i))<1&&(i--,l*=2),i+u>=1?t+=h/l:t+=h*Math.pow(2,1-u),t*l>=2&&(i++,l/=2),i+u>=d?(o=0,i=d):i+u>=1?(o=(t*l-1)*Math.pow(2,a),i+=u):(o=t*Math.pow(2,u-1)*Math.pow(2,a),i=0));a>=8;e[r+f]=255&o,f+=p,o/=256,a-=8);for(i=i<<a|o,c+=a;c>0;e[r+f]=255&i,f+=p,i/=256,c-=8);e[r+f-p]|=128*m}}},a={};function n(e){var t=a[e];if(void 0!==t)return t.exports;var r=a[e]={exports:{}},i=!0;try{s[e](r,r.exports,n),i=!1}finally{i&&delete a[e]}return r.exports}n.ab="/ROOT/node_modules/.pnpm/next@16.0.3_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/buffer/",t.exports=n(72)},14077,29108,e=>{"use strict";var t=e.i(32122);e.i(60164);let r="sih_session_cache_v1";function s(){return void 0!==window.localStorage}function a(){if(!s())return{};try{let e=window.localStorage.getItem(r);if(!e)return{};return JSON.parse(e)??{}}catch(e){return console.warn("[session-store] Failed to parse session payload",e),{}}}function n(e){let t={...a(),...e};if(s())try{let e=JSON.stringify({...t,updatedAt:Date.now()});window.localStorage.setItem(r,e)}catch(e){console.warn("[session-store] Failed to persist session payload",e)}return t}function i(){s()&&window.localStorage.removeItem(r)}function o(e){n({currentUser:e})}function l(e){n({leaderTeam:e})}function c(){return a().leaderTeam??null}function d(e){n({pocTeams:e})}function u(){let e=a();return Array.isArray(e.pocTeams)?e.pocTeams:[]}function h(e){e?.id&&n({pocTeamDetails:{...a().pocTeamDetails??{},[e.id]:e}})}function f(e){return e?(a().pocTeamDetails??{})[e]??null:null}function p(e){n({adminTeams:e})}function m(){let e=a();return Array.isArray(e.adminTeams)?e.adminTeams:[]}function g(e){let t=e.replace(/\/+$/,"");return t?(t.startsWith("/")||(t=`/${t}`),t.endsWith("/auth/api"))?t:t.endsWith("/auth")?`${t}/api`:t.endsWith("/api")?t:`${t}/auth/api`:"/auth/api"}e.s(["clearSessionCache",()=>i,"getStoredAdminTeams",()=>m,"getStoredLeaderTeam",()=>c,"getStoredPOCTeamDetail",()=>f,"getStoredPOCTeams",()=>u,"storeAdminTeams",()=>p,"storeCurrentUser",()=>o,"storeLeaderTeam",()=>l,"storePOCTeamDetail",()=>h,"storePOCTeams",()=>d],29108);let y=function(){let e="https://sih.jaswanthmadiya.tech/auth/";if(e.startsWith("/"))return g(e);try{let t=new URL(e);return t.pathname=g(t.pathname),`${t.origin}${t.pathname}`}catch(e){return console.warn("[auth-service] invalid NEXT_PUBLIC_AUTH_SERVICE_URL, using default",e),"http://127.0.0.1:8000/auth/api"}}(),x=new class{accessTokenKey="sih_access_token";refreshTokenKey="sih_refresh_token";setTokens(e,t){localStorage.setItem(this.accessTokenKey,e),localStorage.setItem(this.refreshTokenKey,t)}getAccessToken(){return localStorage.getItem(this.accessTokenKey)}getRefreshToken(){return localStorage.getItem(this.refreshTokenKey)}clearTokens(){localStorage.removeItem(this.accessTokenKey),localStorage.removeItem(this.refreshTokenKey)}async request(e,t={},r=0){let s=`${y}${e}`,a=new Headers(t.headers||{}),n=this.getAccessToken();n&&a.set("Authorization",`Bearer ${n}`);let i=await fetch(s,{...t,headers:a});if(401===i.status&&0===r){let r=this.getRefreshToken();if(r)try{return await this.refreshAccessToken(r),this.request(e,t,1)}catch(e){throw this.clearTokens(),window.location.href="/login",Error("Session expired. Please login again.")}}if(!i.ok){let e=await i.json().catch(()=>({}));throw Error(e.detail||e.message||`API Error: ${i.status}`)}return i.json()}getCurrentUser(){let e=this.getAccessToken();if(!e)return null;try{let[,t]=e.split(".");if(!t)return null;return JSON.parse(this.base64UrlDecode(t))}catch(e){return null}}base64UrlDecode(e){let r=e.replace(/-/g,"+").replace(/_/g,"/"),s=r.length%4;return(s&&(r+="=".repeat(4-s)),"function"==typeof window.atob)?decodeURIComponent(Array.prototype.map.call(window.atob(r),e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)).join("")):t.Buffer.from(r,"base64").toString("utf-8")}async login(e){let t=await this.request("/token/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return this.setTokens(t.access,t.refresh),this.initializeUserContext().catch(e=>{console.warn("[auth-service] Failed to initialize session context",e)}),t}async refreshAccessToken(e){let t=(await this.request("/token/refresh/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh:e})})).access;return localStorage.setItem(this.accessTokenKey,t),t}async requestOTP(e){return this.request("/auth/send-otp/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,purpose:"first_login"})})}async verifyOTPAndSetPassword(e){return this.request("/auth/verify-otp/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}async autoLogin(e,t){return this.login({email:e,password:t})}async getTeamDetails(e=!1){if(!e){let e=c();if(e)return e}let t=await this.request(e?"/leader/team/?preview=1":"/leader/team/");return e||l(t),t}async confirmTeamDetails(){return this.request("/leader/team/confirm/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})})}async getPOCTeams(){let e=u();if(e.length)return e;let t=await this.request("/poc/teams/");return d(t),t}async getPOCTeamDetail(e){let t=f(e);if(t)return t;let r=await this.request(`/poc/teams/${e}/`);return h(r),r}async getAdminTeams(){let e=m();if(e.length)return e;let t=await this.request("/admin/teams/");return p(t),t}async logout(){let e=this.getRefreshToken();if(!e)return this.clearTokens(),i(),{detail:"Logged out"};try{let t=await this.request("/auth/logout/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh:e})});return this.clearTokens(),i(),t}catch(e){return this.clearTokens(),i(),{detail:"Logged out"}}}async logoutAll(){try{let e=await this.request("/auth/logout_all/",{method:"POST",headers:{"Content-Type":"application/json"}});return this.clearTokens(),i(),e}catch(e){return this.clearTokens(),i(),{detail:"Logged out from all devices"}}}async initializeUserContext(e=!1){let t=this.getCurrentUser();if(t){if(o(t),t.is_admin){if(!e&&m().length)return;try{let e=await this.request("/admin/teams/");p(e)}catch(e){console.warn("[auth-service] unable to cache admin teams",e)}return}if(t.is_poc){if(!e&&u().length)return;try{let e=await this.request("/poc/teams/");d(e),await Promise.all(e.map(async e=>{let t=String(e.id);if(!f(t))try{let e=await this.request(`/poc/teams/${t}/`);h(e)}catch(e){console.warn(`[auth-service] unable to cache POC team detail for ${t}`,e)}}))}catch(e){console.warn("[auth-service] unable to cache POC teams",e)}return}if(!(!e&&c()))try{let e=await this.request("/leader/team/");l(e)}catch(e){console.warn("[auth-service] unable to cache leader team",e)}}}};e.s(["authService",0,x],14077)},70065,e=>{"use strict";var t=e.i(1972),r=e.i(47163);function s({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...s})}function a({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...s})}function n({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",e),...s})}function i({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",e),...s})}function o({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",e),...s})}function l({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-footer",className:(0,r.cn)("flex items-center px-6 [.border-t]:pt-6",e),...s})}e.s(["Card",()=>s,"CardContent",()=>o,"CardDescription",()=>i,"CardFooter",()=>l,"CardHeader",()=>a,"CardTitle",()=>n])},23284,e=>{"use strict";let t=(0,e.i(10965).default)("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["ShieldCheck",()=>t],23284)},2870,e=>{"use strict";let t=(0,e.i(10965).default)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);e.s(["Users",()=>t],2870)},94179,e=>{"use strict";var t=e.i(1972),r=e.i(64701),s=e.i(94237),a=e.i(47163);let n=(0,s.cva)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function i({className:e,variant:s,asChild:i=!1,...o}){let l=i?r.Slot:"span";return(0,t.jsx)(l,{"data-slot":"badge",className:(0,a.cn)(n({variant:s}),e),...o})}e.s(["Badge",()=>i])},10552,e=>{"use strict";let t=(0,e.i(10965).default)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);e.s(["Building2",()=>t],10552)},87524,e=>{"use strict";let t=(0,e.i(10965).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],87524)},15278,e=>{"use strict";let t=(0,e.i(10965).default)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);e.s(["Mail",()=>t],15278)},45642,79971,90449,e=>{"use strict";var t=e.i(10965);let r=(0,t.default)("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);e.s(["Layers",()=>r],45642);let s=(0,t.default)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);e.s(["Phone",()=>s],79971);let a=(0,t.default)("UserRound",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]);e.s(["User2",()=>a],90449)},13682,e=>{"use strict";var t=e.i(1972),r=e.i(75305),s=e.i(30499),a=e.i(2854),n=e.i(87524),i=e.i(10965);let o=(0,i.default)("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);var l=e.i(10552),c=e.i(35301);let d=(0,i.default)("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);var u=e.i(62412),h=e.i(45642),f=e.i(15278),p=e.i(79971),m=e.i(23284),g=e.i(90449);let y=(0,i.default)("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);var x=e.i(2870),b=e.i(14077),v=e.i(29108),w=e.i(88771),j=e.i(6194),N=e.i(88886),C=e.i(67881),S=e.i(94179),T=e.i(70065),k=e.i(69035),A=e.i(51021);let _=new Set(["Submitted","Processing"]);function E(){let e=(0,s.useParams)().id,i=(0,v.getStoredPOCTeamDetail)(e)??null,[f,p]=(0,r.useState)(i),[g,N]=(0,r.useState)([]),[k,E]=(0,r.useState)(null),[O,R]=(0,r.useState)(null),[I,M]=(0,r.useState)(!i),[L,$]=(0,r.useState)(null),[D,z]=(0,r.useState)(null),F=(0,r.useMemo)(()=>new Intl.DateTimeFormat(void 0,{dateStyle:"medium",timeStyle:"short"}),[]);(0,r.useEffect)(()=>{if(!e)return;let t=!1;return(async()=>{(0,v.getStoredPOCTeamDetail)(e)||M(!0),E(null);try{let r=await b.authService.getPOCTeamDetail(e);t||p(r)}catch(r){console.error("[team] Failed to load team details",r);let e=r instanceof Error?r.message:"Failed to load team details";t||E(e)}finally{t||M(!1)}})(),()=>{t=!0}},[e]);let H=(0,r.useMemo)(()=>{let t=new Set;return e&&t.add(String(e)),f?.id&&t.add(String(f.id)),f?.team_id&&t.add(String(f.team_id)),Array.from(t)},[f?.id,f?.team_id,e]);(0,r.useEffect)(()=>{let t=f?H:e?[e]:[];if(0===t.length)return;let r=!1,s=async()=>{R(null);let e=null;for(let s of t)if(s)try{let e=await w.requestsService.listTeamRequests(s,{ordering:"created_at",page_size:100});if(r)return;let t=[...e.results].sort((e,t)=>new Date(e.created_at).getTime()-new Date(t.created_at).getTime());N(t);return}catch(t){e=t instanceof Error?t:Error("Unable to load team requests")}!r&&e&&(console.error("[team] Error fetching team requests snapshot",e),R(e.message))};s();let a=setInterval(s,3e5);return()=>{r=!0,clearInterval(a)}},[f,H,e]);let W=(0,r.useMemo)(()=>f?.members?.length??0,[f?.members]),J=(0,r.useMemo)(()=>f?.members?.find(e=>e.role?.toLowerCase().includes("leader")),[f?.members]),V=(0,r.useMemo)(()=>{let e=[];return Array.isArray(f?.mentors)&&f?.mentors.forEach(t=>{t&&!e.find(e=>e.id===t.id)&&e.push(t)}),[f?.faculty_mentor,f?.faculty_mentor_1,f?.faculty_mentor_2].forEach(t=>{t&&!e.find(e=>e.id===t.id)&&e.push(t)}),e},[f?.faculty_mentor,f?.faculty_mentor_1,f?.faculty_mentor_2,f?.mentors]),K=(0,r.useMemo)(()=>g.filter(e=>_.has(e.status)).length,[g]),Y=(0,r.useMemo)(()=>g.filter(e=>"Issued"===e.status).length,[g]),Q=(0,r.useMemo)(()=>g.filter(e=>"Cannot be Processed"===e.status).length,[g]),X=(0,r.useMemo)(()=>{if(0===g.length)return null;let e=g.reduce((e,t)=>{let r=new Date(t.updated_at).getTime();return r>e?r:e},0);return e?new Date(e):null},[g]),Z=(0,r.useCallback)((e,t)=>"Cannot be Processed"===t||"Processing"===e&&"Issued"===t,[]),G=(0,r.useCallback)(async(e,t,r)=>{z(e);let s=`Status changed to ${t}`;try{let a=await w.requestsService.changeRequestStatus(e,t,s,r);N(e=>e.map(e=>e.id===a.id?a:e)),R(null),$(null)}catch(e){R(e instanceof Error?e.message:"Failed to update request status")}finally{z(null)}},[]),ee=(0,r.useCallback)((e,t)=>{Z(e.status,t)?$({request:e,nextStatus:t}):G(e.id,t)},[G,Z]),et=(0,r.useMemo)(()=>{if(!f)return"#";let e=new URLSearchParams;return f.id&&e.set("teamId",f.id),f.team_id&&e.set("teamCode",f.team_id),`/poc/document-submission?${e.toString()}`},[f]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(j.DashboardShell,{children:(0,t.jsxs)("div",{className:"space-y-8",children:[k&&(0,t.jsx)(T.Card,{className:"border border-destructive/30 bg-destructive/10 text-destructive",children:(0,t.jsxs)(T.CardHeader,{className:"pb-4",children:[(0,t.jsxs)(T.CardTitle,{className:"flex items-center gap-2 text-sm font-semibold",children:[(0,t.jsx)(n.AlertCircle,{className:"h-4 w-4"})," Unable to load team details"]}),(0,t.jsx)(T.CardDescription,{className:"text-xs text-destructive/90",children:k})]})}),I?(0,t.jsx)("div",{className:"min-h-[40vh] flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center space-y-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 border-4 border-muted border-t-[#f75700] rounded-full animate-spin mx-auto"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground font-medium",children:"Fetching the latest team profile…"})]})}):f?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("section",{className:"rounded-2xl border border-[#002449]/15 bg-gradient-to-br from-[#002449] via-[#012e66] to-[#00152d] text-white shadow-lg",children:(0,t.jsxs)("div",{className:"px-6 py-8 md:px-10 md:py-10 space-y-8",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-6 md:flex-row md:items-start md:justify-between",children:[(0,t.jsxs)("div",{className:"space-y-4 max-w-3xl",children:[(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2 text-xs uppercase tracking-wide",children:[(0,t.jsxs)(S.Badge,{variant:"secondary",className:"bg-white/15 text-white border-white/20",children:["Team Code • ",f.team_id??"—"]}),f.problem_statement?.id&&(0,t.jsxs)(S.Badge,{variant:"secondary",className:"bg-white/15 text-white border-white/20",children:["Problem Statement • ",f.problem_statement.id]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h1",{className:"text-3xl md:text-4xl font-bold tracking-tight",children:f.name}),(0,t.jsxs)("p",{className:"flex items-center gap-2 text-sm text-white/80",children:[(0,t.jsx)(l.Building2,{className:"h-4 w-4"})," ",f.institution]})]}),f.problem_statement?.title&&(0,t.jsxs)("p",{className:"text-sm md:text-base text-white/90 flex items-start gap-2",children:[(0,t.jsx)(h.Layers,{className:"h-4 w-4 mt-0.5 shrink-0"})," ",f.problem_statement.title]})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,t.jsx)(C.Button,{asChild:!0,size:"sm",className:"bg-white text-[#002449] hover:bg-white/90",children:(0,t.jsxs)(a.default,{href:et,className:"flex items-center gap-2",children:["Manage Documents ",(0,t.jsx)(o,{className:"h-4 w-4"})]})}),J&&(0,t.jsxs)("div",{className:"rounded-lg border border-white/20 bg-white/10 px-4 py-3 text-xs text-white/80",children:[(0,t.jsx)("p",{className:"uppercase tracking-wide text-[11px] text-white/60",children:"Team Leader"}),(0,t.jsx)("p",{className:"text-sm font-semibold text-white",children:J.user?.name||J.user?.email}),(0,t.jsx)("p",{className:"text-xs text-white/80 break-all",children:J.user?.email})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[(0,t.jsx)(B,{icon:x.Users,label:"Total Members",value:W.toString(),helper:J?`${J.user?.name??J.user?.email} leads the team`:void 0}),(0,t.jsx)(B,{icon:d,label:"Active Requests",value:K.toString(),helper:0===K?"Nothing pending":"Awaiting fulfilment"}),(0,t.jsx)(B,{icon:c.CheckCircle2,label:"Issued",value:Y.toString(),helper:Y?"Completed successfully":"No issues yet"}),(0,t.jsx)(B,{icon:n.AlertCircle,label:"Rejected",value:Q.toString(),helper:Q?"Needs attention":"All good"})]}),X&&(0,t.jsxs)("p",{className:"text-xs text-white/70",children:["Last request update: ",F.format(X)]})]})}),(0,t.jsxs)("section",{className:"grid grid-cols-1 gap-4 xl:grid-cols-[2fr_1fr]",children:[(0,t.jsxs)(T.Card,{className:"border border-gray-200 shadow-sm",children:[(0,t.jsxs)(T.CardHeader,{className:"pb-4",children:[(0,t.jsxs)(T.CardTitle,{className:"flex items-center gap-2 text-lg",style:{color:"#002449"},children:[(0,t.jsx)(m.ShieldCheck,{className:"h-5 w-5 text-[#002449]"})," Primary Contacts"]}),(0,t.jsx)(T.CardDescription,{children:"POC and mentor details for quick coordination."})]}),(0,t.jsxs)(T.CardContent,{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[(0,t.jsx)(U,{title:"Point of Contact",contact:f.poc,highlight:f.poc?.is_verified_poc,badgeLabel:f.poc?.is_verified_poc?"Verified":void 0}),(0,t.jsx)(U,{title:"Faculty Mentor",contact:V[0],fallbackMessage:"Mentor details have not been added."})]}),V.length>1&&(0,t.jsxs)(T.CardFooter,{className:"flex flex-col gap-3 border-t border-border/60 pt-4",children:[(0,t.jsx)("p",{className:"text-xs uppercase tracking-wide text-muted-foreground",children:"Additional Mentors"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-3",children:V.slice(1).map(e=>(0,t.jsxs)(S.Badge,{variant:"outline",className:"gap-2 text-xs",children:[(0,t.jsx)(y,{className:"h-3.5 w-3.5"})," ",e.name??"Mentor"]},e.id))})]})]}),(0,t.jsxs)(T.Card,{className:"border border-gray-200 shadow-sm",children:[(0,t.jsxs)(T.CardHeader,{className:"pb-4",children:[(0,t.jsxs)(T.CardTitle,{className:"flex items-center gap-2 text-lg",style:{color:"#002449"},children:[(0,t.jsx)(u.FileText,{className:"h-5 w-5 text-[#002449]"})," Quick Actions"]}),(0,t.jsx)(T.CardDescription,{children:"Handy shortcuts for POC operations."})]}),(0,t.jsxs)(T.CardContent,{className:"space-y-3",children:[(0,t.jsx)(q,{href:et,label:"Document Submission",description:"Upload and review mandatory documents."}),(0,t.jsx)(q,{href:`/requests?team_id=${f.team_id??e}`,label:"View All Requests",description:"Open the central request queue filtered to this team."}),(0,t.jsx)(q,{href:`/poc/mandate-form?teamId=${f.team_id??e}`,label:"Mandate Form",description:"Review reimbursement and travel mandate details."})]})]})]}),(0,t.jsxs)("section",{className:"space-y-4 xl:space-y-6",children:[(0,t.jsxs)(T.Card,{className:"border border-gray-200 shadow-sm",children:[(0,t.jsxs)(T.CardHeader,{className:"pb-4",children:[(0,t.jsxs)(T.CardTitle,{className:"flex items-center gap-2 text-lg",style:{color:"#002449"},children:[(0,t.jsx)(x.Users,{className:"h-5 w-5 text-[#002449]"})," Team Members"]}),(0,t.jsx)(T.CardDescription,{children:"Full roster of participants. Highlighted entries denote leadership roles."})]}),(0,t.jsx)(T.CardContent,{className:"space-y-4",children:f.members?.length?(0,t.jsx)("div",{className:"space-y-3",children:f.members.map(e=>{let r=e.role?.toLowerCase().includes("leader");return(0,t.jsx)("div",{className:"rounded-lg border border-border/60 bg-white px-4 py-3 shadow-sm",children:(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,t.jsx)("p",{className:"text-sm font-semibold",style:{color:"#002449"},children:e.user?.name||e.user?.email}),(0,t.jsx)(S.Badge,{variant:r?"secondary":"outline",className:"text-[11px] uppercase tracking-wide",children:e.role?.replace(/_/g," ")||"Member"})]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground break-all",children:e.user?.email})]})},e.id)})}):(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"No members have been synced for this team yet."})})]}),(0,t.jsxs)(T.Card,{className:"border border-gray-200 shadow-sm",children:[(0,t.jsxs)(T.CardHeader,{className:"pb-4",children:[(0,t.jsxs)(T.CardTitle,{className:"flex items-center gap-2 text-lg",style:{color:"#002449"},children:[(0,t.jsx)(d,{className:"h-5 w-5 text-[#002449]"})," Request Activity"]}),(0,t.jsx)(T.CardDescription,{children:"All submissions made by this team across fabrication, BOM, and additional requests."})]}),(0,t.jsxs)(T.CardContent,{className:"space-y-4",children:[O&&(0,t.jsx)("div",{className:"rounded-md border border-destructive/20 bg-destructive/10 p-3 text-xs text-destructive",children:O}),0===g.length?(0,t.jsxs)("div",{className:"flex h-full flex-col items-center justify-center gap-3 rounded-lg border border-dashed border-border/60 bg-muted/20 py-10 text-center",children:[(0,t.jsx)(d,{className:"h-6 w-6 text-muted-foreground"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"This team has not raised any requests yet."})]}):(0,t.jsx)("div",{className:"grid gap-4 sm:grid-cols-2 xl:grid-cols-3",children:g.map(e=>(0,t.jsx)(P,{request:e,onStatusChange:ee,disabled:D===e.id,timestampFormatter:F},e.id))})]})]})]})]}):(0,t.jsx)(T.Card,{className:"border border-dashed border-border/60 bg-muted/20",children:(0,t.jsxs)(T.CardHeader,{children:[(0,t.jsx)(T.CardTitle,{className:"text-base font-semibold",children:"Team not found"}),(0,t.jsx)(T.CardDescription,{children:"The selected team could not be located. Please return to the dashboard and try again."})]})})]})}),L&&(0,t.jsx)(A.StatusChangeModal,{open:!!L,currentStatus:L.request.status,targetStatus:L.nextStatus,loading:D===L.request.id,onClose:()=>$(null),onConfirm:async e=>{L&&await G(L.request.id,L.nextStatus,e)}})]})}function B({icon:e,label:r,value:s,helper:a}){return(0,t.jsxs)("div",{className:"rounded-xl border border-white/20 bg-white/10 p-4 text-white shadow-inner",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,t.jsx)("p",{className:"text-xs uppercase tracking-wide text-white/80",children:r}),(0,t.jsx)(e,{className:"h-5 w-5 text-white/70"})]}),(0,t.jsx)("p",{className:"mt-2 text-2xl font-semibold",children:s}),a&&(0,t.jsx)("p",{className:"text-xs text-white/70 mt-1",children:a})]})}function U({title:e,contact:r,highlight:s,badgeLabel:a,fallbackMessage:n="Details not provided yet."}){return(0,t.jsxs)("div",{className:"rounded-xl border border-border/60 bg-white px-5 py-5 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs uppercase tracking-wide text-muted-foreground",children:e}),(0,t.jsx)("p",{className:"mt-1 text-sm font-semibold",style:{color:"#002449"},children:r?.name||r?.email||"Not assigned"})]}),s&&(0,t.jsxs)(S.Badge,{variant:"secondary",className:"bg-emerald-100 text-emerald-700 border-emerald-200 text-[11px]",children:[(0,t.jsx)(y,{className:"mr-1 h-3.5 w-3.5"})," ",a??"Verified"]})]}),r?(0,t.jsxs)("div",{className:"mt-4 space-y-3 text-xs",children:[r.email&&(0,t.jsxs)("div",{className:"flex items-start gap-2 text-muted-foreground",children:[(0,t.jsx)(f.Mail,{className:"mt-0.5 h-3.5 w-3.5"}),(0,t.jsx)("span",{className:"break-all",children:r.email})]}),r.phone&&(0,t.jsxs)("div",{className:"flex items-start gap-2 text-muted-foreground",children:[(0,t.jsx)(p.Phone,{className:"mt-0.5 h-3.5 w-3.5"}),(0,t.jsx)("span",{children:r.phone})]}),r.designation&&(0,t.jsxs)("div",{className:"flex items-start gap-2 text-muted-foreground",children:[(0,t.jsx)(g.User2,{className:"mt-0.5 h-3.5 w-3.5"}),(0,t.jsx)("span",{children:r.designation})]}),"boolean"==typeof r.first_login&&(0,t.jsxs)("div",{className:"flex items-start gap-2 text-muted-foreground",children:[(0,t.jsx)(m.ShieldCheck,{className:"mt-0.5 h-3.5 w-3.5"}),(0,t.jsx)("span",{children:r.first_login?"First login pending":"Credentials activated"})]})]}):(0,t.jsx)("p",{className:"mt-4 text-xs text-muted-foreground",children:n})]})}function q({href:e,label:r,description:s}){return(0,t.jsxs)(a.default,{href:e,className:"flex items-start justify-between gap-3 rounded-lg border border-border/60 bg-muted/20 px-4 py-3 text-sm transition hover:border-[#002449] hover:bg-[#002449]/10",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"font-medium",style:{color:"#002449"},children:r}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:s})]}),(0,t.jsx)(o,{className:"mt-1 h-4 w-4 text-muted-foreground"})]})}function P({request:e,onStatusChange:r,timestampFormatter:s,disabled:n=!1}){let i="Submitted"===e.status?["Processing","Cannot be Processed"]:"Processing"===e.status?["Issued","Cannot be Processed"]:[],o="Issued"===e.status?"text-emerald-600":"Cannot be Processed"===e.status?"text-destructive":"text-[#002449]",l=e.notes?.trim()||e.description?.trim()||"Untitled request";return(0,t.jsxs)(T.Card,{className:"border border-border/70 shadow-sm hover:shadow-md transition",children:[(0,t.jsxs)(T.CardHeader,{className:"pb-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,t.jsx)(S.Badge,{variant:"outline",className:"border-[#002449]/40 text-[11px] font-semibold uppercase tracking-wide text-[#002449]",children:e.category}),(0,t.jsx)(N.RequestProgress,{status:e.status})]}),(0,t.jsx)(T.CardTitle,{className:"text-base font-semibold",style:{color:"#002449"},children:l}),(0,t.jsx)(T.CardDescription,{className:`${o} text-xs font-medium capitalize`,children:e.status.toLowerCase()})]}),(0,t.jsxs)(T.CardContent,{className:"space-y-3 text-xs text-muted-foreground",children:[e.fabrication&&(0,t.jsxs)("div",{className:"flex items-center gap-2 rounded-md border border-dashed border-border/60 bg-muted/30 px-3 py-2",children:[(0,t.jsx)(h.Layers,{className:"h-3.5 w-3.5 text-[#002449]"}),(0,t.jsx)("span",{className:"font-medium text-[#002449]",children:e.fabrication.fab_type}),(0,t.jsx)(k.Separator,{orientation:"vertical",className:"h-3/4"}),(0,t.jsx)("span",{children:e.fabrication.name})]}),(e.bom_items?.length??0)>0&&(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"text-[11px] uppercase tracking-wide text-muted-foreground",children:"BOM Items"}),(0,t.jsx)("div",{className:"space-y-1 max-h-24 overflow-auto pr-0.5",children:e.bom_items.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between rounded-md border border-border/60 bg-background px-2 py-1 text-[11px]",children:[(0,t.jsx)("span",{className:"truncate pr-2 font-medium",style:{color:"#002449"},children:e.item_name}),(0,t.jsxs)("span",{className:"font-mono",children:["×",e.quantity]})]},e.id||e.item_name))})]}),(e.additional_items?.length??0)>0&&(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"text-[11px] uppercase tracking-wide text-muted-foreground",children:"Additional Items"}),(0,t.jsx)("div",{className:"space-y-1 max-h-24 overflow-auto pr-0.5",children:e.additional_items.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between rounded-md border border-border/60 bg-background px-2 py-1 text-[11px]",children:[(0,t.jsx)("span",{className:"truncate pr-2 font-medium",style:{color:"#002449"},children:e.item_name}),(0,t.jsxs)("span",{className:"font-mono",children:["×",e.quantity]})]},e.id||e.item_name))})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-[11px] text-muted-foreground",children:[(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"text-[10px] uppercase tracking-wide",children:"Submitted"}),(0,t.jsx)("time",{title:e.created_at,children:s.format(new Date(e.created_at))})]}),(0,t.jsxs)("div",{className:"flex flex-col items-end text-right",children:[(0,t.jsx)("span",{className:"text-[10px] uppercase tracking-wide",children:"Updated"}),(0,t.jsx)("time",{title:e.updated_at,children:s.format(new Date(e.updated_at))})]})]}),e.remarks&&(0,t.jsxs)("div",{className:"rounded-md border border-dashed border-border/60 bg-muted/20 px-3 py-2 text-[11px] text-muted-foreground",children:[(0,t.jsx)("p",{className:"mb-1 text-[10px] font-semibold uppercase tracking-wide text-[#002449]",children:"Remarks"}),(0,t.jsx)("p",{className:"whitespace-pre-line text-xs text-muted-foreground",children:e.remarks})]})]}),(0,t.jsxs)(T.CardFooter,{className:"flex flex-wrap items-center justify-between gap-2",children:[(0,t.jsx)(C.Button,{asChild:!0,size:"sm",variant:"outline",className:"text-xs",children:(0,t.jsx)(a.default,{href:`/requests/${e.id}`,children:"View Details"})}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:i.map(s=>(0,t.jsx)(C.Button,{size:"sm",variant:"Cannot be Processed"===s?"destructive":"secondary",className:"text-xs",disabled:n,onClick:()=>r(e,s),children:"Cannot be Processed"===s?"Reject":"Processing"===s?"Accept":"Issue"},s))})]})]})}e.s(["default",()=>E],13682)}]);