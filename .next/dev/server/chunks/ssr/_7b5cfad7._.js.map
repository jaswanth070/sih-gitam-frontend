{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/Jaswanth/Downloads/smart-india-hackathon-app/lib/ws-url.ts"],"sourcesContent":["const DEFAULT_REQUESTS_SERVICE_URL = \"http://127.0.0.1:8001\"\r\nconst FALLBACK_REQUESTS_BASE_URL = `${DEFAULT_REQUESTS_SERVICE_URL}/requests/api`\r\n\r\nfunction normalizeRequestsPath(pathname: string): string {\r\n  let normalized = pathname.replace(/\\/+$/, \"\")\r\n  if (!normalized) return \"/requests/api\"\r\n  if (!normalized.startsWith(\"/\")) normalized = `/${normalized}`\r\n  if (normalized.endsWith(\"/requests/api\")) return normalized\r\n  if (normalized.endsWith(\"/requests\")) return `${normalized}/api`\r\n  if (normalized.endsWith(\"/api\")) return normalized.replace(/\\/api$/, \"/requests/api\")\r\n  return `${normalized}/requests/api`\r\n}\r\n\r\nfunction deriveRequestsPrefix(pathname: string): string {\r\n  const fullPath = normalizeRequestsPath(pathname)\r\n  if (fullPath === \"/requests/api\") return \"/requests\"\r\n  return fullPath.replace(/\\/api$/, \"\") || \"/requests\"\r\n}\r\n\r\n/**\r\n * Build the requests service REST base URL, preferring env and falling back to localhost.\r\n */\r\nexport function buildRequestsBaseUrl(): string {\r\n  const envUrl = process.env.NEXT_PUBLIC_REQUESTS_SERVICE_URL\r\n  if (!envUrl) return FALLBACK_REQUESTS_BASE_URL\r\n\r\n  if (envUrl.startsWith(\"/\")) {\r\n    return normalizeRequestsPath(envUrl)\r\n  }\r\n\r\n  try {\r\n    const url = new URL(envUrl)\r\n    url.pathname = normalizeRequestsPath(url.pathname)\r\n    return `${url.origin}${url.pathname}`\r\n  } catch (err) {\r\n    console.warn(\"[ws-url] invalid NEXT_PUBLIC_REQUESTS_SERVICE_URL, using default\", err)\r\n    return FALLBACK_REQUESTS_BASE_URL\r\n  }\r\n}\r\n\r\n/**\r\n * Build WebSocket URL for the requests service, appending JWT token as query param.\r\n */\r\nexport function buildRequestsWsUrl(token: string): string | null {\r\n  const explicitWs = process.env.NEXT_PUBLIC_REQUESTS_WS_URL\r\n  if (explicitWs) {\r\n    try {\r\n      const wsUrl = new URL(explicitWs)\r\n      wsUrl.searchParams.set(\"token\", token)\r\n      return wsUrl.toString()\r\n    } catch (err) {\r\n      console.warn(\"[ws-url] invalid NEXT_PUBLIC_REQUESTS_WS_URL, falling back\", err)\r\n    }\r\n  }\r\n\r\n  const baseRestUrl = process.env.NEXT_PUBLIC_REQUESTS_SERVICE_URL\r\n  let origin = \"\"\r\n  let prefixPath = \"/requests\"\r\n\r\n  if (baseRestUrl) {\r\n    if (baseRestUrl.startsWith(\"http\")) {\r\n      try {\r\n        const url = new URL(baseRestUrl)\r\n        origin = url.origin\r\n        prefixPath = deriveRequestsPrefix(url.pathname)\r\n      } catch (err) {\r\n        console.warn(\"[ws-url] invalid NEXT_PUBLIC_REQUESTS_SERVICE_URL, using defaults\", err)\r\n      }\r\n    } else {\r\n      prefixPath = deriveRequestsPrefix(baseRestUrl)\r\n    }\r\n  }\r\n\r\n  if (!origin) origin = DEFAULT_REQUESTS_SERVICE_URL\r\n\r\n  const secure = origin.startsWith(\"https://\")\r\n  const protocol = secure ? \"wss\" : \"ws\"\r\n  const host = origin.replace(/^https?:\\/\\//, \"\")\r\n  let wsPath = `${prefixPath}/ws/requests/`\r\n  wsPath = wsPath.replace(/\\/+/g, \"/\")\r\n  if (!wsPath.startsWith(\"/\")) wsPath = `/${wsPath}`\r\n\r\n  return `${protocol}://${host}${wsPath}?token=${encodeURIComponent(token)}`\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAA,MAAM,+BAA+B;AACrC,MAAM,6BAA6B,GAAG,6BAA6B,aAAa,CAAC;AAEjF,SAAS,sBAAsB,QAAgB;IAC7C,IAAI,aAAa,SAAS,OAAO,CAAC,QAAQ;IAC1C,IAAI,CAAC,YAAY,OAAO;IACxB,IAAI,CAAC,WAAW,UAAU,CAAC,MAAM,aAAa,CAAC,CAAC,EAAE,YAAY;IAC9D,IAAI,WAAW,QAAQ,CAAC,kBAAkB,OAAO;IACjD,IAAI,WAAW,QAAQ,CAAC,cAAc,OAAO,GAAG,WAAW,IAAI,CAAC;IAChE,IAAI,WAAW,QAAQ,CAAC,SAAS,OAAO,WAAW,OAAO,CAAC,UAAU;IACrE,OAAO,GAAG,WAAW,aAAa,CAAC;AACrC;AAEA,SAAS,qBAAqB,QAAgB;IAC5C,MAAM,WAAW,sBAAsB;IACvC,IAAI,aAAa,iBAAiB,OAAO;IACzC,OAAO,SAAS,OAAO,CAAC,UAAU,OAAO;AAC3C;AAKO,SAAS;IACd,MAAM;IACN;;IAEA,IAAI,OAAO,UAAU,CAAC,MAAM;QAC1B,OAAO,sBAAsB;IAC/B;IAEA,IAAI;QACF,MAAM,MAAM,IAAI,IAAI;QACpB,IAAI,QAAQ,GAAG,sBAAsB,IAAI,QAAQ;QACjD,OAAO,GAAG,IAAI,MAAM,GAAG,IAAI,QAAQ,EAAE;IACvC,EAAE,OAAO,KAAK;QACZ,QAAQ,IAAI,CAAC,oEAAoE;QACjF,OAAO;IACT;AACF;AAKO,SAAS,mBAAmB,KAAa;IAC9C,MAAM;IACN,wCAAgB;QACd,IAAI;YACF,MAAM,QAAQ,IAAI,IAAI;YACtB,MAAM,YAAY,CAAC,GAAG,CAAC,SAAS;YAChC,OAAO,MAAM,QAAQ;QACvB,EAAE,OAAO,KAAK;YACZ,QAAQ,IAAI,CAAC,8DAA8D;QAC7E;IACF;IAEA,MAAM;IACN,IAAI,SAAS;IACb,IAAI,aAAa;IAEjB,wCAAiB;QACf,IAAI,YAAY,UAAU,CAAC,SAAS;YAClC,IAAI;gBACF,MAAM,MAAM,IAAI,IAAI;gBACpB,SAAS,IAAI,MAAM;gBACnB,aAAa,qBAAqB,IAAI,QAAQ;YAChD,EAAE,OAAO,KAAK;gBACZ,QAAQ,IAAI,CAAC,qEAAqE;YACpF;QACF,OAAO;YACL,aAAa,qBAAqB;QACpC;IACF;IAEA,IAAI,CAAC,QAAQ,SAAS;IAEtB,MAAM,SAAS,OAAO,UAAU,CAAC;IACjC,MAAM,WAAW,SAAS,QAAQ;IAClC,MAAM,OAAO,OAAO,OAAO,CAAC,gBAAgB;IAC5C,IAAI,SAAS,GAAG,WAAW,aAAa,CAAC;IACzC,SAAS,OAAO,OAAO,CAAC,QAAQ;IAChC,IAAI,CAAC,OAAO,UAAU,CAAC,MAAM,SAAS,CAAC,CAAC,EAAE,QAAQ;IAElD,OAAO,GAAG,SAAS,GAAG,EAAE,OAAO,OAAO,OAAO,EAAE,mBAAmB,QAAQ;AAC5E"}},
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file:///D:/Jaswanth/Downloads/smart-india-hackathon-app/lib/requests-service.ts"],"sourcesContent":["/**\r\n * Requests Service API Client\r\n * Handles all communication with the Requests microservice\r\n */\r\n\r\nimport { authService } from \"./auth-service\"\r\nimport { buildRequestsBaseUrl } from \"./ws-url\"\r\n\r\nconst BASE_URL = buildRequestsBaseUrl()\r\nconst ACCESS_TOKEN_KEY = \"sih_access_token\"\r\n\r\nexport interface BOMItem {\r\n  id?: number\r\n  item_name: string\r\n  quantity: number\r\n}\r\n\r\nexport interface AdditionalItem {\r\n  id?: number\r\n  item_name: string\r\n  quantity: number\r\n}\r\n\r\nexport interface FabricationDetails {\r\n  fab_type: \"3D\" | \"LASER\" | \"OTHER\"\r\n  custom_type?: string | null\r\n  name?: string | null\r\n  file?: string | null\r\n  storage_path?: string | null\r\n  original_filename?: string | null\r\n  file_mime_type?: string | null\r\n  file_size?: number | null\r\n  uploaded_at?: string | null\r\n  file_url?: string | null\r\n}\r\n\r\nexport interface RequestData {\r\n  id: string\r\n  internal_id?: number\r\n  team_id: string\r\n  team_name?: string\r\n  submitted_by_id: string\r\n  category: \"BOM\" | \"ADDITIONAL\" | \"FABRICATION\"\r\n  status: \"Submitted\" | \"Processing\" | \"Issued\" | \"Cannot be Processed\"\r\n  notes: string // legacy field; backend now may send `description`\r\n  description?: string\r\n  remarks?: string | null\r\n  created_at: string\r\n  updated_at: string\r\n  position?: number\r\n  bom_items: BOMItem[]\r\n  additional_items: AdditionalItem[]\r\n  fabrication: FabricationDetails | null\r\n}\r\n\r\nexport interface ListRequestsParams {\r\n  category?: \"BOM\" | \"ADDITIONAL\" | \"FABRICATION\"\r\n  status?: \"Submitted\" | \"Processing\" | \"Issued\" | \"Cannot be Processed\"\r\n  fab_type?: \"3D\" | \"LASER\" | \"OTHER\"\r\n  team_id?: string\r\n  search?: string\r\n  ordering?: string\r\n  page?: number\r\n}\r\n\r\nexport interface TeamRequestsParams {\r\n  category?: \"BOM\" | \"ADDITIONAL\" | \"FABRICATION\"\r\n  status?: \"Submitted\" | \"Processing\" | \"Issued\" | \"Cannot be Processed\"\r\n  fab_type?: \"3D\" | \"LASER\" | \"OTHER\"\r\n  search?: string\r\n  ordering?: string\r\n  page?: number\r\n  page_size?: number\r\n}\r\n\r\nexport interface RequestsListResponse {\r\n  count: number\r\n  next: string | null\r\n  previous: string | null\r\n  results: RequestData[]\r\n}\r\n\r\n// Queue snapshot response (includes explicit paging metadata and optional positions)\r\nexport interface QueueSnapshotResponse {\r\n  count: number\r\n  page: number\r\n  page_size: number\r\n  results: RequestData[]\r\n}\r\n\r\nexport interface QueueSnapshotParams {\r\n  category?: \"BOM\" | \"ADDITIONAL\" | \"FABRICATION\"\r\n  status?: \"Submitted\" | \"Processing\" | \"Issued\" | \"Cannot be Processed\"\r\n  fab_type?: \"3D\" | \"LASER\" | \"OTHER\"\r\n  include_positions?: boolean\r\n  page?: number\r\n  page_size?: number\r\n}\r\n\r\nasync function apiCall<T>(endpoint: string, options: RequestInit = {}): Promise<T> {\r\n  const url = `${BASE_URL}${endpoint}`\r\n  const headers = new Headers(options.headers || {})\r\n\r\n  const accessToken = authService.getAccessToken()\r\n  if (accessToken && !headers.has(\"Authorization\")) {\r\n    headers.set(\"Authorization\", `Bearer ${accessToken}`)\r\n  }\r\n\r\n  let response = await fetch(url, {\r\n    ...options,\r\n    headers,\r\n  })\r\n\r\n  if (response.status === 401) {\r\n    const refreshToken = authService.getRefreshToken()\r\n    if (refreshToken) {\r\n      try {\r\n        const refreshResponse = await fetch(`${BASE_URL}/token/refresh/`, {\r\n          method: \"POST\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify({ refresh: refreshToken }),\r\n        })\r\n\r\n        if (refreshResponse.ok) {\r\n          const { access } = await refreshResponse.json()\r\n          localStorage.setItem(ACCESS_TOKEN_KEY, access)\r\n          headers.set(\"Authorization\", `Bearer ${access}`)\r\n          response = await fetch(url, { ...options, headers })\r\n        }\r\n      } catch (error) {\r\n        authService.clearTokens()\r\n        window.location.href = \"/login\"\r\n      }\r\n    }\r\n  }\r\n\r\n  if (!response.ok) {\r\n    const error = await response.json().catch(() => ({}))\r\n    throw new Error(error.detail || error.message || `API Error: ${response.status}`)\r\n  }\r\n\r\n  return response.json()\r\n}\r\n\r\nexport const requestsService = {\r\n  // List requests with filters\r\n  async listRequests(params?: ListRequestsParams): Promise<RequestsListResponse> {\r\n    const queryParams = new URLSearchParams()\r\n    if (params?.category) queryParams.append(\"category\", params.category)\r\n    if (params?.status) queryParams.append(\"status\", params.status)\r\n    if (params?.fab_type) queryParams.append(\"fab_type\", params.fab_type)\r\n    if (params?.team_id) queryParams.append(\"team_id\", params.team_id)\r\n    if (params?.search) queryParams.append(\"search\", params.search)\r\n    if (params?.ordering) queryParams.append(\"ordering\", params.ordering)\r\n    if (params?.page) queryParams.append(\"page\", params.page.toString())\r\n\r\n    const endpoint = `/requests/?${queryParams.toString()}`\r\n    return apiCall<RequestsListResponse>(endpoint)\r\n  },\r\n\r\n  // Get queue snapshot\r\n  async getQueueSnapshot(includePositions = true): Promise<RequestsListResponse> {\r\n    const endpoint = `/requests/queue/?include_positions=${includePositions}`\r\n    return apiCall<RequestsListResponse>(endpoint)\r\n  },\r\n\r\n  // Filtered queue snapshot (canonical ordering, optional positions, pagination)\r\n  async getFilteredQueueSnapshot(params: QueueSnapshotParams): Promise<QueueSnapshotResponse> {\r\n    const qp = new URLSearchParams()\r\n    if (params.category) qp.append(\"category\", params.category)\r\n    if (params.status) qp.append(\"status\", params.status)\r\n    if (params.fab_type) qp.append(\"fab_type\", params.fab_type)\r\n    if (params.include_positions !== undefined) qp.append(\"include_positions\", params.include_positions ? \"true\" : \"false\")\r\n    if (params.page) qp.append(\"page\", params.page.toString())\r\n    if (params.page_size) qp.append(\"page_size\", params.page_size.toString())\r\n    const endpoint = `/requests/queue/?${qp.toString()}`\r\n    return apiCall<QueueSnapshotResponse>(endpoint)\r\n  },\r\n\r\n  // Get single request\r\n  async getRequest(id: string): Promise<RequestData> {\r\n    return apiCall<RequestData>(`/requests/${id}/`)\r\n  },\r\n\r\n  // Create BOM request\r\n  async createBOMRequest(teamId: string, notes: string, items: BOMItem[]): Promise<RequestData> {\r\n    return apiCall<RequestData>(\"/requests/\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({\r\n        team_id: teamId,\r\n        category: \"BOM\",\r\n        notes,\r\n        bom_items: items,\r\n      }),\r\n    })\r\n  },\r\n\r\n  // Create Additional request\r\n  async createAdditionalRequest(teamId: string, notes: string, items: AdditionalItem[]): Promise<RequestData> {\r\n    return apiCall<RequestData>(\"/requests/\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({\r\n        team_id: teamId,\r\n        category: \"ADDITIONAL\",\r\n        notes,\r\n        additional_items: items,\r\n      }),\r\n    })\r\n  },\r\n\r\n  // Create Fabrication request with file\r\n  async createFabricationRequest(\r\n    teamId: string,\r\n    notes: string,\r\n    fabDetails: FabricationDetails,\r\n    file?: File,\r\n  ): Promise<RequestData> {\r\n    const formData = new FormData()\r\n    const trimmedNotes = notes.trim()\r\n    formData.append(\"team_id\", teamId)\r\n    formData.append(\"category\", \"FABRICATION\")\r\n    formData.append(\"notes\", trimmedNotes)\r\n    formData.append(\"description\", trimmedNotes)\r\n    formData.append(\"fabrication\", JSON.stringify(fabDetails))\r\n    if (file) {\r\n      formData.append(\"file\", file)\r\n    }\r\n\r\n    const accessToken = authService.getAccessToken()\r\n    const headers = new Headers()\r\n    if (accessToken) {\r\n      headers.set(\"Authorization\", `Bearer ${accessToken}`)\r\n    }\r\n\r\n    const response = await fetch(`${BASE_URL}/requests/`, {\r\n      method: \"POST\",\r\n      headers,\r\n      body: formData,\r\n    })\r\n\r\n    if (!response.ok) {\r\n      const error = await response.json().catch(() => ({}))\r\n      throw new Error(error.detail || error.message || `API Error: ${response.status}`)\r\n    }\r\n    const created: RequestData = await response.json()\r\n\r\n    if (!created?.id) {\r\n      return created\r\n    }\r\n\r\n    // Newly created fabrication requests may require a follow-up fetch to include storage metadata.\r\n    if (created.fabrication) {\r\n      return created\r\n    }\r\n\r\n    try {\r\n      const hydrated = await this.getRequest(created.id)\r\n      return hydrated\r\n    } catch (err) {\r\n      console.warn(\"[requestsService] Unable to hydrate fabrication request\", err)\r\n      return created\r\n    }\r\n  },\r\n\r\n  // Change request status\r\n  async changeRequestStatus(id: string, toStatus: string, note?: string, remarks?: string): Promise<RequestData> {\r\n    return apiCall<RequestData>(`/requests/${id}/change_status/`, {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({\r\n        to_status: toStatus,\r\n        note: note || \"\",\r\n        ...(remarks !== undefined ? { remarks } : {}),\r\n      }),\r\n    })\r\n  },\r\n\r\n  // List all requests for a specific team via dedicated endpoint\r\n  async listTeamRequests(teamId: string, params?: TeamRequestsParams): Promise<RequestsListResponse> {\r\n    const qp = new URLSearchParams()\r\n    if (params?.category) qp.append(\"category\", params.category)\r\n    if (params?.status) qp.append(\"status\", params.status)\r\n    if (params?.fab_type) qp.append(\"fab_type\", params.fab_type)\r\n    if (params?.search) qp.append(\"search\", params.search)\r\n    if (params?.ordering) qp.append(\"ordering\", params.ordering)\r\n    if (params?.page) qp.append(\"page\", params.page.toString())\r\n    if (params?.page_size) qp.append(\"page_size\", params.page_size.toString())\r\n    const endpoint = `/teams/${teamId}/requests/${qp.toString() ? `?${qp.toString()}` : \"\"}`\r\n    return apiCall<RequestsListResponse>(endpoint)\r\n  },\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 281, "column": 0}, "map": {"version":3,"sources":["file:///D:/Jaswanth/Downloads/smart-india-hackathon-app/components/modals/status-change-modal.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useMemo, useState, useEffect } from \"react\"\r\n\r\ninterface StatusChangeModalProps {\r\n  open: boolean\r\n  currentStatus: string\r\n  targetStatus: string\r\n  onClose: () => void\r\n  onConfirm: (remarks?: string) => void\r\n  loading?: boolean\r\n}\r\n\r\nconst SHOULD_REQUIRE_REMARKS = (currentStatus: string, targetStatus: string) => {\r\n  if (targetStatus === \"Cannot be Processed\") return true\r\n  return currentStatus === \"Processing\" && targetStatus === \"Issued\"\r\n}\r\n\r\nexport function StatusChangeModal({\r\n  open,\r\n  currentStatus,\r\n  targetStatus,\r\n  onClose,\r\n  onConfirm,\r\n  loading = false,\r\n}: StatusChangeModalProps) {\r\n  const [remarks, setRemarks] = useState(\"\")\r\n\r\n  useEffect(() => {\r\n    if (open) {\r\n      setRemarks(\"\")\r\n    }\r\n  }, [open, currentStatus, targetStatus])\r\n\r\n  const requiresRemarks = useMemo(\r\n    () => SHOULD_REQUIRE_REMARKS(currentStatus, targetStatus),\r\n    [currentStatus, targetStatus],\r\n  )\r\n\r\n  if (!open) return null\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4\">\r\n      <div className=\"w-full max-w-md rounded-lg bg-white p-6 shadow-xl animate-in fade-in slide-in-from-bottom\">\r\n        <h2 className=\"mb-4 text-lg font-semibold\" style={{ color: \"#002449\" }}>\r\n          Confirm Status Update\r\n        </h2>\r\n\r\n        <div className=\"mb-4 space-y-2 text-sm\">\r\n          <p className=\"text-gray-600\">\r\n            You are changing the request from <span className=\"font-semibold\">{currentStatus}</span> to {\" \"}\r\n            <span className=\"font-semibold\">{targetStatus}</span>.\r\n          </p>\r\n          <p className=\"text-[11px] uppercase tracking-wide text-gray-500\">\r\n            {requiresRemarks ? \"A remark for the team is required before you continue.\" : \"Review the update and confirm when ready.\"}\r\n          </p>\r\n        </div>\r\n\r\n        {requiresRemarks && (\r\n          <div className=\"mb-5 space-y-2\">\r\n            <label className=\"text-xs font-semibold uppercase tracking-wide text-gray-600\">Remarks for Team (required)</label>\r\n            <textarea\r\n              value={remarks}\r\n              onChange={(event) => setRemarks(event.target.value)}\r\n              placeholder=\"Share any guidance or context for the team.\"\r\n              className=\"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[#f75700]/40\"\r\n              rows={3}\r\n            />\r\n            <p className=\"text-[11px] text-gray-500\">\r\n              These remarks are visible to the team on their dashboard and request view.\r\n            </p>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"flex gap-3\">\r\n          <button\r\n            type=\"button\"\r\n            onClick={onClose}\r\n            disabled={loading}\r\n            className=\"flex-1 rounded-lg border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 transition hover:bg-gray-50 disabled:cursor-not-allowed\"\r\n          >\r\n            Cancel\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => onConfirm(remarks.trim() || undefined)}\r\n            disabled={loading}\r\n            className=\"flex-1 rounded-lg bg-[#f75700] px-4 py-2 text-sm font-semibold text-white transition hover:bg-[#f75700]/90 disabled:cursor-not-allowed disabled:opacity-60\"\r\n          >\r\n            {loading ? \"Updating...\" : \"Confirm\"}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAaA,MAAM,yBAAyB,CAAC,eAAuB;IACrD,IAAI,iBAAiB,uBAAuB,OAAO;IACnD,OAAO,kBAAkB,gBAAgB,iBAAiB;AAC5D;AAEO,SAAS,kBAAkB,EAChC,IAAI,EACJ,aAAa,EACb,YAAY,EACZ,OAAO,EACP,SAAS,EACT,UAAU,KAAK,EACQ;IACvB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,gVAAQ,EAAC;IAEvC,IAAA,iVAAS,EAAC;QACR,IAAI,MAAM;YACR,WAAW;QACb;IACF,GAAG;QAAC;QAAM;QAAe;KAAa;IAEtC,MAAM,kBAAkB,IAAA,+UAAO,EAC7B,IAAM,uBAAuB,eAAe,eAC5C;QAAC;QAAe;KAAa;IAG/B,IAAI,CAAC,MAAM,OAAO;IAElB,qBACE,6WAAC;QAAI,WAAU;kBACb,cAAA,6WAAC;YAAI,WAAU;;8BACb,6WAAC;oBAAG,WAAU;oBAA6B,OAAO;wBAAE,OAAO;oBAAU;8BAAG;;;;;;8BAIxE,6WAAC;oBAAI,WAAU;;sCACb,6WAAC;4BAAE,WAAU;;gCAAgB;8CACO,6WAAC;oCAAK,WAAU;8CAAiB;;;;;;gCAAqB;gCAAK;8CAC7F,6WAAC;oCAAK,WAAU;8CAAiB;;;;;;gCAAoB;;;;;;;sCAEvD,6WAAC;4BAAE,WAAU;sCACV,kBAAkB,2DAA2D;;;;;;;;;;;;gBAIjF,iCACC,6WAAC;oBAAI,WAAU;;sCACb,6WAAC;4BAAM,WAAU;sCAA8D;;;;;;sCAC/E,6WAAC;4BACC,OAAO;4BACP,UAAU,CAAC,QAAU,WAAW,MAAM,MAAM,CAAC,KAAK;4BAClD,aAAY;4BACZ,WAAU;4BACV,MAAM;;;;;;sCAER,6WAAC;4BAAE,WAAU;sCAA4B;;;;;;;;;;;;8BAM7C,6WAAC;oBAAI,WAAU;;sCACb,6WAAC;4BACC,MAAK;4BACL,SAAS;4BACT,UAAU;4BACV,WAAU;sCACX;;;;;;sCAGD,6WAAC;4BACC,MAAK;4BACL,SAAS,IAAM,UAAU,QAAQ,IAAI,MAAM;4BAC3C,UAAU;4BACV,WAAU;sCAET,UAAU,gBAAgB;;;;;;;;;;;;;;;;;;;;;;;AAMvC"}},
    {"offset": {"line": 455, "column": 0}, "map": {"version":3,"sources":["file:///D:/Jaswanth/Downloads/smart-india-hackathon-app/components/requests/request-progress.tsx"],"sourcesContent":["\"use client\"\r\nimport React from \"react\"\r\n\r\ninterface RequestProgressProps {\r\n  status: string\r\n}\r\n\r\nconst steps = [\"Submitted\", \"Processing\", \"Issued\"]\r\n\r\nexport function RequestProgress({ status }: RequestProgressProps) {\r\n  return (\r\n    <div className=\"flex items-center gap-2\" aria-label=\"Request status progress\">\r\n      {steps.map((step, idx) => {\r\n        const currentIndex = steps.indexOf(status)\r\n        const done = currentIndex >= idx\r\n        const active = currentIndex === idx\r\n        return (\r\n          <React.Fragment key={step}>\r\n            <div\r\n              className={`flex flex-col items-center text-[10px] font-medium ${done ? \"text-[#002449]\" : \"text-gray-400\"}`}\r\n            >\r\n              <div\r\n                className={`h-2.5 w-2.5 rounded-full ${done ? (active ? \"bg-[#f75700]\" : \"bg-[#002449]\") : \"bg-gray-300\"}`}\r\n              />\r\n              <span className=\"mt-1 tracking-wide\">{step}</span>\r\n            </div>\r\n            {idx < steps.length - 1 && (\r\n              <div\r\n                className={`h-px w-6 ${currentIndex > idx ? \"bg-[#002449]\" : \"bg-gray-300\"}`}\r\n                aria-hidden=\"true\"\r\n              />\r\n            )}\r\n          </React.Fragment>\r\n        )\r\n      })}\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AADA;;;AAOA,MAAM,QAAQ;IAAC;IAAa;IAAc;CAAS;AAE5C,SAAS,gBAAgB,EAAE,MAAM,EAAwB;IAC9D,qBACE,6WAAC;QAAI,WAAU;QAA0B,cAAW;kBACjD,MAAM,GAAG,CAAC,CAAC,MAAM;YAChB,MAAM,eAAe,MAAM,OAAO,CAAC;YACnC,MAAM,OAAO,gBAAgB;YAC7B,MAAM,SAAS,iBAAiB;YAChC,qBACE,6WAAC,+UAAK,CAAC,QAAQ;;kCACb,6WAAC;wBACC,WAAW,CAAC,mDAAmD,EAAE,OAAO,mBAAmB,iBAAiB;;0CAE5G,6WAAC;gCACC,WAAW,CAAC,yBAAyB,EAAE,OAAQ,SAAS,iBAAiB,iBAAkB,eAAe;;;;;;0CAE5G,6WAAC;gCAAK,WAAU;0CAAsB;;;;;;;;;;;;oBAEvC,MAAM,MAAM,MAAM,GAAG,mBACpB,6WAAC;wBACC,WAAW,CAAC,SAAS,EAAE,eAAe,MAAM,iBAAiB,eAAe;wBAC5E,eAAY;;;;;;;eAZG;;;;;QAiBzB;;;;;;AAGN"}},
    {"offset": {"line": 528, "column": 0}, "map": {"version":3,"sources":["file:///D:/Jaswanth/Downloads/smart-india-hackathon-app/app/my-requests/%5Bid%5D/page.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useEffect, useState, useCallback } from \"react\"\r\nimport { useRouter, useParams } from \"next/navigation\"\r\nimport { authService } from \"@/lib/auth-service\"\r\nimport { requestsService, type RequestData } from \"@/lib/requests-service\"\r\nimport { summarizeFabrication, formatFileSize } from \"@/lib/utils\"\r\nimport { StatusChangeModal } from \"@/components/modals/status-change-modal\"\r\nimport { RequestProgress } from \"@/components/requests/request-progress\"\r\n\r\nexport default function RequestDetailPage() {\r\n  const router = useRouter()\r\n  const params = useParams()\r\n  const requestId = params.id as string\r\n  const [request, setRequest] = useState<RequestData | null>(null)\r\n  const [loading, setLoading] = useState(true)\r\n  const [error, setError] = useState(\"\")\r\n  const [changingStatus, setChangingStatus] = useState(false)\r\n  const [pendingStatus, setPendingStatus] = useState<string | null>(null)\r\n\r\n  const user = authService.getCurrentUser()\r\n\r\n  useEffect(() => {\r\n    const token = authService.getAccessToken()\r\n    if (!token) {\r\n      router.push(\"/login\")\r\n      return\r\n    }\r\n  }, [router])\r\n\r\n  useEffect(() => {\r\n    const fetchRequest = async () => {\r\n      try {\r\n        setLoading(true)\r\n        const data = await requestsService.getRequest(requestId)\r\n        setRequest(data)\r\n      } catch (err) {\r\n        console.error(\"[v0] Error fetching request:\", err)\r\n        setError(err instanceof Error ? err.message : \"Failed to load request\")\r\n      } finally {\r\n        setLoading(false)\r\n      }\r\n    }\r\n\r\n    fetchRequest()\r\n  }, [requestId])\r\n\r\n  const shouldCollectRemarks = useCallback((currentStatus: string, nextStatus: string) => {\r\n    if (nextStatus === \"Cannot be Processed\") return true\r\n    return currentStatus === \"Processing\" && nextStatus === \"Issued\"\r\n  }, [])\r\n\r\n  const handleStatusChange = useCallback(\r\n    async (newStatus: string, remarks?: string) => {\r\n      if (!request) return\r\n\r\n      try {\r\n        setChangingStatus(true)\r\n        const updated = await requestsService.changeRequestStatus(\r\n          request.id,\r\n          newStatus,\r\n          `Status changed to ${newStatus}`,\r\n          remarks,\r\n        )\r\n        setRequest(updated)\r\n        setPendingStatus(null)\r\n      } catch (err) {\r\n        setError(err instanceof Error ? err.message : \"Failed to update status\")\r\n      } finally {\r\n        setChangingStatus(false)\r\n      }\r\n    },\r\n    [request],\r\n  )\r\n\r\n  const initiateStatusChange = useCallback(\r\n    (nextStatus: string) => {\r\n      if (!request) return\r\n      if (shouldCollectRemarks(request.status, nextStatus)) {\r\n        setPendingStatus(nextStatus)\r\n        return\r\n      }\r\n\r\n      void handleStatusChange(nextStatus)\r\n    },\r\n    [handleStatusChange, request, shouldCollectRemarks],\r\n  )\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-[40vh] flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"mx-auto mb-4 h-10 w-10 animate-spin rounded-full border-4 border-gray-300 border-t-[#f75700]\" />\r\n          <p className=\"text-gray-600 font-medium\">Loading request...</p>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  if (!request) {\r\n    return (\r\n      <div className=\"p-6\">\r\n        <p className=\"text-sm text-gray-600\">{error || \"Request not found\"}</p>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const canChangeStatus = user?.is_poc || user?.is_admin\r\n  const nextStatus =\r\n    request.status === \"Submitted\"\r\n      ? [\"Processing\", \"Cannot be Processed\"]\r\n      : request.status === \"Processing\"\r\n        ? [\"Issued\", \"Cannot be Processed\"]\r\n        : []\r\n\r\n  const accent = accentColor(request.status)\r\n  const accentSoft = `${accent}1a`\r\n  const headerGradient = `linear-gradient(135deg, ${accentSoft} 0%, #ffffff 65%)`\r\n  const headingText = request.notes.trim().length > 0\r\n    ? request.notes\r\n    : request.description && request.description.trim().length > 0\r\n      ? request.description\r\n      : \"Request\"\r\n  const detailedCopy = request.description && request.description.trim().length > 0\r\n    ? request.description\r\n    : request.notes.trim().length > 0\r\n      ? request.notes\r\n      : \"No additional details were provided.\"\r\n  const createdAt = new Date(request.created_at).toLocaleString()\r\n  const updatedAt = new Date(request.updated_at).toLocaleString()\r\n  const queuePosition = request.position ? `#${request.position}` : \"--\"\r\n  const teamName = request.team_name || \"Unassigned Team\"\r\n  const fabricationSummary = summarizeFabrication(request.fabrication)\r\n  const fabricationPreviewUrl = fabricationSummary?.fileUrl ?? null\r\n\r\n  const openFabricationPreview = () => {\r\n    if (!fabricationPreviewUrl) return\r\n    window.open(fabricationPreviewUrl, \"_blank\", \"noopener,noreferrer\")\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"mx-auto max-w-6xl space-y-8 pb-12\">\r\n        {error && (\r\n          <div className=\"rounded-2xl border border-red-200 bg-red-50 p-4 shadow-sm\">\r\n            <p className=\"text-sm text-red-800\">{error}</p>\r\n          </div>\r\n        )}\r\n\r\n        <section className=\"relative overflow-hidden rounded-3xl border border-gray-200 bg-white shadow-xl\">\r\n          <div className=\"absolute inset-0\" style={{ backgroundImage: headerGradient }} />\r\n          <div className=\"relative space-y-6 p-8 md:p-12\">\r\n            <div className=\"flex flex-wrap items-center gap-3\">\r\n              <span\r\n                className=\"rounded-full px-3 py-1 text-xs font-semibold text-white\"\r\n                style={{ backgroundColor: categoryColor(request.category) }}\r\n              >\r\n                {request.category}\r\n              </span>\r\n              <span\r\n                className=\"rounded-full px-3 py-1 text-xs font-semibold text-white\"\r\n                style={{ backgroundColor: accentColor(request.status) }}\r\n              >\r\n                {request.status}\r\n              </span>\r\n            </div>\r\n\r\n            <div className=\"space-y-4\">\r\n              <h1 className=\"text-3xl font-bold tracking-tight text-gray-900 md:text-4xl\">{headingText}</h1>\r\n              <div className=\"flex flex-wrap items-center gap-2 text-xs font-semibold text-gray-600\">\r\n                <span className=\"inline-flex items-center gap-2 rounded-full bg-white/70 px-3 py-1 shadow-sm\">\r\n                  <span className=\"uppercase tracking-wide text-gray-500\">Request</span>\r\n                  <span className=\"text-gray-900\">#{request.id}</span>\r\n                </span>\r\n                <span className=\"inline-flex items-center gap-2 rounded-full bg-white/70 px-3 py-1 shadow-sm\">\r\n                  <span className=\"uppercase tracking-wide text-gray-500\">Team</span>\r\n                  <span className=\"text-gray-900\">{teamName}</span>\r\n                </span>\r\n                <span className=\"inline-flex items-center gap-2 rounded-full bg-white/70 px-3 py-1 shadow-sm\">\r\n                  <span className=\"uppercase tracking-wide text-gray-500\">Queue</span>\r\n                  <span className=\"text-gray-900\">{queuePosition}</span>\r\n                </span>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex flex-wrap items-center gap-4 rounded-2xl border border-white/60 bg-white/70 px-4 py-3 shadow-inner\">\r\n              <span className=\"text-xs font-semibold uppercase tracking-wide text-gray-500\">Progress</span>\r\n              <RequestProgress status={request.status} />\r\n            </div>\r\n\r\n            <div className=\"grid gap-4 text-xs font-semibold text-gray-700 sm:grid-cols-2 lg:grid-cols-4\">\r\n              <MetaBlock label=\"Created\" value={createdAt} />\r\n              <MetaBlock label=\"Updated\" value={updatedAt} />\r\n              <MetaBlock label=\"Category\" value={request.category} />\r\n              <MetaBlock label=\"Status\" value={request.status} />\r\n            </div>\r\n          </div>\r\n        </section>\r\n\r\n        <div className=\"grid gap-6 lg:grid-cols-[minmax(0,2fr)_minmax(0,1fr)]\">\r\n          <div className=\"space-y-6\">\r\n            <Section title=\"Overview\">\r\n              <p className=\"whitespace-pre-line text-sm leading-relaxed text-gray-700\">{detailedCopy}</p>\r\n            </Section>\r\n\r\n            {request.remarks && (\r\n              <Section title=\"Team Remarks\">\r\n                <div className=\"rounded-xl border border-orange-200 bg-orange-50 px-4 py-4 text-sm text-gray-800 shadow-sm\">\r\n                  <p className=\"text-xs font-semibold uppercase tracking-wide text-[#f75700]\">Latest Remark</p>\r\n                  <p className=\"mt-2 whitespace-pre-line leading-relaxed\">{request.remarks}</p>\r\n                </div>\r\n              </Section>\r\n            )}\r\n\r\n            {request.bom_items && request.bom_items.length > 0 && (\r\n              <Section title=\"BOM Items\">\r\n                <div className=\"overflow-hidden rounded-xl border border-gray-100\">\r\n                  <table className=\"min-w-full divide-y divide-gray-100 text-sm\">\r\n                    <thead className=\"bg-gray-50\">\r\n                      <tr>\r\n                        <th className=\"px-4 py-2 text-left text-xs font-semibold uppercase tracking-wide text-gray-500\">Item Name</th>\r\n                        <th className=\"px-4 py-2 text-right text-xs font-semibold uppercase tracking-wide text-gray-500\">Qty</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody className=\"divide-y divide-gray-100 bg-white\">\r\n                      {request.bom_items.map((item: any, idx: number) => (\r\n                        <tr key={idx} className=\"hover:bg-gray-50\">\r\n                          <td className=\"px-4 py-2 text-sm font-medium text-gray-800\">{item.item_name}</td>\r\n                          <td className=\"px-4 py-2 text-right font-semibold text-gray-900\">{item.quantity}</td>\r\n                        </tr>\r\n                      ))}\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              </Section>\r\n            )}\r\n\r\n            {request.additional_items && request.additional_items.length > 0 && (\r\n              <Section title=\"Additional Items\">\r\n                <div className=\"overflow-hidden rounded-xl border border-gray-100\">\r\n                  <table className=\"min-w-full divide-y divide-gray-100 text-sm\">\r\n                    <thead className=\"bg-gray-50\">\r\n                      <tr>\r\n                        <th className=\"px-4 py-2 text-left text-xs font-semibold uppercase tracking-wide text-gray-500\">Item Name</th>\r\n                        <th className=\"px-4 py-2 text-right text-xs font-semibold uppercase tracking-wide text-gray-500\">Qty</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody className=\"divide-y divide-gray-100 bg-white\">\r\n                      {request.additional_items.map((item: any, idx: number) => (\r\n                        <tr key={idx} className=\"hover:bg-gray-50\">\r\n                          <td className=\"px-4 py-2 text-sm font-medium text-gray-800\">{item.item_name}</td>\r\n                          <td className=\"px-4 py-2 text-right font-semibold text-gray-900\">{item.quantity}</td>\r\n                        </tr>\r\n                      ))}\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              </Section>\r\n            )}\r\n\r\n            {fabricationSummary && (\r\n              <Section title=\"Fabrication Details\">\r\n                <div className=\"grid gap-3 text-sm sm:grid-cols-2\">\r\n                  <MetaBlock\r\n                    label=\"Type\"\r\n                    value={fabricationSummary.secondary ? `${fabricationSummary.base} â€¢ ${fabricationSummary.secondary}` : fabricationSummary.base}\r\n                  />\r\n                  {fabricationSummary.filename && (\r\n                    <MetaBlock label=\"Filename\" value={fabricationSummary.filename} />\r\n                  )}\r\n                  {fabricationSummary.fileSize != null && (\r\n                    <MetaBlock label=\"Size\" value={formatFileSize(fabricationSummary.fileSize)} />\r\n                  )}\r\n                  {fabricationSummary.mimeType && (\r\n                    <MetaBlock label=\"File Type\" value={fabricationSummary.mimeType} />\r\n                  )}\r\n                  {fabricationSummary.uploadedAt && (\r\n                    <MetaBlock label=\"Uploaded\" value={new Date(fabricationSummary.uploadedAt).toLocaleString()} />\r\n                  )}\r\n                </div>\r\n                {fabricationSummary.fileUrl && (\r\n                  <div className=\"rounded-xl border border-gray-200 bg-white px-4 py-3 shadow-sm\">\r\n                    <p className=\"text-xs font-semibold uppercase tracking-wide text-gray-500\">Attachment</p>\r\n                    <div className=\"mt-2 flex flex-wrap gap-2\">\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={openFabricationPreview}\r\n                        className=\"inline-flex items-center justify-center rounded-lg bg-[#f75700] px-3 py-2 text-sm font-semibold text-white transition hover:opacity-90\"\r\n                      >\r\n                        Preview\r\n                      </button>\r\n                      <a\r\n                        href={fabricationSummary.fileUrl}\r\n                        target=\"_blank\"\r\n                        rel=\"noopener noreferrer\"\r\n                        download={fabricationSummary.filename || undefined}\r\n                        className=\"inline-flex items-center gap-2 rounded-lg border border-[#002449]/20 bg-[#002449]/5 px-3 py-2 text-sm font-semibold text-[#002449] transition hover:bg-[#002449]/10\"\r\n                      >\r\n                        Download\r\n                      </a>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </Section>\r\n            )}\r\n          </div>\r\n\r\n          <aside className=\"space-y-6\">\r\n            <div className=\"rounded-2xl border border-gray-200 bg-white p-6 shadow-sm\">\r\n              <h2 className=\"text-sm font-semibold text-[#002449]\">Key Details</h2>\r\n              <dl className=\"mt-4 space-y-3 text-sm\">\r\n                <div className=\"flex items-start justify-between gap-4\">\r\n                  <dt className=\"text-xs font-medium uppercase tracking-wide text-gray-500\">Request ID</dt>\r\n                  <dd className=\"text-sm font-semibold text-gray-900\">#{request.id}</dd>\r\n                </div>\r\n                <div className=\"flex items-start justify-between gap-4\">\r\n                  <dt className=\"text-xs font-medium uppercase tracking-wide text-gray-500\">Team</dt>\r\n                  <dd className=\"max-w-[12rem] text-right text-sm font-semibold text-gray-900\">{teamName}</dd>\r\n                </div>\r\n                <div className=\"flex items-start justify-between gap-4\">\r\n                  <dt className=\"text-xs font-medium uppercase tracking-wide text-gray-500\">Queue Position</dt>\r\n                  <dd className=\"text-sm font-semibold text-gray-900\">{queuePosition}</dd>\r\n                </div>\r\n                <div className=\"flex items-start justify-between gap-4\">\r\n                  <dt className=\"text-xs font-medium uppercase tracking-wide text-gray-500\">Created</dt>\r\n                  <dd className=\"max-w-[12rem] text-right text-sm font-semibold text-gray-900\">{createdAt}</dd>\r\n                </div>\r\n                <div className=\"flex items-start justify-between gap-4\">\r\n                  <dt className=\"text-xs font-medium uppercase tracking-wide text-gray-500\">Updated</dt>\r\n                  <dd className=\"max-w-[12rem] text-right text-sm font-semibold text-gray-900\">{updatedAt}</dd>\r\n                </div>\r\n              </dl>\r\n            </div>\r\n\r\n            {canChangeStatus && nextStatus.length > 0 && (\r\n              <div className=\"rounded-2xl border border-gray-200 bg-white p-6 shadow-sm\">\r\n                <h2 className=\"text-sm font-semibold text-[#f75700]\">Update Status</h2>\r\n                <p className=\"mt-2 text-sm text-gray-600\">\r\n                  Choose the next stage for this request. You can add remarks to guide the team before confirming.\r\n                </p>\r\n                <div className=\"mt-4 flex flex-wrap gap-2\">\r\n                  {nextStatus.map((status) => (\r\n                    <button\r\n                      key={status}\r\n                      onClick={() => initiateStatusChange(status)}\r\n                      disabled={changingStatus}\r\n                      className=\"rounded-lg px-4 py-2 text-xs font-semibold text-white shadow-sm transition disabled:cursor-not-allowed disabled:opacity-70\"\r\n                      style={{ backgroundColor: status === \"Cannot be Processed\" ? \"#f75700\" : \"#078e31\" }}\r\n                    >\r\n                      {changingStatus\r\n                        ? \"Updating...\"\r\n                        : status === \"Cannot be Processed\"\r\n                          ? \"Reject\"\r\n                          : `Mark ${status}`}\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </aside>\r\n        </div>\r\n      </div>\r\n\r\n      {request && pendingStatus && (\r\n        <StatusChangeModal\r\n          open={!!pendingStatus}\r\n          currentStatus={request.status}\r\n          targetStatus={pendingStatus}\r\n          loading={changingStatus}\r\n          onClose={() => setPendingStatus(null)}\r\n          onConfirm={async (remarks) => {\r\n            await handleStatusChange(pendingStatus, remarks)\r\n          }}\r\n        />\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\nfunction categoryColor(cat: string) {\r\n  if (cat === \"BOM\") return \"#002449\"\r\n  if (cat === \"ADDITIONAL\") return \"#007367\"\r\n  return \"#f75700\"\r\n}\r\n\r\nfunction accentColor(status: string) {\r\n  if (status === \"Submitted\") return \"#f75700\"\r\n  if (status === \"Processing\") return \"#002449\"\r\n  if (status === \"Issued\") return \"#078e31\"\r\n  return \"#6b7280\"\r\n}\r\n\r\nfunction MetaBlock({ label, value }: { label: string; value: string }) {\r\n  return (\r\n    <div className=\"rounded-lg border border-gray-200 bg-white px-4 py-3 shadow-sm\">\r\n      <p className=\"text-[10px] font-semibold uppercase tracking-wide text-gray-500\">{label}</p>\r\n      <p className=\"mt-2 text-sm font-semibold text-gray-900 break-words\">{value}</p>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction Section({ title, children }: { title: string; children: React.ReactNode }) {\r\n  return (\r\n    <section className=\"rounded-2xl border border-gray-200 bg-white p-6 shadow-sm\">\r\n      <h2 className=\"text-base font-semibold text-[#002449]\">{title}</h2>\r\n      <div className=\"mt-4 space-y-4\">{children}</div>\r\n    </section>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}}]
}