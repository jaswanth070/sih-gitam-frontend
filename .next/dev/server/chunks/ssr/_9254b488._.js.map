{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/Jaswanth/Downloads/smart-india-hackathon-app/lib/session-store.ts"],"sourcesContent":["import type { AdminTeamSummary, CurrentUser, POCTeam, TeamDetails } from \"./auth-service\"\r\n\r\nconst SESSION_KEY = \"sih_session_cache_v1\"\r\n\r\ntype SessionPayload = {\r\n  currentUser?: CurrentUser | null\r\n  leaderTeam?: TeamDetails | null\r\n  pocTeams?: POCTeam[]\r\n  pocTeamDetails?: Record<string, TeamDetails>\r\n  adminTeams?: AdminTeamSummary[]\r\n  volunteerTeams?: TeamDetails[]\r\n  volunteerTeamDetails?: Record<string, TeamDetails>\r\n  updatedAt?: number\r\n}\r\n\r\nfunction isBrowser(): boolean {\r\n  return typeof window !== \"undefined\" && typeof window.localStorage !== \"undefined\"\r\n}\r\n\r\nfunction readSession(): SessionPayload {\r\n  if (!isBrowser()) return {}\r\n  try {\r\n    const raw = window.localStorage.getItem(SESSION_KEY)\r\n    if (!raw) return {}\r\n    const parsed = JSON.parse(raw) as SessionPayload\r\n    return parsed ?? {}\r\n  } catch (error) {\r\n    console.warn(\"[session-store] Failed to parse session payload\", error)\r\n    return {}\r\n  }\r\n}\r\n\r\nfunction writeSession(payload: SessionPayload): void {\r\n  if (!isBrowser()) return\r\n  try {\r\n    const serialized = JSON.stringify({ ...payload, updatedAt: Date.now() })\r\n    window.localStorage.setItem(SESSION_KEY, serialized)\r\n  } catch (error) {\r\n    console.warn(\"[session-store] Failed to persist session payload\", error)\r\n  }\r\n}\r\n\r\nfunction mergeSession(partial: Partial<SessionPayload>): SessionPayload {\r\n  const existing = readSession()\r\n  const next: SessionPayload = {\r\n    ...existing,\r\n    ...partial,\r\n  }\r\n  writeSession(next)\r\n  return next\r\n}\r\n\r\nexport function clearSessionCache(): void {\r\n  if (!isBrowser()) return\r\n  window.localStorage.removeItem(SESSION_KEY)\r\n}\r\n\r\nexport function storeCurrentUser(user: CurrentUser | null): void {\r\n  mergeSession({ currentUser: user })\r\n}\r\n\r\nexport function getStoredCurrentUser(): CurrentUser | null {\r\n  const session = readSession()\r\n  return session.currentUser ?? null\r\n}\r\n\r\nexport function storeLeaderTeam(team: TeamDetails | null): void {\r\n  mergeSession({ leaderTeam: team })\r\n}\r\n\r\nexport function getStoredLeaderTeam(): TeamDetails | null {\r\n  const session = readSession()\r\n  return session.leaderTeam ?? null\r\n}\r\n\r\nexport function storePOCTeams(teams: POCTeam[]): void {\r\n  mergeSession({ pocTeams: teams })\r\n}\r\n\r\nexport function getStoredPOCTeams(): POCTeam[] {\r\n  const session = readSession()\r\n  return Array.isArray(session.pocTeams) ? session.pocTeams : []\r\n}\r\n\r\nexport function storePOCTeamDetail(team: TeamDetails): void {\r\n  if (!team?.id) return\r\n  const session = readSession()\r\n  const nextDetails = { ...(session.pocTeamDetails ?? {}), [team.id]: team }\r\n  mergeSession({ pocTeamDetails: nextDetails })\r\n}\r\n\r\nexport function getStoredPOCTeamDetail(teamId: string | null | undefined): TeamDetails | null {\r\n  if (!teamId) return null\r\n  const session = readSession()\r\n  const lookup = session.pocTeamDetails ?? {}\r\n  return lookup[teamId] ?? null\r\n}\r\n\r\nexport function storeAdminTeams(teams: AdminTeamSummary[]): void {\r\n  mergeSession({ adminTeams: teams })\r\n}\r\n\r\nexport function getStoredAdminTeams(): AdminTeamSummary[] {\r\n  const session = readSession()\r\n  return Array.isArray(session.adminTeams) ? session.adminTeams : []\r\n}\r\n\r\nexport function storeVolunteerTeams(teams: TeamDetails[]): void {\r\n  mergeSession({ volunteerTeams: teams })\r\n}\r\n\r\nexport function getStoredVolunteerTeams(): TeamDetails[] {\r\n  const session = readSession()\r\n  return Array.isArray(session.volunteerTeams) ? session.volunteerTeams : []\r\n}\r\n\r\nexport function storeVolunteerTeamDetail(team: TeamDetails): void {\r\n  if (!team?.id) return\r\n  const session = readSession()\r\n  const nextDetails = { ...(session.volunteerTeamDetails ?? {}), [team.id]: team }\r\n  mergeSession({ volunteerTeamDetails: nextDetails })\r\n}\r\n\r\nexport function getStoredVolunteerTeamDetail(teamId: string | null | undefined): TeamDetails | null {\r\n  if (!teamId) return null\r\n  const session = readSession()\r\n  const lookup = session.volunteerTeamDetails ?? {}\r\n  return lookup[teamId] ?? null\r\n}\r\n\r\nexport function getSessionSnapshot(): SessionPayload {\r\n  return readSession()\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA,MAAM,cAAc;AAapB,SAAS;IACP,OAAO,kDAAkB,eAAe,OAAO,OAAO,YAAY,KAAK;AACzE;AAEA,SAAS;IACP,IAAI,CAAC,aAAa,OAAO,CAAC;;;AAU5B;AAEA,SAAS,aAAa,OAAuB;IAC3C,IAAI,CAAC,aAAa;;;AAOpB;AAEA,SAAS,aAAa,OAAgC;IACpD,MAAM,WAAW;IACjB,MAAM,OAAuB;QAC3B,GAAG,QAAQ;QACX,GAAG,OAAO;IACZ;IACA,aAAa;IACb,OAAO;AACT;AAEO,SAAS;IACd,IAAI,CAAC,aAAa;;;AAEpB;AAEO,SAAS,iBAAiB,IAAwB;IACvD,aAAa;QAAE,aAAa;IAAK;AACnC;AAEO,SAAS;IACd,MAAM,UAAU;IAChB,OAAO,QAAQ,WAAW,IAAI;AAChC;AAEO,SAAS,gBAAgB,IAAwB;IACtD,aAAa;QAAE,YAAY;IAAK;AAClC;AAEO,SAAS;IACd,MAAM,UAAU;IAChB,OAAO,QAAQ,UAAU,IAAI;AAC/B;AAEO,SAAS,cAAc,KAAgB;IAC5C,aAAa;QAAE,UAAU;IAAM;AACjC;AAEO,SAAS;IACd,MAAM,UAAU;IAChB,OAAO,MAAM,OAAO,CAAC,QAAQ,QAAQ,IAAI,QAAQ,QAAQ,GAAG,EAAE;AAChE;AAEO,SAAS,mBAAmB,IAAiB;IAClD,IAAI,CAAC,MAAM,IAAI;IACf,MAAM,UAAU;IAChB,MAAM,cAAc;QAAE,GAAI,QAAQ,cAAc,IAAI,CAAC,CAAC;QAAG,CAAC,KAAK,EAAE,CAAC,EAAE;IAAK;IACzE,aAAa;QAAE,gBAAgB;IAAY;AAC7C;AAEO,SAAS,uBAAuB,MAAiC;IACtE,IAAI,CAAC,QAAQ,OAAO;IACpB,MAAM,UAAU;IAChB,MAAM,SAAS,QAAQ,cAAc,IAAI,CAAC;IAC1C,OAAO,MAAM,CAAC,OAAO,IAAI;AAC3B;AAEO,SAAS,gBAAgB,KAAyB;IACvD,aAAa;QAAE,YAAY;IAAM;AACnC;AAEO,SAAS;IACd,MAAM,UAAU;IAChB,OAAO,MAAM,OAAO,CAAC,QAAQ,UAAU,IAAI,QAAQ,UAAU,GAAG,EAAE;AACpE;AAEO,SAAS,oBAAoB,KAAoB;IACtD,aAAa;QAAE,gBAAgB;IAAM;AACvC;AAEO,SAAS;IACd,MAAM,UAAU;IAChB,OAAO,MAAM,OAAO,CAAC,QAAQ,cAAc,IAAI,QAAQ,cAAc,GAAG,EAAE;AAC5E;AAEO,SAAS,yBAAyB,IAAiB;IACxD,IAAI,CAAC,MAAM,IAAI;IACf,MAAM,UAAU;IAChB,MAAM,cAAc;QAAE,GAAI,QAAQ,oBAAoB,IAAI,CAAC,CAAC;QAAG,CAAC,KAAK,EAAE,CAAC,EAAE;IAAK;IAC/E,aAAa;QAAE,sBAAsB;IAAY;AACnD;AAEO,SAAS,6BAA6B,MAAiC;IAC5E,IAAI,CAAC,QAAQ,OAAO;IACpB,MAAM,UAAU;IAChB,MAAM,SAAS,QAAQ,oBAAoB,IAAI,CAAC;IAChD,OAAO,MAAM,CAAC,OAAO,IAAI;AAC3B;AAEO,SAAS;IACd,OAAO;AACT"}},
    {"offset": {"line": 152, "column": 0}, "map": {"version":3,"sources":["file:///D:/Jaswanth/Downloads/smart-india-hackathon-app/lib/auth-service.ts"],"sourcesContent":["/**\n * Auth Service API Client\n * Handles all authentication-related API calls with secure token management\n */\n\nimport {\n  clearSessionCache,\n  getStoredAdminTeams,\n  getStoredLeaderTeam,\n  getStoredPOCTeamDetail,\n  getStoredPOCTeams,\n  getStoredVolunteerTeamDetail,\n  getStoredVolunteerTeams,\n  storeAdminTeams,\n  storeCurrentUser,\n  storeLeaderTeam,\n  storePOCTeamDetail,\n  storePOCTeams,\n  storeVolunteerTeamDetail,\n  storeVolunteerTeams,\n} from \"./session-store\"\n\nconst ACCESS_TOKEN_KEY = \"sih_access_token\"\nconst REFRESH_TOKEN_KEY = \"sih_refresh_token\"\nconst FALLBACK_AUTH_BASE_URL = \"http://127.0.0.1:8000/auth/api\"\n\nfunction normalizeAuthPath(pathname: string): string {\n  let normalized = pathname.replace(/\\/+$/, \"\")\n  if (!normalized) return \"/auth/api\"\n  if (!normalized.startsWith(\"/\")) normalized = `/${normalized}`\n  if (normalized.endsWith(\"/auth/api\")) return normalized\n  if (normalized.endsWith(\"/auth\")) return `${normalized}/api`\n  if (normalized.endsWith(\"/api\")) return normalized\n  return `${normalized}/auth/api`\n}\n\nexport function buildAuthBaseUrl(): string {\n  const raw = process.env.NEXT_PUBLIC_AUTH_SERVICE_URL\n  if (!raw) return FALLBACK_AUTH_BASE_URL\n\n  if (raw.startsWith(\"/\")) {\n    return normalizeAuthPath(raw)\n  }\n\n  try {\n    const url = new URL(raw)\n    url.pathname = normalizeAuthPath(url.pathname)\n    return `${url.origin}${url.pathname}`\n  } catch (err) {\n    console.warn(\"[auth-service] invalid NEXT_PUBLIC_AUTH_SERVICE_URL, using default\", err)\n    return FALLBACK_AUTH_BASE_URL\n  }\n}\n\nconst BASE_URL = buildAuthBaseUrl()\n\ntype DecodedTokenPayload = {\n  exp?: number | string\n  [key: string]: unknown\n}\n\nfunction base64UrlDecode(input: string): string {\n  let base64 = input.replace(/-/g, \"+\").replace(/_/g, \"/\")\n  const pad = base64.length % 4\n  if (pad) base64 += \"=\".repeat(4 - pad)\n  if (typeof window !== \"undefined\" && typeof window.atob === \"function\") {\n    return decodeURIComponent(\n      Array.prototype.map\n        .call(window.atob(base64), (c: string) => \"%\" + (\"00\" + c.charCodeAt(0).toString(16)).slice(-2))\n        .join(\"\")\n    )\n  }\n  return Buffer.from(base64, \"base64\").toString(\"utf-8\")\n}\n\nfunction decodeTokenPayload(token: string): DecodedTokenPayload | null {\n  const parts = token.split(\".\")\n  if (parts.length < 2) return null\n  try {\n    return JSON.parse(base64UrlDecode(parts[1])) as DecodedTokenPayload\n  } catch (error) {\n    console.warn(\"[auth-service] Failed to decode token payload\", error)\n    return null\n  }\n}\n\nfunction isTokenExpired(token: string, skewSeconds = 30): boolean {\n  const payload = decodeTokenPayload(token)\n  if (!payload) return true\n  const expValue = payload.exp\n  if (typeof expValue === \"undefined\" || expValue === null) return false\n  const exp = typeof expValue === \"string\" ? Number.parseInt(expValue, 10) : expValue\n  if (!Number.isFinite(exp)) return false\n  const now = Math.floor(Date.now() / 1000)\n  return exp <= now + skewSeconds\n}\n\nexport interface LoginRequest {\n  email: string\n  password: string\n}\n\nexport interface LoginResponse {\n  access: string\n  refresh: string\n}\n\nexport interface OTPRequest {\n  email: string\n  purpose: string\n}\n\nexport interface OTPVerifyRequest {\n  email: string\n  otp: string\n  new_password: string\n}\n\nexport interface RefreshTokenRequest {\n  refresh: string\n}\n\nexport interface RefreshTokenResponse {\n  access: string\n}\n\nexport interface LogoutRequest {\n  refresh: string\n}\n\nexport interface TeamContact {\n  id: string\n  name?: string | null\n  email?: string | null\n  phone?: string | null\n  designation?: string | null\n  role?: string | null\n  gender?: string | null\n  first_login?: boolean\n  is_verified_poc?: boolean\n}\n\nexport interface TeamMemberSummary {\n  id: string\n  role: string\n  phone?: string | null\n  gender?: string | null\n  user: {\n    id: string\n    email: string\n    name: string\n    phone:string\n  }\n}\n\nexport interface ProblemStatementSummary {\n  id: string\n  title?: string | null\n  description?: string | null\n}\n\nexport interface TeamDetails {\n  id: string\n  team_id: string\n  name: string\n  institution: string\n  poc: TeamContact | null\n  faculty_mentor?: TeamContact | null\n  faculty_mentor_1?: TeamContact | null\n  faculty_mentor_2?: TeamContact | null\n  mentors?: TeamContact[]\n  problem_statement?: ProblemStatementSummary | null\n  members: TeamMemberSummary[]\n  members_checked_in?: boolean\n  check_in_remarks?: string | null\n  room_allocation?: string | null\n  check_in_timestamp?: string | null\n  check_in_recorded_by?: TeamContact | null\n  members_checked_out?: boolean\n  check_out_timestamp?: string | null\n  check_out_recorded_by?: TeamContact | null\n  [key: string]: any\n}\n\nexport interface POCTeam {\n  id: string\n  name: string\n  institution: string\n  team_id?: string\n  members_checked_in?: boolean\n  check_in_remarks?: string | null\n  room_allocation?: string | null\n  members_checked_out?: boolean\n  check_in_timestamp?: string | null\n  check_in_recorded_by?: TeamContact | null\n  check_out_timestamp?: string | null\n  check_out_recorded_by?: TeamContact | null\n  [key: string]: any\n}\n\nexport interface CheckInUpdatePayload {\n  members_checked_in?: boolean\n  members_checked_out?: boolean\n  check_in_remarks?: string | null\n  room_allocation?: string | null\n}\n\nexport interface AdminTeamSummary extends TeamDetails {\n  status?: string\n}\n\nexport interface CurrentUser {\n  id?: string\n  email?: string\n  name?: string\n  team_ids?: string[]\n  role?: string\n  is_admin?: boolean\n  is_poc?: boolean\n  is_leader?: boolean\n  is_volunteer?: boolean\n  [key: string]: any\n}\n\nclass AuthService {\n  private accessTokenKey = ACCESS_TOKEN_KEY\n  private refreshTokenKey = REFRESH_TOKEN_KEY\n\n  private setTokens(access: string, refresh: string) {\n    if (typeof window !== \"undefined\") {\n      localStorage.setItem(this.accessTokenKey, access)\n      localStorage.setItem(this.refreshTokenKey, refresh)\n    }\n  }\n\n  getAccessToken(): string | null {\n    if (typeof window !== \"undefined\") {\n      const token = localStorage.getItem(this.accessTokenKey)\n      if (!token) return null\n      if (isTokenExpired(token)) {\n        this.handleSessionExpiration()\n        return null\n      }\n      return token\n    }\n    return null\n  }\n\n  getRefreshToken(): string | null {\n    if (typeof window !== \"undefined\") {\n      const token = localStorage.getItem(this.refreshTokenKey)\n      if (!token) return null\n      if (isTokenExpired(token)) {\n        this.handleSessionExpiration()\n        return null\n      }\n      return token\n    }\n    return null\n  }\n\n  clearTokens() {\n    if (typeof window !== \"undefined\") {\n      localStorage.removeItem(this.accessTokenKey)\n      localStorage.removeItem(this.refreshTokenKey)\n    }\n  }\n\n  private handleSessionExpiration() {\n    this.clearTokens()\n    clearSessionCache()\n    if (typeof window !== \"undefined\") {\n      const redirectTarget = \"/login\"\n      if (window.location.pathname !== redirectTarget) {\n        window.location.href = redirectTarget\n      }\n    }\n  }\n\n  private async request<T>(endpoint: string, options: RequestInit = {}, retryCount = 0): Promise<T> {\n    const url = `${BASE_URL}${endpoint}`\n    const headers = new Headers(options.headers || {})\n\n    const accessToken = this.getAccessToken()\n    if (accessToken) {\n      headers.set(\"Authorization\", `Bearer ${accessToken}`)\n    }\n\n    const response = await fetch(url, {\n      ...options,\n      headers,\n    })\n\n    const isRefreshRequest = endpoint.includes(\"/token/refresh/\")\n\n    if (response.status === 401) {\n      const refreshToken = this.getRefreshToken()\n      if (!isRefreshRequest && retryCount === 0 && refreshToken) {\n        try {\n          await this.refreshAccessToken(refreshToken)\n          return this.request<T>(endpoint, options, 1)\n        } catch (error) {\n          this.handleSessionExpiration()\n          throw new Error(\"Session expired. Please login again.\")\n        }\n      }\n\n      this.handleSessionExpiration()\n    }\n\n    if (!response.ok) {\n      const error = await response.json().catch(() => ({}))\n      const detailMessage = (error.detail || error.message || \"\").toString().toLowerCase()\n      if (\n        detailMessage.includes(\"token\") &&\n        (detailMessage.includes(\"expired\") || detailMessage.includes(\"invalid\"))\n      ) {\n        this.handleSessionExpiration()\n      }\n      throw new Error(error.detail || error.message || `API Error: ${response.status}`)\n    }\n\n    return response.json()\n  }\n\n  getCurrentUser(): CurrentUser | null {\n    if (typeof window === \"undefined\") return null\n    const token = this.getAccessToken()\n    if (!token) return null\n\n    const payload = decodeTokenPayload(token)\n    if (!payload) return null\n    return payload as CurrentUser\n  }\n\n  async login(request: LoginRequest): Promise<LoginResponse> {\n    const response = await this.request<LoginResponse>(\"/token/\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(request),\n    })\n\n    this.setTokens(response.access, response.refresh)\n    if (typeof window !== \"undefined\") {\n      this.initializeUserContext().catch((error: unknown) => {\n        console.warn(\"[auth-service] Failed to initialize session context\", error)\n      })\n    }\n    return response\n  }\n\n  private async refreshAccessToken(refreshToken: string): Promise<string> {\n    const response = await this.request<RefreshTokenResponse>(\"/token/refresh/\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ refresh: refreshToken }),\n    })\n\n    const accessToken = response.access\n    localStorage.setItem(this.accessTokenKey, accessToken)\n    return accessToken\n  }\n\n  async requestOTP(email: string): Promise<{ detail: string }> {\n    return this.request(\"/auth/send-otp/\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ email, purpose: \"first_login\" }),\n    })\n  }\n\n  async verifyOTPAndSetPassword(request: OTPVerifyRequest): Promise<{ detail: string; next: string }> {\n    return this.request(\"/auth/verify-otp/\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(request),\n    })\n  }\n\n  async autoLogin(email: string, password: string): Promise<LoginResponse> {\n    return this.login({ email, password })\n  }\n\n  async getTeamDetails(preview = false): Promise<TeamDetails> {\n    if (!preview) {\n      const cached = getStoredLeaderTeam()\n      if (cached) return cached\n    }\n    const endpoint = preview ? \"/leader/team/?preview=1\" : \"/leader/team/\"\n    const data = await this.request<TeamDetails>(endpoint)\n    if (!preview) {\n      storeLeaderTeam(data)\n    }\n    return data\n  }\n\n  async confirmTeamDetails(): Promise<{ detail: string; next: string }> {\n    return this.request(\"/leader/team/confirm/\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({}),\n    })\n  }\n\n  async getPOCTeams(): Promise<POCTeam[]> {\n    const cached = getStoredPOCTeams()\n    if (cached.length) return cached\n    const data = await this.request<POCTeam[]>(\"/poc/teams/\")\n    storePOCTeams(data)\n    return data\n  }\n\n  async getPOCTeamDetail(teamId: string): Promise<TeamDetails> {\n    const cached = getStoredPOCTeamDetail(teamId)\n    if (cached) return cached\n    const data = await this.request<TeamDetails>(`/poc/teams/${teamId}/`)\n    storePOCTeamDetail(data)\n    return data\n  }\n\n  async getAdminTeams(): Promise<AdminTeamSummary[]> {\n    const cached = getStoredAdminTeams()\n    if (cached.length) return cached\n    const data = await this.request<AdminTeamSummary[]>(\"/admin/teams/\")\n    storeAdminTeams(data)\n    return data\n    // return this.request(\"/poc/teams/\")\n  }\n\n  async getVolunteerTeams(): Promise<TeamDetails[]> {\n    const cached = getStoredVolunteerTeams()\n    if (cached.length) return cached\n    const data = await this.request<TeamDetails[]>(\"/volunteer/teams/\")\n    storeVolunteerTeams(data)\n    return data\n  }\n\n  async getVolunteerTeamDetail(teamId: string): Promise<TeamDetails> {\n    const cached = getStoredVolunteerTeamDetail(teamId)\n    if (cached) return cached\n    const data = await this.request<TeamDetails>(`/volunteer/teams/${teamId}/`)\n    storeVolunteerTeamDetail(data)\n    return data\n  }\n\n  async updateTeamCheckIn(\n    teamId: string,\n    payload: CheckInUpdatePayload,\n    method: \"PATCH\" | \"PUT\" = \"PATCH\",\n  ): Promise<TeamDetails> {\n    let body: Record<string, unknown>\n    if (method === \"PATCH\") {\n      body = { ...payload }\n    } else {\n      body = {\n        members_checked_in: Boolean(payload.members_checked_in),\n        members_checked_out: Boolean(payload.members_checked_out),\n        check_in_remarks: payload.check_in_remarks ?? \"\",\n        room_allocation: payload.room_allocation ?? \"\",\n      }\n    }\n\n    Object.keys(body).forEach((key) => {\n      if (body[key] === undefined) {\n        delete body[key]\n      }\n    })\n\n    const response = await this.request<TeamDetails>(`/teams/${teamId}/check-in/`, {\n      method,\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(body),\n    })\n\n    // Update session caches for all relevant user roles\n    storeVolunteerTeamDetail(response)\n    const volunteerTeams = getStoredVolunteerTeams()\n    if (volunteerTeams.length) {\n      storeVolunteerTeams(volunteerTeams.map((team) => (team.id === response.id ? { ...team, ...response } : team)))\n    }\n\n    storePOCTeamDetail(response)\n    const pocTeams = getStoredPOCTeams()\n    if (pocTeams.length) {\n      storePOCTeams(pocTeams.map((team) => (team.id === response.id ? { ...team, ...response } : team)))\n    }\n\n    const adminTeams = getStoredAdminTeams()\n    if (adminTeams.length) {\n      storeAdminTeams(adminTeams.map((team) => (team.id === response.id ? { ...team, ...response } : team)))\n    }\n\n    const leaderTeam = getStoredLeaderTeam()\n    if (leaderTeam?.id === response.id) {\n      storeLeaderTeam(response)\n    }\n\n    return response\n  }\n\n  async logout(): Promise<{ detail: string }> {\n    const refreshToken = this.getRefreshToken()\n    if (!refreshToken) {\n      this.clearTokens()\n      clearSessionCache()\n      return { detail: \"Logged out\" }\n    }\n\n    try {\n      const response = await this.request<{ detail: string }>(\"/auth/logout/\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ refresh: refreshToken }),\n      })\n      this.clearTokens()\n      clearSessionCache()\n      return response\n    } catch (error) {\n      this.clearTokens()\n      clearSessionCache()\n      return { detail: \"Logged out\" }\n    }\n  }\n\n  async logoutAll(): Promise<{ detail: string }> {\n    try {\n      const response = await this.request<{ detail: string }>(\"/auth/logout_all/\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n      })\n      this.clearTokens()\n      clearSessionCache()\n      return response\n    } catch (error) {\n      this.clearTokens()\n      clearSessionCache()\n      return { detail: \"Logged out from all devices\" }\n    }\n  }\n\n  async initializeUserContext(force = false): Promise<void> {\n    if (typeof window === \"undefined\") return\n    const user = this.getCurrentUser()\n    if (!user) return\n\n    storeCurrentUser(user)\n\n    if (user.is_admin) {\n      if (!force && getStoredAdminTeams().length) return\n      try {\n        const teams = await this.request<AdminTeamSummary[]>(\"/admin/teams/\")\n        storeAdminTeams(teams)\n      } catch (error: unknown) {\n        console.warn(\"[auth-service] unable to cache admin teams\", error)\n      }\n      return\n    }\n\n    if (user.is_poc) {\n      if (!force && getStoredPOCTeams().length) return\n      try {\n        const teams = await this.request<POCTeam[]>(\"/poc/teams/\")\n        storePOCTeams(teams)\n        await Promise.all(\n          teams.map(async (team) => {\n            const teamKey = String(team.id)\n            if (getStoredPOCTeamDetail(teamKey)) return\n            try {\n              const detail = await this.request<TeamDetails>(`/poc/teams/${teamKey}/`)\n              storePOCTeamDetail(detail)\n            } catch (error: unknown) {\n              console.warn(`[auth-service] unable to cache POC team detail for ${teamKey}`, error)\n            }\n          }),\n        )\n      } catch (error: unknown) {\n        console.warn(\"[auth-service] unable to cache POC teams\", error)\n      }\n      return\n    }\n\n    if (user.is_volunteer) {\n      if (!force && getStoredVolunteerTeams().length) return\n      try {\n        const teams = await this.request<TeamDetails[]>(\"/volunteer/teams/\")\n        storeVolunteerTeams(teams)\n      } catch (error: unknown) {\n        console.warn(\"[auth-service] unable to cache volunteer teams\", error)\n      }\n      return\n    }\n\n    if (!force && getStoredLeaderTeam()) return\n    try {\n      const team = await this.request<TeamDetails>(\"/leader/team/\")\n      storeLeaderTeam(team)\n    } catch (error: unknown) {\n      console.warn(\"[auth-service] unable to cache leader team\", error)\n    }\n  }\n}\n\nexport const authService = new AuthService()\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 517, "column": 0}, "map": {"version":3,"sources":["file:///D:/Jaswanth/Downloads/smart-india-hackathon-app/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\nimport type { FabricationDetails, RequestData } from './requests-service'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n\n// Generate a human-friendly request title when notes are absent.\nexport function formatRequestTitle(r: RequestData): string {\n  const desc = (r.description || '').trim()\n  if (desc) return desc\n  const notes = (r.notes || '').trim()\n  if (notes) return notes\n  if (r.category === 'FABRICATION') {\n    const fab = summarizeFabrication(r.fabrication)\n    if (fab) {\n      if (fab.secondary) return `${fab.base} • ${fab.secondary}`\n      return fab.baseLabel\n    }\n  }\n  if (r.category === 'BOM' && r.bom_items?.length) {\n    const shown = r.bom_items.slice(0, 2).map(i => i.item_name).join(', ')\n    const extra = r.bom_items.length > 2 ? ` (+${r.bom_items.length - 2} more)` : ''\n    return `BOM: ${shown}${extra}`\n  }\n  if (r.category === 'ADDITIONAL' && r.additional_items?.length) {\n    const shown = r.additional_items.slice(0, 2).map(i => i.item_name).join(', ')\n    const extra = r.additional_items.length > 2 ? ` (+${r.additional_items.length - 2} more)` : ''\n    return `Additional: ${shown}${extra}`\n  }\n  return `${r.category} #${r.id}`\n}\n\nexport function summarizeFabrication(fabrication?: FabricationDetails | null) {\n  if (!fabrication) return null\n\n  const customOrName = (fabrication.custom_type || fabrication.name || '').trim()\n  const baseLabel = fabrication.fab_type === 'OTHER'\n    ? customOrName || 'Other'\n    : fabrication.fab_type\n  const secondary = fabrication.fab_type === 'OTHER' ? '' : customOrName\n  const filename = (fabrication.original_filename || '').trim()\n    || (fabrication.file ? fabrication.file.split('/').pop() || '' : '')\n  const fileUrl = fabrication.file_url ?? fabrication.file ?? null\n\n  return {\n    base: baseLabel,\n    baseLabel,\n    secondary,\n    customLabel: customOrName,\n    filename,\n    fileSize: fabrication.file_size ?? null,\n    mimeType: fabrication.file_mime_type ?? null,\n    uploadedAt: fabrication.uploaded_at ?? null,\n    fileUrl,\n    storagePath: fabrication.storage_path ?? null,\n  }\n}\n\nexport function formatFileSize(bytes?: number | null): string {\n  if (bytes === undefined || bytes === null || Number.isNaN(bytes)) return ''\n  if (bytes <= 0) return '0 B'\n\n  const units = ['B', 'KB', 'MB', 'GB', 'TB']\n  let size = bytes\n  let unitIndex = 0\n\n  while (size >= 1024 && unitIndex < units.length - 1) {\n    size /= 1024\n    unitIndex += 1\n  }\n\n  const formatted = unitIndex === 0 ? size.toString() : size.toFixed(1)\n  return `${formatted.replace(/\\.0$/,'')} ${units[unitIndex]}`\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 601, "column": 0}, "map": {"version":3,"sources":["file:///D:/Jaswanth/Downloads/smart-india-hackathon-app/components/ui/dialog.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as DialogPrimitive from '@radix-ui/react-dialog'\nimport { XIcon } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Dialog({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Root>) {\n  return <DialogPrimitive.Root data-slot=\"dialog\" {...props} />\n}\n\nfunction DialogTrigger({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Trigger>) {\n  return <DialogPrimitive.Trigger data-slot=\"dialog-trigger\" {...props} />\n}\n\nfunction DialogPortal({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Portal>) {\n  return <DialogPrimitive.Portal data-slot=\"dialog-portal\" {...props} />\n}\n\nfunction DialogClose({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Close>) {\n  return <DialogPrimitive.Close data-slot=\"dialog-close\" {...props} />\n}\n\nfunction DialogOverlay({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Overlay>) {\n  return (\n    <DialogPrimitive.Overlay\n      data-slot=\"dialog-overlay\"\n      className={cn(\n        'data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DialogContent({\n  className,\n  children,\n  showCloseButton = true,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Content> & {\n  showCloseButton?: boolean\n}) {\n  return (\n    <DialogPortal data-slot=\"dialog-portal\">\n      <DialogOverlay />\n      <DialogPrimitive.Content\n        data-slot=\"dialog-content\"\n        className={cn(\n          'bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg',\n          className,\n        )}\n        {...props}\n      >\n        {children}\n        {showCloseButton && (\n          <DialogPrimitive.Close\n            data-slot=\"dialog-close\"\n            className=\"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\"\n          >\n            <XIcon />\n            <span className=\"sr-only\">Close</span>\n          </DialogPrimitive.Close>\n        )}\n      </DialogPrimitive.Content>\n    </DialogPortal>\n  )\n}\n\nfunction DialogHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"dialog-header\"\n      className={cn('flex flex-col gap-2 text-center sm:text-left', className)}\n      {...props}\n    />\n  )\n}\n\nfunction DialogFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"dialog-footer\"\n      className={cn(\n        'flex flex-col-reverse gap-2 sm:flex-row sm:justify-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DialogTitle({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Title>) {\n  return (\n    <DialogPrimitive.Title\n      data-slot=\"dialog-title\"\n      className={cn('text-lg leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction DialogDescription({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Description>) {\n  return (\n    <DialogPrimitive.Description\n      data-slot=\"dialog-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Dialog,\n  DialogClose,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogOverlay,\n  DialogPortal,\n  DialogTitle,\n  DialogTrigger,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAGA;AACA;AAEA;AANA;;;;;AAQA,SAAS,OAAO,EACd,GAAG,OAC+C;IAClD,qBAAO,6WAAC,uRAAoB;QAAC,aAAU;QAAU,GAAG,KAAK;;;;;;AAC3D;AAEA,SAAS,cAAc,EACrB,GAAG,OACkD;IACrD,qBAAO,6WAAC,0RAAuB;QAAC,aAAU;QAAkB,GAAG,KAAK;;;;;;AACtE;AAEA,SAAS,aAAa,EACpB,GAAG,OACiD;IACpD,qBAAO,6WAAC,yRAAsB;QAAC,aAAU;QAAiB,GAAG,KAAK;;;;;;AACpE;AAEA,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,6WAAC,wRAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;AAEA,SAAS,cAAc,EACrB,SAAS,EACT,GAAG,OACkD;IACrD,qBACE,6WAAC,0RAAuB;QACtB,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,0JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,cAAc,EACrB,SAAS,EACT,QAAQ,EACR,kBAAkB,IAAI,EACtB,GAAG,OAGJ;IACC,qBACE,6WAAC;QAAa,aAAU;;0BACtB,6WAAC;;;;;0BACD,6WAAC,0RAAuB;gBACtB,aAAU;gBACV,WAAW,IAAA,kHAAE,EACX,+WACA;gBAED,GAAG,KAAK;;oBAER;oBACA,iCACC,6WAAC,wRAAqB;wBACpB,aAAU;wBACV,WAAU;;0CAEV,6WAAC,6RAAK;;;;;0CACN,6WAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAMtC;AAEA,SAAS,aAAa,EAAE,SAAS,EAAE,GAAG,OAAoC;IACxE,qBACE,6WAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,gDAAgD;QAC7D,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,aAAa,EAAE,SAAS,EAAE,GAAG,OAAoC;IACxE,qBACE,6WAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,0DACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,6WAAC,wRAAqB;QACpB,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACsD;IACzD,qBACE,6WAAC,8RAA2B;QAC1B,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 783, "column": 0}, "map": {"version":3,"sources":["file:///D:/Jaswanth/Downloads/smart-india-hackathon-app/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\n        secondary:\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost:\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\n        icon: 'size-9',\n        'icon-sm': 'size-8',\n        'icon-lg': 'size-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'button'> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : 'button'\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,kPAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,4SAAI,GAAG;IAE9B,qBACE,6WAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 842, "column": 0}, "map": {"version":3,"sources":["file:///D:/Jaswanth/Downloads/smart-india-hackathon-app/components/modals/dos-donts-modal.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useEffect, useRef, useState, type ReactNode } from \"react\"\r\nimport {\r\n  AlertTriangle,\r\n  Ban,\r\n  CheckCircle2,\r\n  ClipboardCheck,\r\n  HardHat,\r\n  ScrollText,\r\n  ShieldAlert,\r\n  ShieldCheck,\r\n} from \"lucide-react\"\r\n\r\nimport {\r\n  Dialog,\r\n  DialogClose,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from \"@/components/ui/dialog\"\r\nimport { Button } from \"@/components/ui/button\"\r\n\r\ninterface GuidesSection {\r\n  title: string\r\n  icon: ReactNode\r\n  bullets: string[]\r\n}\r\n\r\nconst GUIDELINES_SECTIONS: GuidesSection[] = [\r\n  {\r\n    title: \"Participation & Team Regulations\",\r\n    icon: <ShieldCheck className=\"h-5 w-5 text-[#007367]\" aria-hidden=\"true\" />,\r\n    bullets: [\r\n      \"Teams must abide by all AICTE Guidelines throughout the event.\",\r\n      \"Teams cannot change team members at the Nodal Center without prior MIC approval and the official approval letter.\",\r\n      \"Teams must not assist or participate in other teams’ work; focus only on your assigned problem statement.\",\r\n      \"RF-blocking devices may only be used outdoors to prevent interference with other teams.\",\r\n    ],\r\n  },\r\n  {\r\n    title: \"Critical Information & Do’s\",\r\n    icon: <ClipboardCheck className=\"h-5 w-5 text-[#f75700]\" aria-hidden=\"true\" />,\r\n    bullets: [\r\n      \"Carry original College ID, a valid Government ID, and keep them accessible at all times.\",\r\n      \"Pack warm clothing for winter nights and bring personal essentials such as towels, flip-flops, shaving kit, and a reusable water bottle.\",\r\n      \"Accommodation is on a sharing basis with separate hostels for boys and girls; hostels may have common washroom blocks.\",\r\n      \"Essential toiletries are available on campus, but bring anything specific you rely on.\",\r\n      \"Medical support is available for emergencies—alert the organizers immediately if assistance is required.\",\r\n      \"Always lock your room when leaving and keep valuables secure; organizers are not responsible for theft—carry an additional lock.\",\r\n      \"Meals will follow standard Indian cuisine (veg/non-veg). Maintain cleanliness and use trash bins for waste.\",\r\n      \"Stick to the hackathon agenda, follow organizer instructions, and report grievances promptly.\",\r\n      \"No participant or mentor may leave the premises once the hackathon begins. Travel reimbursement follows AICTE norms for sleeper-class train fare or equivalent only.\",\r\n    ],\r\n  },\r\n  {\r\n    title: \"Conduct & Campus Rules\",\r\n    icon: <ShieldAlert className=\"h-5 w-5 text-[#002449]\" aria-hidden=\"true\" />,\r\n    bullets: [\r\n      \"Alcohol consumption, smoking, and the use of drugs without prescription are strictly prohibited.\",\r\n      \"Participants and mentors must remain on campus for the duration of the event; regular attendance will be recorded.\",\r\n      \"Any violation of campus conduct guidelines can lead to disqualification or disciplinary action.\",\r\n    ],\r\n  },\r\n  {\r\n    title: \"Safety & Fabrication Area Rules\",\r\n    icon: <HardHat className=\"h-5 w-5 text-[#078e31]\" aria-hidden=\"true\" />,\r\n    bullets: [\r\n      \"Wear appropriate clothing when working with hardware tools or equipment, and stay indoors at night for safety.\",\r\n      \"Safety shoes are mandatory while using fabrication tools, power tools, or any equipment.\",\r\n      \"Follow all fabrication area safety protocols shared by the organizers.\",\r\n    ],\r\n  },\r\n]\r\n\r\nconst DONT_ITEMS: string[] = [\r\n  \"Do not leave the campus without explicit permission from organizers.\",\r\n  \"Ensure no damage is done to any property anywhere on campus.\",\r\n  \"Inter-hostel movement between boys’ and girls’ hostels is strictly prohibited.\",\r\n  \"Any uncivilized behaviour may result in disqualification or legal action.\",\r\n  \"Alcohol, smoking, and drugs are strictly prohibited at all times.\",\r\n  \"Do not invite local friends into hostel rooms or event accommodations.\",\r\n]\r\n\r\nexport interface DosDontsModalProps {\r\n  open: boolean\r\n  onOpenChange: (open: boolean) => void\r\n  requireAcknowledgement?: boolean\r\n  onAcknowledge?: () => void\r\n}\r\n\r\nexport function DosDontsModal({\r\n  open,\r\n  onOpenChange,\r\n  requireAcknowledgement = false,\r\n  onAcknowledge,\r\n}: DosDontsModalProps) {\r\n  const scrollRef = useRef<HTMLDivElement | null>(null)\r\n  const [hasScrolledToEnd, setHasScrolledToEnd] = useState(false)\r\n\r\n  useEffect(() => {\r\n    if (!open) {\r\n      setHasScrolledToEnd(false)\r\n      return\r\n    }\r\n\r\n    const container = scrollRef.current\r\n    if (container) {\r\n      container.scrollTop = 0\r\n    }\r\n  }, [open])\r\n\r\n  const handleScroll = () => {\r\n    const container = scrollRef.current\r\n    if (!container) return\r\n    const threshold = 16\r\n    if (container.scrollTop + container.clientHeight >= container.scrollHeight - threshold) {\r\n      setHasScrolledToEnd(true)\r\n    }\r\n  }\r\n\r\n  const closeModal = (next: boolean) => {\r\n    onOpenChange(next)\r\n    if (!next) {\r\n      setHasScrolledToEnd(false)\r\n    }\r\n  }\r\n\r\n  const handleAcknowledge = () => {\r\n    if (!requireAcknowledgement) return\r\n    onAcknowledge?.()\r\n    closeModal(false)\r\n  }\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={closeModal}>\r\n      <DialogContent\r\n        className=\"max-h-[85vh] max-w-3xl overflow-hidden border-[#002449]/15 bg-white\"\r\n        showCloseButton={!requireAcknowledgement}\r\n      >\r\n        <DialogHeader className=\"text-left\">\r\n          <DialogTitle className=\"flex items-center gap-2 text-2xl font-bold text-[#002449]\">\r\n            <ScrollText className=\"h-6 w-6 text-[#f75700]\" aria-hidden=\"true\" />\r\n            Do&apos;s &amp; Don&apos;ts Guidelines\r\n          </DialogTitle>\r\n          <DialogDescription className=\"text-sm text-gray-600\">\r\n            Please review the complete list to ensure a safe, disciplined, and smooth hackathon experience.\r\n          </DialogDescription>\r\n        </DialogHeader>\r\n\r\n        <div\r\n          ref={scrollRef}\r\n          onScroll={handleScroll}\r\n          className=\"mt-2 space-y-6 overflow-y-auto pr-2 text-sm text-gray-700\"\r\n          style={{ maxHeight: \"55vh\" }}\r\n        >\r\n          {GUIDELINES_SECTIONS.map((section) => (\r\n            <section key={section.title} className=\"rounded-xl border border-gray-200 bg-gray-50 p-4 shadow-sm\">\r\n              <header className=\"mb-3 flex items-center gap-2\">\r\n                {section.icon}\r\n                <h3 className=\"text-base font-semibold text-[#002449]\">{section.title}</h3>\r\n              </header>\r\n              <ul className=\"space-y-2\">\r\n                {section.bullets.map((bullet) => (\r\n                  <li key={bullet} className=\"flex items-start gap-2\">\r\n                    <CheckCircle2 className=\"mt-0.5 h-4 w-4 shrink-0 text-[#007367]\" aria-hidden=\"true\" />\r\n                    <span>{bullet}</span>\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            </section>\r\n          ))}\r\n\r\n          <section className=\"rounded-xl border border-red-200 bg-red-50 p-4 shadow-sm\">\r\n            <header className=\"mb-3 flex items-center gap-2\">\r\n              <Ban className=\"h-5 w-5 text-red-600\" aria-hidden=\"true\" />\r\n              <h3 className=\"text-base font-semibold text-red-700\">Strict Don&apos;ts</h3>\r\n            </header>\r\n            <ul className=\"space-y-2\">\r\n              {DONT_ITEMS.map((bullet) => (\r\n                <li key={bullet} className=\"flex items-start gap-2\">\r\n                  <AlertTriangle className=\"mt-0.5 h-4 w-4 shrink-0 text-red-600\" aria-hidden=\"true\" />\r\n                  <span>{bullet}</span>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </section>\r\n        </div>\r\n\r\n        <DialogFooter className=\"mt-4\">\r\n          {requireAcknowledgement ? (\r\n            <>\r\n              <Button\r\n                variant=\"outline\"\r\n                onClick={() => closeModal(false)}\r\n                className=\"border-gray-300 text-gray-700 hover:bg-gray-100\"\r\n              >\r\n                Close\r\n              </Button>\r\n              <Button\r\n                onClick={handleAcknowledge}\r\n                disabled={!hasScrolledToEnd}\r\n                className=\"bg-[#005a52] text-white hover:bg-[#003f3a] disabled:cursor-not-allowed disabled:opacity-60\"\r\n              >\r\n                I Agree\r\n              </Button>\r\n            </>\r\n          ) : (\r\n            <DialogClose asChild>\r\n              <Button className=\"bg-[#002449] text-white hover:bg-[#001b32]\">Close</Button>\r\n            </DialogClose>\r\n          )}\r\n        </DialogFooter>\r\n      </DialogContent>\r\n    </Dialog>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1219, "column": 0}, "map": {"version":3,"sources":["file:///D:/Jaswanth/Downloads/smart-india-hackathon-app/app/confirm-team/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useState } from \"react\"\nimport { useRouter } from \"next/navigation\"\nimport Image from \"next/image\"\nimport { authService, type TeamDetails } from \"@/lib/auth-service\"\nimport { DosDontsModal } from \"@/components/modals/dos-donts-modal\"\n\nexport default function ConfirmTeamPage() {\n  const router = useRouter()\n  const [team, setTeam] = useState<TeamDetails | null>(null)\n  const [loading, setLoading] = useState(true)\n  const [confirming, setConfirming] = useState(false)\n  const [error, setError] = useState(\"\")\n  const [guidelinesOpen, setGuidelinesOpen] = useState(false)\n  const [hasAcknowledgedGuidelines, setHasAcknowledgedGuidelines] = useState(false)\n\n  useEffect(() => {\n    const fetchTeamDetails = async () => {\n      try {\n        const teamData = await authService.getTeamDetails(true)\n        setTeam(teamData)\n      } catch (err: any) {\n        setError(err.message || \"Failed to load team details\")\n      } finally {\n        setLoading(false)\n      }\n    }\n\n    fetchTeamDetails()\n  }, [])\n\n  const confirmTeam = async () => {\n    setConfirming(true)\n\n    try {\n      await authService.confirmTeamDetails()\n      router.push(\"/dashboard\")\n    } catch (err: any) {\n      setError(err.message || \"Failed to confirm team details\")\n      setConfirming(false)\n    }\n  }\n\n  const handleConfirmClick = () => {\n    if (confirming) return\n    if (!hasAcknowledgedGuidelines) {\n      setGuidelinesOpen(true)\n      return\n    }\n\n    void confirmTeam()\n  }\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-white flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"w-12 h-12 border-4 border-gray-300 border-t-orange-600 rounded-full animate-spin mx-auto mb-4\"></div>\n          <p className=\"text-gray-600 font-medium\">Loading team details...</p>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"min-h-screen bg-white\">\n      {/* Header with brand strip */}\n      <header className=\"bg-white border-b border-gray-200\">\n        <div className=\"max-w-6xl mx-auto px-4 py-6 flex flex-col md:flex-row md:items-center md:justify-between gap-6\">\n          <div className=\"flex items-center gap-6\">\n            <Image\n              src=\"/sih_banner.png\"\n              alt=\"Smart India Hackathon banner\"\n              width={320}\n              height={90}\n              className=\"h-20 w-auto\"\n              priority\n            />\n            <div className=\"h-16 w-px bg-gray-300\" aria-hidden=\"true\" />\n            <Image src=\"/gitam_logo.png\" alt=\"GITAM\" width={240} height={90} className=\"h-16 w-auto\" />\n          </div>\n          <h1 className=\"text-3xl font-bold text-center md:text-right\" style={{ color: \"#002449\" }}>\n            Team Confirmation\n          </h1>\n        </div>\n      </header>\n\n      <main className=\"max-w-6xl mx-auto px-4 py-8\">\n        <div className=\"space-y-6\">\n          <div className=\"text-center mb-8\">\n            <h2 className=\"text-3xl md:text-4xl font-bold mb-2\" style={{ color: \"#002449\" }}>\n              Confirm Team Details\n            </h2>\n            <p className=\"text-gray-600\">Please verify your team information before proceeding to the dashboard</p>\n          </div>\n\n          {error && (\n            <div className=\"bg-red-50 border border-red-200 rounded-lg p-4\">\n              <p className=\"text-red-800\">{error}</p>\n            </div>\n          )}\n\n          {team && (\n            <>\n              {/* Team Information */}\n              <div className=\"bg-white border border-gray-200 rounded-lg p-8 shadow-md\">\n                <h3 className=\"text-2xl font-bold mb-6\" style={{ color: \"#f75700\" }}>\n                  Team Information\n                </h3>\n\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                  <div className=\"pb-4 border-b border-gray-200\">\n                    <p className=\"text-xs font-medium text-gray-500 uppercase mb-2\">Team Name</p>\n                    <p className=\"text-lg font-semibold text-gray-900\">{team.name}</p>\n                  </div>\n\n                  <div className=\"pb-4 border-b border-gray-200\">\n                    <p className=\"text-xs font-medium text-gray-500 uppercase mb-2\">Institution</p>\n                    <p className=\"text-lg font-semibold text-gray-900\">{team.institution}</p>\n                  </div>\n\n                  {team.problem_statement && (\n                    <div className=\"pb-4 border-b border-gray-200 md:col-span-2\">\n                      <p className=\"text-xs font-medium text-gray-500 uppercase mb-2\">Problem Statement</p>\n                      <p className=\"text-lg font-semibold text-gray-900\">{team.problem_statement.title}</p>\n                      <p className=\"text-sm font-medium mt-2\" style={{ color: \"#f75700\" }}>\n                        ID: {team.problem_statement.id}\n                      </p>\n                    </div>\n                  )}\n\n                  {team.faculty_mentor && (\n                    <div className=\"pb-4 border-b border-gray-200\">\n                      <p className=\"text-xs font-medium text-gray-500 uppercase mb-2\">Faculty Mentor</p>\n                      <p className=\"text-lg font-semibold text-gray-900\">{team.faculty_mentor.name}</p>\n                    </div>\n                  )}\n                </div>\n              </div>\n\n              {/* Team Members */}\n              <div className=\"bg-white border border-gray-200 rounded-lg p-8 shadow-md\">\n                <h3 className=\"text-2xl font-bold mb-6\" style={{ color: \"#f75700\" }}>\n                  Team Members ({team.members?.length || 0})\n                </h3>\n\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n                  {team.members?.map((member, idx) => (\n                    <div\n                      key={idx}\n                      className=\"p-4 border border-gray-200 rounded-lg hover:border-gray-400 transition-colors\"\n                    >\n                      <p className=\"font-semibold text-gray-900\">{member.user.name}</p>\n                      <p className=\"text-sm text-gray-600 mt-2 break-all\">{member.user.email}</p>\n                      <p className=\"text-xs font-bold mt-3 uppercase\" style={{ color: \"#f75700\" }}>\n                        {member.role}\n                      </p>\n                    </div>\n                  ))}\n                </div>\n              </div>\n\n              {/* Confirmation Actions */}\n              <div className=\"bg-white border border-gray-200 rounded-lg p-8 shadow-md\">\n                <div className=\"space-y-6\">\n                  <div className=\"p-4 rounded-lg\" style={{ backgroundColor: \"#f0e0c1\" }}>\n                    <p className=\"text-sm font-medium text-gray-900\">\n                      Please review all information above carefully. Once confirmed, you will be redirected to your\n                      dashboard.\n                    </p>\n                  </div>\n\n                  <div className=\"flex flex-col sm:flex-row gap-3\">\n                    <button\n                      onClick={handleConfirmClick}\n                      disabled={confirming}\n                      className={`flex-1 rounded-lg py-3 font-semibold transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-70 ${\n                        hasAcknowledgedGuidelines\n                          ? \"bg-[#005a52] text-white shadow-md hover:bg-[#00423e] focus-visible:ring-[#00423e]\"\n                          : \"bg-[#e5e7eb] text-gray-600 shadow-inner hover:bg-[#d7dce2] focus-visible:ring-[#cbd0d6]\"\n                      }`}\n                    >\n                      {confirming\n                        ? \"Confirming...\"\n                        : hasAcknowledgedGuidelines\n                          ? \"Confirm & Continue\"\n                          : \"Review Do's & Don'ts to confirm\"}\n                    </button>\n                    <button\n                      onClick={() => router.push(\"/\")}\n                      className=\"flex-1 py-3 text-gray-700 font-semibold rounded-lg border border-gray-300 hover:bg-gray-50 transition-colors\"\n                    >\n                      Cancel\n                    </button>\n                  </div>\n                  {!hasAcknowledgedGuidelines && (\n                    <p className=\"text-xs text-gray-600\">\n                      You must review the Do&apos;s &amp; Don&apos;ts before confirmation. Click the confirm button to open the guidelines.\n                    </p>\n                  )}\n                </div>\n              </div>\n            </>\n          )}\n        </div>\n      </main>\n      <DosDontsModal\n        open={guidelinesOpen}\n        onOpenChange={setGuidelinesOpen}\n        requireAcknowledgement\n        onAcknowledge={() => {\n          setHasAcknowledgedGuidelines(true)\n        }}\n      />\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}