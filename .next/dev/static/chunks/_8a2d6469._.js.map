{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/Jaswanth/Downloads/smart-india-hackathon-app/lib/ws-url.ts"],"sourcesContent":["const DEFAULT_REQUESTS_SERVICE_URL = \"http://127.0.0.1:8001\"\r\nconst FALLBACK_REQUESTS_BASE_URL = `${DEFAULT_REQUESTS_SERVICE_URL}/requests/api`\r\n\r\nfunction normalizeRequestsPath(pathname: string): string {\r\n  let normalized = pathname.replace(/\\/+$/, \"\")\r\n  if (!normalized) return \"/requests/api\"\r\n  if (!normalized.startsWith(\"/\")) normalized = `/${normalized}`\r\n  if (normalized.endsWith(\"/requests/api\")) return normalized\r\n  if (normalized.endsWith(\"/requests\")) return `${normalized}/api`\r\n  if (normalized.endsWith(\"/api\")) return normalized.replace(/\\/api$/, \"/requests/api\")\r\n  return `${normalized}/requests/api`\r\n}\r\n\r\nfunction deriveRequestsPrefix(pathname: string): string {\r\n  const fullPath = normalizeRequestsPath(pathname)\r\n  if (fullPath === \"/requests/api\") return \"/requests\"\r\n  return fullPath.replace(/\\/api$/, \"\") || \"/requests\"\r\n}\r\n\r\n/**\r\n * Build the requests service REST base URL, preferring env and falling back to localhost.\r\n */\r\nexport function buildRequestsBaseUrl(): string {\r\n  const envUrl = process.env.NEXT_PUBLIC_REQUESTS_SERVICE_URL\r\n  if (!envUrl) return FALLBACK_REQUESTS_BASE_URL\r\n\r\n  if (envUrl.startsWith(\"/\")) {\r\n    return normalizeRequestsPath(envUrl)\r\n  }\r\n\r\n  try {\r\n    const url = new URL(envUrl)\r\n    url.pathname = normalizeRequestsPath(url.pathname)\r\n    return `${url.origin}${url.pathname}`\r\n  } catch (err) {\r\n    console.warn(\"[ws-url] invalid NEXT_PUBLIC_REQUESTS_SERVICE_URL, using default\", err)\r\n    return FALLBACK_REQUESTS_BASE_URL\r\n  }\r\n}\r\n\r\n/**\r\n * Build WebSocket URL for the requests service, appending JWT token as query param.\r\n */\r\nexport function buildRequestsWsUrl(token: string): string | null {\r\n  const explicitWs = process.env.NEXT_PUBLIC_REQUESTS_WS_URL\r\n  if (explicitWs) {\r\n    try {\r\n      const wsUrl = new URL(explicitWs)\r\n      wsUrl.searchParams.set(\"token\", token)\r\n      return wsUrl.toString()\r\n    } catch (err) {\r\n      console.warn(\"[ws-url] invalid NEXT_PUBLIC_REQUESTS_WS_URL, falling back\", err)\r\n    }\r\n  }\r\n\r\n  const baseRestUrl = process.env.NEXT_PUBLIC_REQUESTS_SERVICE_URL\r\n  let origin = \"\"\r\n  let prefixPath = \"/requests\"\r\n\r\n  if (baseRestUrl) {\r\n    if (baseRestUrl.startsWith(\"http\")) {\r\n      try {\r\n        const url = new URL(baseRestUrl)\r\n        origin = url.origin\r\n        prefixPath = deriveRequestsPrefix(url.pathname)\r\n      } catch (err) {\r\n        console.warn(\"[ws-url] invalid NEXT_PUBLIC_REQUESTS_SERVICE_URL, using defaults\", err)\r\n      }\r\n    } else {\r\n      prefixPath = deriveRequestsPrefix(baseRestUrl)\r\n    }\r\n  }\r\n\r\n  if (!origin) origin = DEFAULT_REQUESTS_SERVICE_URL\r\n\r\n  const secure = origin.startsWith(\"https://\")\r\n  const protocol = secure ? \"wss\" : \"ws\"\r\n  const host = origin.replace(/^https?:\\/\\//, \"\")\r\n  let wsPath = `${prefixPath}/ws/requests/`\r\n  wsPath = wsPath.replace(/\\/+/g, \"/\")\r\n  if (!wsPath.startsWith(\"/\")) wsPath = `/${wsPath}`\r\n\r\n  return `${protocol}://${host}${wsPath}?token=${encodeURIComponent(token)}`\r\n}\r\n"],"names":[],"mappings":";;;;;;AAuBiB;AAvBjB,MAAM,+BAA+B;AACrC,MAAM,6BAA6B,GAAG,6BAA6B,aAAa,CAAC;AAEjF,SAAS,sBAAsB,QAAgB;IAC7C,IAAI,aAAa,SAAS,OAAO,CAAC,QAAQ;IAC1C,IAAI,CAAC,YAAY,OAAO;IACxB,IAAI,CAAC,WAAW,UAAU,CAAC,MAAM,aAAa,CAAC,CAAC,EAAE,YAAY;IAC9D,IAAI,WAAW,QAAQ,CAAC,kBAAkB,OAAO;IACjD,IAAI,WAAW,QAAQ,CAAC,cAAc,OAAO,GAAG,WAAW,IAAI,CAAC;IAChE,IAAI,WAAW,QAAQ,CAAC,SAAS,OAAO,WAAW,OAAO,CAAC,UAAU;IACrE,OAAO,GAAG,WAAW,aAAa,CAAC;AACrC;AAEA,SAAS,qBAAqB,QAAgB;IAC5C,MAAM,WAAW,sBAAsB;IACvC,IAAI,aAAa,iBAAiB,OAAO;IACzC,OAAO,SAAS,OAAO,CAAC,UAAU,OAAO;AAC3C;AAKO,SAAS;IACd,MAAM;IACN;;IAEA,IAAI,OAAO,UAAU,CAAC,MAAM;QAC1B,OAAO,sBAAsB;IAC/B;IAEA,IAAI;QACF,MAAM,MAAM,IAAI,IAAI;QACpB,IAAI,QAAQ,GAAG,sBAAsB,IAAI,QAAQ;QACjD,OAAO,GAAG,IAAI,MAAM,GAAG,IAAI,QAAQ,EAAE;IACvC,EAAE,OAAO,KAAK;QACZ,QAAQ,IAAI,CAAC,oEAAoE;QACjF,OAAO;IACT;AACF;AAKO,SAAS,mBAAmB,KAAa;IAC9C,MAAM;IACN,wCAAgB;QACd,IAAI;YACF,MAAM,QAAQ,IAAI,IAAI;YACtB,MAAM,YAAY,CAAC,GAAG,CAAC,SAAS;YAChC,OAAO,MAAM,QAAQ;QACvB,EAAE,OAAO,KAAK;YACZ,QAAQ,IAAI,CAAC,8DAA8D;QAC7E;IACF;IAEA,MAAM;IACN,IAAI,SAAS;IACb,IAAI,aAAa;IAEjB,wCAAiB;QACf,IAAI,YAAY,UAAU,CAAC,SAAS;YAClC,IAAI;gBACF,MAAM,MAAM,IAAI,IAAI;gBACpB,SAAS,IAAI,MAAM;gBACnB,aAAa,qBAAqB,IAAI,QAAQ;YAChD,EAAE,OAAO,KAAK;gBACZ,QAAQ,IAAI,CAAC,qEAAqE;YACpF;QACF,OAAO;YACL,aAAa,qBAAqB;QACpC;IACF;IAEA,IAAI,CAAC,QAAQ,SAAS;IAEtB,MAAM,SAAS,OAAO,UAAU,CAAC;IACjC,MAAM,WAAW,SAAS,QAAQ;IAClC,MAAM,OAAO,OAAO,OAAO,CAAC,gBAAgB;IAC5C,IAAI,SAAS,GAAG,WAAW,aAAa,CAAC;IACzC,SAAS,OAAO,OAAO,CAAC,QAAQ;IAChC,IAAI,CAAC,OAAO,UAAU,CAAC,MAAM,SAAS,CAAC,CAAC,EAAE,QAAQ;IAElD,OAAO,GAAG,SAAS,GAAG,EAAE,OAAO,OAAO,OAAO,EAAE,mBAAmB,QAAQ;AAC5E"}},
    {"offset": {"line": 86, "column": 0}, "map": {"version":3,"sources":["file:///D:/Jaswanth/Downloads/smart-india-hackathon-app/lib/requests-service.ts"],"sourcesContent":["/**\r\n * Requests Service API Client\r\n * Handles all communication with the Requests microservice\r\n */\r\n\r\nimport { authService } from \"./auth-service\"\r\nimport { buildRequestsBaseUrl } from \"./ws-url\"\r\n\r\nconst BASE_URL = buildRequestsBaseUrl()\r\nconst ACCESS_TOKEN_KEY = \"sih_access_token\"\r\n\r\nexport interface BOMItem {\r\n  id?: number\r\n  item_name: string\r\n  quantity: number\r\n}\r\n\r\nexport interface AdditionalItem {\r\n  id?: number\r\n  item_name: string\r\n  quantity: number\r\n}\r\n\r\nexport interface FabricationDetails {\r\n  fab_type: \"3D\" | \"LASER\" | \"OTHER\"\r\n  name: string\r\n  file?: string\r\n}\r\n\r\nexport interface RequestData {\r\n  id: number\r\n  team_id: string\r\n  team_name?: string\r\n  submitted_by_id: string\r\n  category: \"BOM\" | \"ADDITIONAL\" | \"FABRICATION\"\r\n  status: \"Submitted\" | \"Processing\" | \"Issued\" | \"Cannot be Processed\"\r\n  notes: string // legacy field; backend now may send `description`\r\n  description?: string\r\n  created_at: string\r\n  updated_at: string\r\n  position?: number\r\n  bom_items: BOMItem[]\r\n  additional_items: AdditionalItem[]\r\n  fabrication: FabricationDetails | null\r\n}\r\n\r\nexport interface ListRequestsParams {\r\n  category?: \"BOM\" | \"ADDITIONAL\" | \"FABRICATION\"\r\n  status?: \"Submitted\" | \"Processing\" | \"Issued\" | \"Cannot be Processed\"\r\n  fab_type?: \"3D\" | \"LASER\" | \"OTHER\"\r\n  team_id?: string\r\n  search?: string\r\n  ordering?: string\r\n  page?: number\r\n}\r\n\r\nexport interface TeamRequestsParams {\r\n  category?: \"BOM\" | \"ADDITIONAL\" | \"FABRICATION\"\r\n  status?: \"Submitted\" | \"Processing\" | \"Issued\" | \"Cannot be Processed\"\r\n  fab_type?: \"3D\" | \"LASER\" | \"OTHER\"\r\n  search?: string\r\n  ordering?: string\r\n  page?: number\r\n  page_size?: number\r\n}\r\n\r\nexport interface RequestsListResponse {\r\n  count: number\r\n  next: string | null\r\n  previous: string | null\r\n  results: RequestData[]\r\n}\r\n\r\n// Queue snapshot response (includes explicit paging metadata and optional positions)\r\nexport interface QueueSnapshotResponse {\r\n  count: number\r\n  page: number\r\n  page_size: number\r\n  results: RequestData[]\r\n}\r\n\r\nexport interface QueueSnapshotParams {\r\n  category?: \"BOM\" | \"ADDITIONAL\" | \"FABRICATION\"\r\n  status?: \"Submitted\" | \"Processing\" | \"Issued\" | \"Cannot be Processed\"\r\n  fab_type?: \"3D\" | \"LASER\" | \"OTHER\"\r\n  include_positions?: boolean\r\n  page?: number\r\n  page_size?: number\r\n}\r\n\r\nasync function apiCall<T>(endpoint: string, options: RequestInit = {}): Promise<T> {\r\n  const url = `${BASE_URL}${endpoint}`\r\n  const headers = new Headers(options.headers || {})\r\n\r\n  const accessToken = authService.getAccessToken()\r\n  if (accessToken && !headers.has(\"Authorization\")) {\r\n    headers.set(\"Authorization\", `Bearer ${accessToken}`)\r\n  }\r\n\r\n  let response = await fetch(url, {\r\n    ...options,\r\n    headers,\r\n  })\r\n\r\n  if (response.status === 401) {\r\n    const refreshToken = authService.getRefreshToken()\r\n    if (refreshToken) {\r\n      try {\r\n        const refreshResponse = await fetch(`${BASE_URL}/token/refresh/`, {\r\n          method: \"POST\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify({ refresh: refreshToken }),\r\n        })\r\n\r\n        if (refreshResponse.ok) {\r\n          const { access } = await refreshResponse.json()\r\n          localStorage.setItem(ACCESS_TOKEN_KEY, access)\r\n          headers.set(\"Authorization\", `Bearer ${access}`)\r\n          response = await fetch(url, { ...options, headers })\r\n        }\r\n      } catch (error) {\r\n        authService.clearTokens()\r\n        window.location.href = \"/login\"\r\n      }\r\n    }\r\n  }\r\n\r\n  if (!response.ok) {\r\n    const error = await response.json().catch(() => ({}))\r\n    throw new Error(error.detail || error.message || `API Error: ${response.status}`)\r\n  }\r\n\r\n  return response.json()\r\n}\r\n\r\nexport const requestsService = {\r\n  // List requests with filters\r\n  async listRequests(params?: ListRequestsParams): Promise<RequestsListResponse> {\r\n    const queryParams = new URLSearchParams()\r\n    if (params?.category) queryParams.append(\"category\", params.category)\r\n    if (params?.status) queryParams.append(\"status\", params.status)\r\n    if (params?.fab_type) queryParams.append(\"fab_type\", params.fab_type)\r\n    if (params?.team_id) queryParams.append(\"team_id\", params.team_id)\r\n    if (params?.search) queryParams.append(\"search\", params.search)\r\n    if (params?.ordering) queryParams.append(\"ordering\", params.ordering)\r\n    if (params?.page) queryParams.append(\"page\", params.page.toString())\r\n\r\n    const endpoint = `/requests/?${queryParams.toString()}`\r\n    return apiCall<RequestsListResponse>(endpoint)\r\n  },\r\n\r\n  // Get queue snapshot\r\n  async getQueueSnapshot(includePositions = true): Promise<RequestsListResponse> {\r\n    const endpoint = `/requests/queue/?include_positions=${includePositions}`\r\n    return apiCall<RequestsListResponse>(endpoint)\r\n  },\r\n\r\n  // Filtered queue snapshot (canonical ordering, optional positions, pagination)\r\n  async getFilteredQueueSnapshot(params: QueueSnapshotParams): Promise<QueueSnapshotResponse> {\r\n    const qp = new URLSearchParams()\r\n    if (params.category) qp.append(\"category\", params.category)\r\n    if (params.status) qp.append(\"status\", params.status)\r\n    if (params.fab_type) qp.append(\"fab_type\", params.fab_type)\r\n    if (params.include_positions !== undefined) qp.append(\"include_positions\", params.include_positions ? \"true\" : \"false\")\r\n    if (params.page) qp.append(\"page\", params.page.toString())\r\n    if (params.page_size) qp.append(\"page_size\", params.page_size.toString())\r\n    const endpoint = `/requests/queue/?${qp.toString()}`\r\n    return apiCall<QueueSnapshotResponse>(endpoint)\r\n  },\r\n\r\n  // Get single request\r\n  async getRequest(id: number): Promise<RequestData> {\r\n    return apiCall<RequestData>(`/requests/${id}/`)\r\n  },\r\n\r\n  // Create BOM request\r\n  async createBOMRequest(teamId: string, notes: string, items: BOMItem[]): Promise<RequestData> {\r\n    return apiCall<RequestData>(\"/requests/\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({\r\n        team_id: teamId,\r\n        category: \"BOM\",\r\n        notes,\r\n        bom_items: items,\r\n      }),\r\n    })\r\n  },\r\n\r\n  // Create Additional request\r\n  async createAdditionalRequest(teamId: string, notes: string, items: AdditionalItem[]): Promise<RequestData> {\r\n    return apiCall<RequestData>(\"/requests/\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({\r\n        team_id: teamId,\r\n        category: \"ADDITIONAL\",\r\n        notes,\r\n        additional_items: items,\r\n      }),\r\n    })\r\n  },\r\n\r\n  // Create Fabrication request with file\r\n  async createFabricationRequest(\r\n    teamId: string,\r\n    notes: string,\r\n    fabDetails: FabricationDetails,\r\n    file?: File,\r\n  ): Promise<RequestData> {\r\n    const formData = new FormData()\r\n    formData.append(\"team_id\", teamId)\r\n    formData.append(\"category\", \"FABRICATION\")\r\n    formData.append(\"notes\", notes)\r\n    formData.append(\"fabrication\", JSON.stringify(fabDetails))\r\n    if (file) {\r\n      formData.append(\"file\", file)\r\n    }\r\n\r\n    const accessToken = authService.getAccessToken()\r\n    const headers = new Headers()\r\n    if (accessToken) {\r\n      headers.set(\"Authorization\", `Bearer ${accessToken}`)\r\n    }\r\n\r\n    const response = await fetch(`${BASE_URL}/requests/`, {\r\n      method: \"POST\",\r\n      headers,\r\n      body: formData,\r\n    })\r\n\r\n    if (!response.ok) {\r\n      const error = await response.json().catch(() => ({}))\r\n      throw new Error(error.detail || error.message || `API Error: ${response.status}`)\r\n    }\r\n\r\n    return response.json()\r\n  },\r\n\r\n  // Change request status\r\n  async changeRequestStatus(id: number, toStatus: string, note?: string): Promise<RequestData> {\r\n    return apiCall<RequestData>(`/requests/${id}/change_status/`, {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({\r\n        to_status: toStatus,\r\n        note: note || \"\",\r\n      }),\r\n    })\r\n  },\r\n\r\n  // List all requests for a specific team via dedicated endpoint\r\n  async listTeamRequests(teamId: string, params?: TeamRequestsParams): Promise<RequestsListResponse> {\r\n    const qp = new URLSearchParams()\r\n    if (params?.category) qp.append(\"category\", params.category)\r\n    if (params?.status) qp.append(\"status\", params.status)\r\n    if (params?.fab_type) qp.append(\"fab_type\", params.fab_type)\r\n    if (params?.search) qp.append(\"search\", params.search)\r\n    if (params?.ordering) qp.append(\"ordering\", params.ordering)\r\n    if (params?.page) qp.append(\"page\", params.page.toString())\r\n    if (params?.page_size) qp.append(\"page_size\", params.page_size.toString())\r\n    const endpoint = `/teams/${teamId}/requests/${qp.toString() ? `?${qp.toString()}` : \"\"}`\r\n    return apiCall<RequestsListResponse>(endpoint)\r\n  },\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 269, "column": 0}, "map": {"version":3,"sources":["file:///D:/Jaswanth/Downloads/smart-india-hackathon-app/components/requests/request-progress.tsx"],"sourcesContent":["\"use client\"\r\nimport React from \"react\"\r\n\r\ninterface RequestProgressProps {\r\n  status: string\r\n}\r\n\r\nconst steps = [\"Submitted\", \"Processing\", \"Issued\"]\r\n\r\nexport function RequestProgress({ status }: RequestProgressProps) {\r\n  return (\r\n    <div className=\"flex items-center gap-2\" aria-label=\"Request status progress\">\r\n      {steps.map((step, idx) => {\r\n        const currentIndex = steps.indexOf(status)\r\n        const done = currentIndex >= idx\r\n        const active = currentIndex === idx\r\n        return (\r\n          <React.Fragment key={step}>\r\n            <div\r\n              className={`flex flex-col items-center text-[10px] font-medium ${done ? \"text-[#002449]\" : \"text-gray-400\"}`}\r\n            >\r\n              <div\r\n                className={`h-2.5 w-2.5 rounded-full ${done ? (active ? \"bg-[#f75700]\" : \"bg-[#002449]\") : \"bg-gray-300\"}`}\r\n              />\r\n              <span className=\"mt-1 tracking-wide\">{step}</span>\r\n            </div>\r\n            {idx < steps.length - 1 && (\r\n              <div\r\n                className={`h-px w-6 ${currentIndex > idx ? \"bg-[#002449]\" : \"bg-gray-300\"}`}\r\n                aria-hidden=\"true\"\r\n              />\r\n            )}\r\n          </React.Fragment>\r\n        )\r\n      })}\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AADA;;;AAOA,MAAM,QAAQ;IAAC;IAAa;IAAc;CAAS;AAE5C,SAAS,gBAAgB,EAAE,MAAM,EAAwB;IAC9D,qBACE,6LAAC;QAAI,WAAU;QAA0B,cAAW;kBACjD,MAAM,GAAG,CAAC,CAAC,MAAM;YAChB,MAAM,eAAe,MAAM,OAAO,CAAC;YACnC,MAAM,OAAO,gBAAgB;YAC7B,MAAM,SAAS,iBAAiB;YAChC,qBACE,6LAAC,wKAAK,CAAC,QAAQ;;kCACb,6LAAC;wBACC,WAAW,CAAC,mDAAmD,EAAE,OAAO,mBAAmB,iBAAiB;;0CAE5G,6LAAC;gCACC,WAAW,CAAC,yBAAyB,EAAE,OAAQ,SAAS,iBAAiB,iBAAkB,eAAe;;;;;;0CAE5G,6LAAC;gCAAK,WAAU;0CAAsB;;;;;;;;;;;;oBAEvC,MAAM,MAAM,MAAM,GAAG,mBACpB,6LAAC;wBACC,WAAW,CAAC,SAAS,EAAE,eAAe,MAAM,iBAAiB,eAAe;wBAC5E,eAAY;;;;;;;eAZG;;;;;QAiBzB;;;;;;AAGN;KA5BgB"}},
    {"offset": {"line": 348, "column": 0}, "map": {"version":3,"sources":["file:///D:/Jaswanth/Downloads/smart-india-hackathon-app/app/requests/%5Bid%5D/page.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useEffect, useState } from \"react\"\r\nimport { useRouter, useParams } from \"next/navigation\"\r\nimport Link from \"next/link\"\r\nimport { authService } from \"@/lib/auth-service\"\r\nimport { requestsService, type RequestData } from \"@/lib/requests-service\"\r\nimport { RequestProgress } from \"@/components/requests/request-progress\"\r\n\r\nexport default function RequestDetailPage() {\r\n  const router = useRouter()\r\n  const params = useParams()\r\n  const requestId = params.id as string\r\n  const [request, setRequest] = useState<RequestData | null>(null)\r\n  const [loading, setLoading] = useState(true)\r\n  const [error, setError] = useState(\"\")\r\n  const [changingStatus, setChangingStatus] = useState(false)\r\n\r\n  const user = authService.getCurrentUser()\r\n\r\n  useEffect(() => {\r\n    const token = authService.getAccessToken()\r\n    if (!token) {\r\n      router.push(\"/login\")\r\n      return\r\n    }\r\n  }, [router])\r\n\r\n  useEffect(() => {\r\n    const fetchRequest = async () => {\r\n      try {\r\n        setLoading(true)\r\n        const data = await requestsService.getRequest(Number.parseInt(requestId))\r\n        setRequest(data)\r\n      } catch (err) {\r\n        console.error(\"[v0] Error fetching request:\", err)\r\n        setError(err instanceof Error ? err.message : \"Failed to load request\")\r\n      } finally {\r\n        setLoading(false)\r\n      }\r\n    }\r\n\r\n    fetchRequest()\r\n  }, [requestId])\r\n\r\n  const handleStatusChange = async (newStatus: string) => {\r\n    if (!request) return\r\n\r\n    try {\r\n      setChangingStatus(true)\r\n      const updated = await requestsService.changeRequestStatus(request.id, newStatus)\r\n      setRequest(updated)\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : \"Failed to update status\")\r\n    } finally {\r\n      setChangingStatus(false)\r\n    }\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-[40vh] flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"w-10 h-10 border-4 border-gray-300 border-t-[#f75700] rounded-full animate-spin mx-auto mb-4\" />\r\n          <p className=\"text-gray-600 font-medium\">Loading request...</p>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  if (!request) {\r\n    return (\r\n      <div className=\"p-6\">\r\n        <p className=\"text-gray-600 text-sm\">{error || \"Request not found\"}</p>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const canChangeStatus = user?.is_poc || user?.is_admin\r\n  const nextStatus =\r\n    request.status === \"Submitted\"\r\n      ? [\"Processing\", \"Cannot be Processed\"]\r\n      : request.status === \"Processing\"\r\n        ? [\"Issued\", \"Cannot be Processed\"]\r\n        : []\r\n\r\n  return (\r\n      <div className=\"max-w-5xl mx-auto\">\r\n        {error && (\r\n          <div className=\"bg-red-50 border border-red-200 rounded-lg p-4 mb-6\">\r\n            <p className=\"text-red-800 text-sm\">{error}</p>\r\n          </div>\r\n        )}\r\n        <div\r\n          className=\"group relative bg-white border border-gray-200 rounded-xl p-6 md:p-8 shadow-sm\"\r\n          style={{ boxShadow: `inset 0 0 0 2px ${accentColor(request.status)}20` }}\r\n        >\r\n          <span className=\"absolute inset-y-0 left-0 w-1 rounded-l-xl\" style={{ backgroundColor: accentColor(request.status) }} />\r\n          <div className=\"flex flex-col lg:flex-row items-start justify-between gap-6 lg:gap-10 mb-6\">\r\n            <div className=\"space-y-3 md:space-y-4 flex-1 min-w-0\">\r\n              <div className=\"flex items-center gap-3 flex-wrap\">\r\n                <span\r\n                  className=\"px-3 py-1 text-xs font-semibold text-white rounded-md\"\r\n                  style={{ backgroundColor: categoryColor(request.category) }}\r\n                >{request.category}</span>\r\n                <RequestProgress status={request.status} />\r\n              </div>\r\n              <h1 className=\"text-2xl md:text-3xl font-bold text-gray-900 tracking-tight line-clamp-3\">{request.notes || 'Request'}</h1>\r\n            </div>\r\n            <div className=\"grid grid-cols-2 sm:grid-cols-3 gap-3 text-[11px] md:text-xs w-full lg:w-auto lg:min-w-[24rem]\">\r\n              <MetaBlock label=\"Created\" value={new Date(request.created_at).toLocaleString()} />\r\n              <MetaBlock label=\"Updated\" value={new Date(request.updated_at).toLocaleString()} />\r\n              <MetaBlock label=\"Status\" value={request.status} />\r\n              {request.position && <MetaBlock label=\"Queue\" value={'#'+request.position} />}\r\n            </div>\r\n          </div>\r\n\r\n          {/* BOM Items */}\r\n          {request.bom_items && request.bom_items.length > 0 && (\r\n            <Section title=\"BOM Items\">\r\n              <table className=\"w-full text-sm table-fixed\">\r\n                <thead className=\"bg-gray-50 border border-gray-200\">\r\n                  <tr>\r\n                    <th className=\"px-3 py-2 text-left font-semibold\">Item Name</th>\r\n                    <th className=\"px-3 py-2 text-right font-semibold\">Qty</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {request.bom_items.map((item: any, idx: number) => (\r\n                    <tr key={idx} className=\"border-b border-gray-100 hover:bg-gray-50\">\r\n                      <td className=\"px-3 py-2\">{item.item_name}</td>\r\n                      <td className=\"px-3 py-2 text-right font-semibold\">{item.quantity}</td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </Section>\r\n          )}\r\n\r\n          {/* Additional Items */}\r\n          {request.additional_items && request.additional_items.length > 0 && (\r\n            <Section title=\"Additional Items\">\r\n              <table className=\"w-full text-sm table-fixed\">\r\n                <thead className=\"bg-gray-50 border border-gray-200\">\r\n                  <tr>\r\n                    <th className=\"px-3 py-2 text-left font-semibold\">Item Name</th>\r\n                    <th className=\"px-3 py-2 text-right font-semibold\">Qty</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {request.additional_items.map((item: any, idx: number) => (\r\n                    <tr key={idx} className=\"border-b border-gray-100 hover:bg-gray-50\">\r\n                      <td className=\"px-3 py-2\">{item.item_name}</td>\r\n                      <td className=\"px-3 py-2 text-right font-semibold\">{item.quantity}</td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </Section>\r\n          )}\r\n\r\n          {/* Fabrication */}\r\n          {request.fabrication && (\r\n            <Section title=\"Fabrication Details\">\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm\">\r\n                <MetaBlock label=\"Type\" value={request.fabrication.fab_type} />\r\n                <MetaBlock label=\"Name\" value={request.fabrication.name} />\r\n              </div>\r\n              {request.fabrication.file && (\r\n                <div className=\"mt-4 pt-4 border-t border-gray-200\">\r\n                  <a\r\n                    href={request.fabrication.file}\r\n                    target=\"_blank\"\r\n                    rel=\"noopener noreferrer\"\r\n                    className=\"inline-flex items-center px-3 py-1.5 rounded-md border border-gray-300 text-xs font-medium text-[#002449] hover:bg-gray-50\"\r\n                  >Download File â†’</a>\r\n                </div>\r\n              )}\r\n            </Section>\r\n          )}\r\n\r\n          {/* Status Actions */}\r\n          {canChangeStatus && nextStatus.length > 0 && (\r\n            <div className=\"pt-6 mt-6 border-t border-gray-200\">\r\n              <h2 className=\"text-sm font-semibold mb-4\" style={{color:'#f75700'}}>Update Status</h2>\r\n              <div className=\"flex flex-wrap gap-2\">\r\n                {nextStatus.map((status) => (\r\n                  <button\r\n                    key={status}\r\n                    onClick={() => handleStatusChange(status)}\r\n                    disabled={changingStatus}\r\n                    className=\"px-4 py-2 text-xs font-semibold rounded-md text-white\"\r\n                    style={{ backgroundColor: status === 'Cannot be Processed' ? '#f75700' : '#078e31' }}\r\n                  >\r\n                    {changingStatus ? 'Updating...' : status === 'Cannot be Processed' ? 'Reject' : 'Mark ' + status}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n  )\r\n\r\n}\r\n\r\n\r\nfunction categoryColor(cat: string) {\r\n  if (cat === 'BOM') return '#002449'\r\n  if (cat === 'ADDITIONAL') return '#007367'\r\n  return '#f75700'\r\n}\r\nfunction accentColor(status: string) {\r\n  if (status === 'Submitted') return '#f75700'\r\n  if (status === 'Processing') return '#002449'\r\n  if (status === 'Issued') return '#078e31'\r\n  return '#6b7280'\r\n}\r\nfunction MetaBlock({ label, value }: { label: string; value: string }) {\r\n  return (\r\n    <div className=\"space-y-1\">\r\n      <p className=\"text-[10px] uppercase tracking-wide text-gray-500 font-medium\">{label}</p>\r\n      <p className=\"text-xs font-semibold text-gray-900 truncate whitespace-nowrap max-w-[12rem]\" title={value}>{value}</p>\r\n    </div>\r\n  )\r\n}\r\nfunction Section({ title, children }: { title: string; children: React.ReactNode }) {\r\n  return (\r\n    <div className=\"mb-8\">\r\n      <h2 className=\"text-sm font-semibold mb-3\" style={{color:'#002449'}}>{title}</h2>\r\n      <div className=\"rounded-lg border border-gray-200 bg-white overflow-hidden p-2 md:p-3\">\r\n        {children}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n// Duplicate legacy blocks removed to resolve parse error.\r\n"],"names":[],"mappings":"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"}}]
}