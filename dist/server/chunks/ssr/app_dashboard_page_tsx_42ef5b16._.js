module.exports=[20731,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(3130),f=a.i(11634);let g={data:null,ts:0},h={data:[],ts:0};async function i(a=!1){let b=Date.now();if(!a&&g.data&&b-g.ts<12e4)return g.data;let c=await f.authService.getTeamDetails();return g={data:c,ts:b},c}async function j(a=!1){let b=Date.now();if(!a&&h.data.length&&b-h.ts<6e4)return h.data;let c=await f.authService.getPOCTeams();return h={data:c,ts:b},c}var k=a.i(92e3),l=a.i(70106);let m=(0,l.default)("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var n=a.i(92258);let o=(0,l.default)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);function p({user:a}){let[d,f]=(0,c.useState)(null),[g,h]=(0,c.useState)(!0),[j,l]=(0,c.useState)(null);if((0,c.useEffect)(()=>{(async()=>{try{let a=await i();f(a)}catch(a){l({type:"error",title:"Error",message:a.message||"Failed to load team"})}finally{h(!1)}})()},[]),g)return(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[1,2,3,4].map(a=>(0,b.jsxs)(e.Card,{className:"p-6 animate-pulse",children:[(0,b.jsx)("div",{className:"h-4 bg-muted rounded w-3/4 mb-4"}),(0,b.jsx)("div",{className:"h-12 bg-muted rounded"})]},a))});let p=a?.name?.split(" ")[0]||"Leader";return(0,b.jsxs)("div",{className:"space-y-10",children:[(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsxs)("h2",{className:"text-xl md:text-2xl font-semibold tracking-tight",style:{color:"#002449"},children:["Hello ",p,","]}),(0,b.jsx)("p",{className:"text-sm md:text-base text-muted-foreground",children:"Here is an overview of your team and its members."})]}),j&&(0,b.jsx)(e.Card,{className:"p-4 bg-destructive/5 border border-destructive/20",children:(0,b.jsxs)("p",{className:"text-destructive font-medium flex items-center gap-2",children:[(0,b.jsx)(k.AlertCircle,{className:"w-5 h-5"}),j.message]})}),d?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(e.Card,{className:"p-6 border-border shadow-sm",children:(0,b.jsxs)("div",{className:"flex flex-col gap-4 md:flex-row md:items-start md:justify-between",children:[(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("h3",{className:"text-2xl md:text-3xl font-bold tracking-tight",style:{color:"#002449"},children:d.name}),d.problem_statement?.title&&(0,b.jsx)("p",{className:"mt-2 text-sm md:text-base text-muted-foreground leading-relaxed line-clamp-3",children:d.problem_statement.title})]}),d.problem_statement?.id&&(0,b.jsx)("div",{className:"flex items-start gap-2 md:pl-4",children:(0,b.jsxs)("span",{className:"px-3 py-1.5 rounded-lg text-xs md:text-sm font-semibold tracking-wide bg-[#f75700]/10 text-[#f75700] border border-[#f75700]/30 shadow-sm",children:["PS ID: ",d.problem_statement.id]})})]})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,b.jsxs)(e.Card,{className:"p-4 border border-gray-200 shadow-sm hover:shadow-md transition",children:[(0,b.jsx)("h3",{className:"text-base font-semibold mb-2",style:{color:"#002449"},children:"Team"}),(0,b.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs uppercase tracking-wide text-muted-foreground",children:"Institution"}),(0,b.jsx)("p",{className:"font-medium text-sm truncate",children:d.institution})]}),d.problem_statement?.title&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs uppercase tracking-wide text-muted-foreground",children:"Problem Statement"}),(0,b.jsx)("p",{className:"font-medium text-sm line-clamp-3",children:d.problem_statement.title})]})]})]}),(0,b.jsxs)(e.Card,{className:"p-4 border border-[#007367]/40 shadow-sm hover:shadow-md transition bg-[#007367]/5",children:[(0,b.jsxs)("h3",{className:"text-base font-semibold mb-2 flex items-center gap-2",style:{color:"#007367"},children:["POC Details ",d.poc?.is_verified_poc&&(0,b.jsx)(m,{className:"w-4 h-4 text-green-600"})]}),(0,b.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,b.jsxs)("div",{className:"flex items-start gap-2",children:[(0,b.jsx)("div",{className:"mt-0.5 text-muted-foreground",children:(0,b.jsx)(m,{className:"w-3 h-3 opacity-0"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-xs uppercase tracking-wide text-muted-foreground",children:"Name"}),(0,b.jsx)("p",{className:"font-medium text-sm truncate",children:d.poc?.name||"-"})]})]}),(0,b.jsxs)("div",{className:"flex items-start gap-2",children:[(0,b.jsx)(n.Mail,{className:"w-4 h-4 text-muted-foreground"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-xs uppercase tracking-wide text-muted-foreground",children:"Email"}),(0,b.jsx)("p",{className:"font-medium text-sm break-all",children:d.poc?.email||"-"})]})]}),(0,b.jsxs)("div",{className:"flex items-start gap-2",children:[(0,b.jsx)(o,{className:"w-4 h-4 text-muted-foreground"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-xs uppercase tracking-wide text-muted-foreground",children:"Phone"}),(0,b.jsx)("p",{className:"font-medium text-sm",children:d.poc?.phone||"-"})]})]})]})]}),(0,b.jsxs)(e.Card,{className:"p-4 border border-gray-200 shadow-sm hover:shadow-md transition",children:[(0,b.jsx)("h3",{className:"text-base font-semibold mb-2",style:{color:"#002449"},children:"Mentor Details"}),(0,b.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs uppercase tracking-wide text-muted-foreground",children:"Name"}),(0,b.jsx)("p",{className:"font-medium text-sm truncate",children:d.faculty_mentor?.name||"-"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs uppercase tracking-wide text-muted-foreground",children:"Email"}),(0,b.jsx)("p",{className:"font-medium text-sm break-all",children:d.faculty_mentor?.email||"-"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs uppercase tracking-wide text-muted-foreground",children:"Phone"}),(0,b.jsx)("p",{className:"font-medium text-sm",children:d.faculty_mentor?.phone||"-"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs uppercase tracking-wide text-muted-foreground",children:"Designation"}),(0,b.jsx)("p",{className:"font-medium text-sm truncate",children:d.faculty_mentor?.designation||"-"})]})]})]}),(0,b.jsxs)(e.Card,{className:"p-4 border border-gray-200 shadow-sm hover:shadow-md transition",children:[(0,b.jsx)("h3",{className:"text-base font-semibold mb-2",style:{color:"#002449"},children:"Members"}),(0,b.jsx)("div",{className:"space-y-2 max-h-56 overflow-auto pr-1",children:d.members?.map((a,c)=>(0,b.jsxs)("div",{className:"flex flex-col border-b last:border-b-0 border-border pb-2",children:[(0,b.jsx)("p",{className:"text-sm font-medium truncate",children:a.user.name}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground break-all",children:a.user.email}),(0,b.jsx)("span",{className:"text-[10px] font-semibold mt-0.5 tracking-wide uppercase",style:{color:"#f75700"},children:a.role})]},c))})]})]})]}):(0,b.jsxs)(e.Card,{className:"p-12 text-center",children:[(0,b.jsx)(k.AlertCircle,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),(0,b.jsx)("p",{className:"text-muted-foreground font-medium",children:"No team data available"})]})]})}let q=(0,l.default)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),r=(0,l.default)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),s=(0,l.default)("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]),t=(0,l.default)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),u=(0,l.default)("UserRound",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]);var v=a.i(90599),w=a.i(40695);function x(){let a=(0,d.useRouter)(),[g,h]=(0,c.useState)(null),[i,j]=(0,c.useState)(null),[l,m]=(0,c.useState)(!0);return((0,c.useEffect)(()=>{let b=f.authService.getAccessToken();if(!b)return void a.push("/login");try{let a=b.split(".");if(3===a.length){let b=JSON.parse(atob(a[1]));b.is_poc?h("poc"):h("leader"),j(b)}}catch(a){console.error("Error decoding token:",a)}m(!1)},[a]),l)?(0,b.jsx)(v.DashboardShell,{children:(0,b.jsx)("div",{className:"min-h-[40vh] flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"w-12 h-12 border-4 border-accent border-t-primary rounded-full animate-spin mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-muted-foreground font-medium",children:"Loading dashboard..."})]})})}):(0,b.jsxs)(v.DashboardShell,{children:["leader"===g&&(0,b.jsx)(p,{user:i}),"poc"===g&&(0,b.jsx)(y,{user:i}),!g&&(0,b.jsxs)(e.Card,{className:"p-12 text-center",children:[(0,b.jsx)(k.AlertCircle,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),(0,b.jsx)("p",{className:"text-muted-foreground font-medium",children:"Unable to determine user role"})]})]})}function y({user:a}){let[f,g]=(0,c.useState)([]),[h,i]=(0,c.useState)(!0),[l,m]=(0,c.useState)(null),[n,o]=(0,c.useState)(null),p=(0,d.useRouter)();return((0,c.useEffect)(()=>{(async()=>{try{let a=await j();g(a)}catch(a){o({type:"error",title:"Error",message:a.message||"Failed to load teams"})}finally{i(!1)}})()},[]),h)?(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(a=>(0,b.jsxs)(e.Card,{className:"p-6 animate-pulse",children:[(0,b.jsx)("div",{className:"h-4 bg-muted rounded w-3/4 mb-4"}),(0,b.jsx)("div",{className:"h-12 bg-muted rounded"})]},a))}):(0,b.jsxs)("div",{className:"space-y-6","aria-label":"POC dashboard overview",children:[(0,b.jsxs)("header",{className:"space-y-1",children:[(0,b.jsxs)("h2",{className:"text-2xl md:text-3xl font-bold tracking-tight flex items-center gap-2",style:{color:"#002449"},children:[(0,b.jsx)(q,{className:"w-6 h-6 text-[#002449]"})," Welcome, ",a?.name?.split(" ")[0]||"POC"]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Focused view of assigned teams."})]}),n&&(0,b.jsx)(e.Card,{className:"p-4 bg-destructive/5 border border-destructive/20 rounded-lg",role:"alert","aria-live":"polite",children:(0,b.jsxs)("p",{className:"text-destructive font-medium flex items-center gap-2 text-sm",children:[(0,b.jsx)(k.AlertCircle,{className:"w-4 h-4"})," ",n.message]})}),f.length>0?(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4","aria-label":"Assigned teams list",children:f.map(a=>(0,b.jsx)(z,{team:a,onView:()=>p.push(`/poc/teams/${a.id}`)},a.id))}):(0,b.jsxs)(e.Card,{className:"p-10 text-center rounded-xl",children:[(0,b.jsx)(q,{className:"w-10 h-10 mx-auto text-muted-foreground mb-3"}),(0,b.jsx)("p",{className:"text-muted-foreground font-medium",children:"No teams assigned yet"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Check back later for team assignments"})]})]})}function z({team:a,onView:c}){let d=Array.isArray(a.members)?a.members.find(a=>a.role?.toLowerCase()==="leader")?.user?.name||"-":a.leader_name||"-",f=a.problem_statement?.id;return(0,b.jsxs)(e.Card,{role:"group","aria-label":`Team ${a.name}`,className:"p-4 rounded-xl border border-gray-200 bg-white shadow-sm hover:shadow-md transition flex flex-col gap-3",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,b.jsx)("h3",{className:"font-semibold text-base leading-snug line-clamp-2",style:{color:"#002449"},children:a.name}),(0,b.jsxs)(w.Button,{onClick:c,size:"sm",variant:"outline",className:"shrink-0 gap-1 text-xs","aria-label":`View details for team ${a.name}`,children:["View ",(0,b.jsx)(r,{className:"w-3 h-3"})]})]}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground flex items-center gap-1 truncate",children:[(0,b.jsx)(u,{className:"w-3 h-3"})," Leader: ",(0,b.jsx)("span",{className:"font-medium",children:d})]}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground flex items-center gap-1 truncate",children:[(0,b.jsx)(t,{className:"w-3 h-3"})," ",a.institution]}),f&&(0,b.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md text-[10px] font-semibold tracking-wide bg-[#f75700]/10 text-[#f75700] border border-[#f75700]/30 w-fit",children:[(0,b.jsx)(s,{className:"w-3 h-3"})," PS ID: ",f]})]})}a.s(["default",()=>x],20731)}];

//# sourceMappingURL=app_dashboard_page_tsx_42ef5b16._.js.map